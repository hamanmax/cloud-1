this.kubio=this.kubio||{},this.kubio.editor=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=544)}({0:function(e,t){!function(){e.exports=this.wp.element}()},1:function(e,t){!function(){e.exports=this.wp.i18n}()},10:function(e,t){!function(){e.exports=this.wp.compose}()},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return Oe})),n.d(t,"b",(function(){return je})),n.d(t,"c",(function(){return le}));var o=n(7);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function a(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=n(29);function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach((function(t){Object(l.a)(e,t,n[t])}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var p=n(38);function m(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(p.a)(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var O=n(118);function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Object(O.a)(e,t)}var h=n(11),j=n(16),E=n.n(j),v=n(69),y=n(80),_=n.n(y);function k(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(){function e(){s(this,e),Object(l.a)(this,"refs",{})}return b(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(w)}}]),e}();function w(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function T(e,t){return Object.keys(e).reduce((function(n,o){return-1===t.indexOf(o)&&(n[o]=e[o]),n}),{})}var x={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},I=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"ms"===t?"ms":t&&t.length?t[0].toUpperCase()+t.substr(1):""}();function C(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function P(e,t){e.style["".concat(I,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function R(e,t){e.style["".concat(I,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function N(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function A(e,t,n){return Math.max(e,Math.min(n,t))}function B(e){return"px"===e.substr(-2)?parseFloat(e):0}function D(e){var t=window.getComputedStyle(e);return{bottom:B(t.marginBottom),left:B(t.marginLeft),right:B(t.marginRight),top:B(t.marginTop)}}function M(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function L(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function F(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function z(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var o={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?o:G(e.parentNode,t,o)}}function K(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}function H(e){var t=e.lockOffset,n=e.width,o=e.height,r=t,a=t,i="px";if("string"==typeof t){var l=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);_()(null!==l,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),r=parseFloat(t),a=parseFloat(t),i=l[1]}return _()(isFinite(r)&&isFinite(a),"lockOffset value should be a finite. Given %s",t),"%"===i&&(r=r*n/100,a=a*o/100),{x:r,y:a}}function V(e){var t=e.height,n=e.width,o=e.lockOffset,r=Array.isArray(o)?o:[o,o];_()(2===r.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",o);var a=i(r,2),l=a[0],c=a[1];return[H({height:t,lockOffset:l,width:n}),H({height:t,lockOffset:c,width:n})]}function U(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return n.test(t[e])}))}(e)?e:U(e.parentNode):null}function $(e){var t=window.getComputedStyle(e);return"grid"===t.display?{x:B(t.gridColumnGap),y:B(t.gridRowGap)}:{x:0,y:0}}var Y=27,W=32,q=37,X=38,Q=39,Z=40,J="A",ee="BUTTON",te="CANVAS",ne="INPUT",oe="OPTION",re="TEXTAREA",ae="SELECT";function ie(e){var t="input, textarea, select, canvas, [contenteditable]",n=e.querySelectorAll(t),o=e.cloneNode(!0);return k(o.querySelectorAll(t)).forEach((function(e,t){("file"!==e.type&&(e.value=n[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===te&&n[t].width>0&&n[t].height>0)&&e.getContext("2d").drawImage(n[t],0,0)})),o}function le(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return s(this,n),m(this,f(n).apply(this,arguments))}return g(n,t),b(n,[{key:"componentDidMount",value:function(){Object(v.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return _()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return Object(h.createElement)(e,Object(o.a)({ref:t},this.props))}}]),n}(h.Component),Object(l.a)(t,"displayName",M("sortableHandle",e)),n}function ce(e){return null!=e.sortableHandle}var se=function(){function e(t,n){s(this,e),this.container=t,this.onScrollCallback=n}return b(e,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var t=this,n=e.translate,o=e.minTranslate,r=e.maxTranslate,a=e.width,i=e.height,l={x:0,y:0},c={x:1,y:1},s=10,u=10,b=this.container,d=b.scrollTop,p=b.scrollLeft,m=b.scrollHeight,f=b.scrollWidth,O=0===d,g=m-d-b.clientHeight==0,h=0===p,j=f-p-b.clientWidth==0;n.y>=r.y-i/2&&!g?(l.y=1,c.y=u*Math.abs((r.y-i/2-n.y)/i)):n.x>=r.x-a/2&&!j?(l.x=1,c.x=s*Math.abs((r.x-a/2-n.x)/a)):n.y<=o.y+i/2&&!O?(l.y=-1,c.y=u*Math.abs((n.y-i/2-o.y)/i)):n.x<=o.x+a/2&&!h&&(l.x=-1,c.x=s*Math.abs((n.x-a/2-o.x)/a)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===l.x&&0===l.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:c.x*l.x,top:c.y*l.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}();var ue={axis:E.a.oneOf(["x","y","xy"]),contentWindow:E.a.any,disableAutoscroll:E.a.bool,distance:E.a.number,getContainer:E.a.func,getHelperDimensions:E.a.func,helperClass:E.a.string,helperContainer:E.a.oneOfType([E.a.func,"undefined"==typeof HTMLElement?E.a.any:E.a.instanceOf(HTMLElement)]),hideSortableGhost:E.a.bool,keyboardSortingTransitionDuration:E.a.number,lockAxis:E.a.string,lockOffset:E.a.oneOfType([E.a.number,E.a.string,E.a.arrayOf(E.a.oneOfType([E.a.number,E.a.string]))]),lockToContainerEdges:E.a.bool,onSortEnd:E.a.func,onSortMove:E.a.func,onSortOver:E.a.func,onSortStart:E.a.func,pressDelay:E.a.number,pressThreshold:E.a.number,keyCodes:E.a.shape({lift:E.a.arrayOf(E.a.number),drop:E.a.arrayOf(E.a.number),cancel:E.a.arrayOf(E.a.number),up:E.a.arrayOf(E.a.number),down:E.a.arrayOf(E.a.number)}),shouldCancelStart:E.a.func,transitionDuration:E.a.number,updateBeforeSortStart:E.a.func,useDragHandle:E.a.bool,useWindowAsScrollContainer:E.a.bool},be={lift:[W],drop:[W],cancel:[Y],up:[X,q],down:[Z,Q]},de={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:be,shouldCancelStart:function(e){return-1!==[ne,re,ae,oe,ee].indexOf(e.target.tagName)||!!N(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},pe=Object.keys(ue);function me(e){_()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function fe(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}function Oe(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){var t;return s(this,n),t=m(this,f(n).call(this,e)),Object(l.a)(Object(p.a)(Object(p.a)(t)),"state",{}),Object(l.a)(Object(p.a)(Object(p.a)(t)),"handleStart",(function(e){var n=t.props,o=n.distance,r=n.shouldCancelStart;if(2!==e.button&&!r(e)){t.touched=!0,t.position=F(e);var a=N(e.target,(function(e){return null!=e.sortableInfo}));if(a&&a.sortableInfo&&t.nodeIsChild(a)&&!t.state.sorting){var i=t.props.useDragHandle,l=a.sortableInfo,c=l.index,s=l.collection;if(l.disabled)return;if(i&&!N(e.target,ce))return;t.manager.active={collection:s,index:c},z(e)||e.target.tagName!==J||e.preventDefault(),o||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),Object(l.a)(Object(p.a)(Object(p.a)(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),Object(l.a)(Object(p.a)(Object(p.a)(t)),"handleMove",(function(e){var n=t.props,o=n.distance,r=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var a=F(e),i={x:t.position.x-a.x,y:t.position.y-a.y},l=Math.abs(i.x)+Math.abs(i.y);t.delta=i,o||r&&!(l>=r)?o&&l>=o&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),Object(l.a)(Object(p.a)(Object(p.a)(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),Object(l.a)(Object(p.a)(Object(p.a)(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),Object(l.a)(Object(p.a)(Object(p.a)(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),o=function(){if(n){var o=function(){var n=p.sortableInfo.index,o=D(p),r=$(t.container),u=t.scrollContainer.getBoundingClientRect(),O=i({index:n,node:p,collection:m});if(t.node=p,t.margin=o,t.gridGap=r,t.width=O.width,t.height=O.height,t.marginOffset={x:t.margin.left+t.margin.right+t.gridGap.x,y:Math.max(t.margin.top,t.margin.bottom,t.gridGap.y)},t.boundingClientRect=p.getBoundingClientRect(),t.containerBoundingRect=u,t.index=n,t.newIndex=n,t.axis={x:a.indexOf("x")>=0,y:a.indexOf("y")>=0},t.offsetEdge=G(p,t.container),t.initialOffset=F(f?c({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild(ie(p)),C(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-o.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-o.top,"px"),width:"".concat(t.width,"px")}),f&&t.helper.focus(),s&&(t.sortableGhost=p,C(p,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},f){var g=d?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,h=g.top,j=g.left,E=g.width,v=h+g.height,y=j+E;t.axis.x&&(t.minTranslate.x=j-t.boundingClientRect.left,t.maxTranslate.x=y-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=h-t.boundingClientRect.top,t.maxTranslate.y=v-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(d?0:u.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(d?t.contentWindow.innerWidth:u.left+u.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(d?0:u.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(d?t.contentWindow.innerHeight:u.top+u.height)-t.boundingClientRect.top-t.height/2);l&&l.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?p:t.contentWindow,f?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(x.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),x.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:n}),b&&b({node:p,index:n,collection:m,isKeySorting:f,nodes:t.manager.getOrderedRefs(),helper:t.helper},e),f&&t.keyMove(0)},r=t.props,a=r.axis,i=r.getHelperDimensions,l=r.helperClass,s=r.hideSortableGhost,u=r.updateBeforeSortStart,b=r.onSortStart,d=r.useWindowAsScrollContainer,p=n.node,m=n.collection,f=t.manager.isKeySorting,O=function(){if("function"==typeof u){t._awaitingUpdateBeforeSortStart=!0;var n=fe((function(){var t=p.sortableInfo.index;return Promise.resolve(u({collection:m,index:t,node:p,isKeySorting:f},e)).then((function(){}))}),(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return O&&O.then?O.then(o):o()}}();return Promise.resolve(o&&o.then?o.then((function(){})):void 0)}catch(e){return Promise.reject(e)}})),Object(l.a)(Object(p.a)(Object(p.a)(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),Object(l.a)(Object(p.a)(Object(p.a)(t)),"handleSortEnd",(function(e){var n=t.props,o=n.hideSortableGhost,r=n.onSortEnd,a=t.manager,i=a.active.collection,l=a.isKeySorting,c=t.manager.getOrderedRefs();t.listenerNode&&(l?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(x.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),x.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),o&&t.sortableGhost&&C(t.sortableGhost,{opacity:"",visibility:""});for(var s=0,u=c.length;s<u;s++){var b=c[s],d=b.node;b.edgeOffset=null,b.boundingClientRect=null,P(d,null),R(d,null),b.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof r&&r({collection:i,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:l,nodes:c},e),t.touched=!1})),Object(l.a)(Object(p.a)(Object(p.a)(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(e)t.autoScroller.clear();else{if(n){var o=c({},t.translate),r=0,a=0;return t.axis.x&&(o.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),r=t.translate.x-o.x),t.axis.y&&(o.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),a=t.translate.y-o.y),t.translate=o,P(t.helper,t.translate),t.scrollContainer.scrollLeft+=r,void(t.scrollContainer.scrollTop+=a)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),Object(l.a)(Object(p.a)(Object(p.a)(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),Object(l.a)(Object(p.a)(Object(p.a)(t)),"handleKeyDown",(function(e){var n=e.keyCode,o=t.props,r=o.shouldCancelStart,a=o.keyCodes,i=c({},be,void 0===a?{}:a);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||i.lift.includes(n)&&!r(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),i.lift.includes(n)&&!t.manager.active?t.keyLift(e):i.drop.includes(n)&&t.manager.active?t.keyDrop(e):i.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):i.up.includes(n)?t.keyMove(-1):i.down.includes(n)&&t.keyMove(1))})),Object(l.a)(Object(p.a)(Object(p.a)(t)),"keyLift",(function(e){var n=e.target,o=N(n,(function(e){return null!=e.sortableInfo})).sortableInfo,r=o.index,a=o.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:r,collection:a},t.handlePress(e)})),Object(l.a)(Object(p.a)(Object(p.a)(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),o=n[n.length-1].node.sortableInfo.index,r=t.newIndex+e,a=t.newIndex;if(!(r<0||r>o)){t.prevIndex=a,t.newIndex=r;var i=K(t.newIndex,t.prevIndex,t.index),l=n.find((function(e){return e.node.sortableInfo.index===i})),c=l.node,s=t.containerScrollDelta,u=l.boundingClientRect||L(c,s),b=l.translate||{x:0,y:0},d=u.top+b.y-s.top,p=u.left+b.x-s.left,m=a<r,f=m&&t.axis.x?c.offsetWidth-t.width:0,O=m&&t.axis.y?c.offsetHeight-t.height:0;t.handleSortMove({pageX:p+f,pageY:d+O,ignoreTransition:0===e})}})),Object(l.a)(Object(p.a)(Object(p.a)(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),Object(l.a)(Object(p.a)(Object(p.a)(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),Object(l.a)(Object(p.a)(Object(p.a)(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,o=e.target,r=N(o,(function(e){return null!=e.sortableInfo}));return r&&r.sortableInfo&&!r.sortableInfo.disabled&&(n?ce(o):o.sortableInfo)})),me(e),t.manager=new S,t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return g(n,t),b(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var o=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof o?o():o,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:U(e.container)||e.container,e.autoScroller=new se(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return x[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return x[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,o=t.lockOffset,r=t.lockToContainerEdges,a=t.transitionDuration,l=t.keyboardSortingTransitionDuration,c=void 0===l?a:l,s=this.manager.isKeySorting,u=e.ignoreTransition,b=F(e),d={x:b.x-this.initialOffset.x,y:b.y-this.initialOffset.y};if(d.y-=window.pageYOffset-this.initialWindowScroll.top,d.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=d,r){var p=i(V({height:this.height,lockOffset:o,width:this.width}),2),m=p[0],f=p[1],O={x:this.width/2-m.x,y:this.height/2-m.y},g={x:this.width/2-f.x,y:this.height/2-f.y};d.x=A(this.minTranslate.x+O.x,this.maxTranslate.x-g.x,d.x),d.y=A(this.minTranslate.y+O.y,this.maxTranslate.y-g.y,d.y)}"x"===n?d.y=0:"y"===n&&(d.x=0),s&&c&&!u&&R(this.helper,c),P(this.helper,d)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,o=e.onSortOver,r=this.containerScrollDelta,a=this.windowScrollDelta,i=this.manager.getOrderedRefs(),l=this.offsetEdge.left+this.translate.x+r.left,c=this.offsetEdge.top+this.translate.y+r.top,s=this.manager.isKeySorting,u=this.newIndex;this.newIndex=null;for(var b=0,d=i.length;b<d;b++){var p=i[b].node,m=p.sortableInfo.index,f=p.offsetWidth,O=p.offsetHeight,g={height:this.height>O?O/2:this.height/2,width:this.width>f?f/2:this.width/2},h=s&&m>this.index&&m<=u,j=s&&m<this.index&&m>=u,E={x:0,y:0},v=i[b].edgeOffset;v||(v=G(p,this.container),i[b].edgeOffset=v,s&&(i[b].boundingClientRect=L(p,r)));var y=b<i.length-1&&i[b+1],_=b>0&&i[b-1];y&&!y.edgeOffset&&(y.edgeOffset=G(y.node,this.container),s&&(y.boundingClientRect=L(y.node,r))),m!==this.index?(t&&R(p,t),this.axis.x?this.axis.y?j||m<this.index&&(l+a.left-g.width<=v.left&&c+a.top<=v.top+g.height||c+a.top+g.height<=v.top)?(E.x=this.width+this.marginOffset.x,v.left+E.x>this.containerBoundingRect.width-g.width&&y&&(E.x=y.edgeOffset.left-v.left,E.y=y.edgeOffset.top-v.top),null===this.newIndex&&(this.newIndex=m)):(h||m>this.index&&(l+a.left+g.width>=v.left&&c+a.top+g.height>=v.top||c+a.top+g.height>=v.top+O))&&(E.x=-(this.width+this.marginOffset.x),v.left+E.x<this.containerBoundingRect.left+g.width&&_&&(E.x=_.edgeOffset.left-v.left,E.y=_.edgeOffset.top-v.top),this.newIndex=m):h||m>this.index&&l+a.left+g.width>=v.left?(E.x=-(this.width+this.marginOffset.x),this.newIndex=m):(j||m<this.index&&l+a.left<=v.left+g.width)&&(E.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=m)):this.axis.y&&(h||m>this.index&&c+a.top+g.height>=v.top?(E.y=-(this.height+this.marginOffset.y),this.newIndex=m):(j||m<this.index&&c+a.top<=v.top+g.height)&&(E.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=m))),P(p,E),i[b].translate=E):n&&(this.sortableGhost=p,C(p,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),s&&(this.newIndex=u);var k=s?this.prevIndex:u;o&&this.newIndex!==k&&o({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:k,isKeySorting:s,nodes:i,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return _()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?Object(v.findDOMNode)(this):e(r.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return Object(h.createElement)(e,Object(o.a)({ref:t},T(this.props,pe)))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(h.Component),Object(l.a)(t,"displayName",M("sortableList",e)),Object(l.a)(t,"defaultProps",de),Object(l.a)(t,"propTypes",ue),Object(l.a)(t,"childContextTypes",{manager:E.a.object.isRequired}),n}var ge={index:E.a.number.isRequired,collection:E.a.oneOfType([E.a.number,E.a.string]),disabled:E.a.bool},he=Object.keys(ge);function je(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return s(this,n),m(this,f(n).apply(this,arguments))}return g(n,t),b(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,o=e.index,r=Object(v.findDOMNode)(this);r.sortableInfo={collection:t,disabled:n,index:o,manager:this.context.manager},this.node=r,this.ref={node:r},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return _()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return Object(h.createElement)(e,Object(o.a)({ref:t},T(this.props,he)))}}]),n}(h.Component),Object(l.a)(t,"displayName",M("sortableElement",e)),Object(l.a)(t,"contextTypes",{manager:E.a.object.isRequired}),Object(l.a)(t,"propTypes",ge),Object(l.a)(t,"defaultProps",{collection:0}),n}},104:function(e,t,n){"use strict";var o=n(0);t.a=function(e){let{icon:t,size:n=24,...r}=e;return Object(o.cloneElement)(t,{width:n,height:n,...r})}},11:function(e,t){!function(){e.exports=this.React}()},118:function(e,t,n){"use strict";function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}n.d(t,"a",(function(){return o}))},12:function(e,t){!function(){e.exports=this.wp.blocks}()},120:function(e,t){!function(){e.exports=this.wp.mediaUtils}()},13:function(e,t,n){var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)){if(o.length){var i=r.apply(null,o);i&&e.push(i)}}else if("object"===a)if(o.toString===Object.prototype.toString)for(var l in o)n.call(o,l)&&o[l]&&e.push(l);else e.push(o.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},14:function(e,t){!function(){e.exports=this.wp.blockEditor}()},142:function(e,t){!function(){e.exports=this.kubio.blockPatterns}()},148:function(e,t,n){"use strict";var o=n(149);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,i){if(i!==o){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},149:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},15:function(e,t){!function(){e.exports=this.kubio.icons}()},158:function(e,t,n){e.exports=n(250)},16:function(e,t,n){e.exports=n(148)()},19:function(e,t){!function(){e.exports=this.kubio.utils}()},198:function(e,t,n){"use strict";var o=n(0),r=n(6);const a=Object(o.createElement)(r.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M8 7h2V5H8v2zm0 6h2v-2H8v2zm0 6h2v-2H8v2zm6-14v2h2V5h-2zm0 8h2v-2h-2v2zm0 6h2v-2h-2v2z"}));t.a=a},2:function(e,t){!function(){e.exports=this.lodash}()},20:function(e,t){!function(){e.exports=this.kubio.inspectors}()},21:function(e,t){!function(){e.exports=this.kubio.constants}()},216:function(e,t){!function(){e.exports=this.kubio.wpGlobalStyles}()},217:function(e,t){!function(){e.exports=this.wp.plugins}()},218:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"STORE_KEY",{enumerable:!0,get:function(){return o.STORE_KEY}}),t.STORE_NAME=void 0;var o=n(21);const r=o.STORE_KEY;t.STORE_NAME=r},219:function(e,t){!function(){e.exports=this.wp.dataControls}()},225:function(e,t){!function(){e.exports=this.wp.blockLibrary}()},226:function(e,t,n){"use strict";var o=n(0),r=n(6);const a=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}));t.a=a},23:function(e,t){!function(){e.exports=this.wp.hooks}()},25:function(e,t){!function(){e.exports=this.kubio.globalData}()},250:function(e,t,n){var o;!function(n){"use strict";var r={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"Ae","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"Oe","Ő":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"Ue","Ű":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"ae","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"oe","ő":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"ue","ű":"u","ý":"y","þ":"th","ÿ":"y","ẞ":"SS","ا":"a","أ":"a","إ":"i","آ":"aa","ؤ":"u","ئ":"e","ء":"a","ب":"b","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ي":"y","ى":"a","ة":"h","ﻻ":"la","ﻷ":"laa","ﻹ":"lai","ﻵ":"laa","گ":"g","چ":"ch","پ":"p","ژ":"zh","ک":"k","ی":"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","က":"k","ခ":"kh","ဂ":"g","ဃ":"ga","င":"ng","စ":"s","ဆ":"sa","ဇ":"z","စျ":"za","ည":"ny","ဋ":"t","ဌ":"ta","ဍ":"d","ဎ":"da","ဏ":"na","တ":"t","ထ":"ta","ဒ":"d","ဓ":"da","န":"n","ပ":"p","ဖ":"pa","ဗ":"b","ဘ":"ba","မ":"m","ယ":"y","ရ":"ya","လ":"l","ဝ":"w","သ":"th","ဟ":"h","ဠ":"la","အ":"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h","ဧ":"e","၏":"-e","ဣ":"i","ဤ":"-i","ဉ":"u","ဦ":"-u","ဩ":"aw","သြော":"aw","ဪ":"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"","č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z","ހ":"h","ށ":"sh","ނ":"n","ރ":"r","ބ":"b","ޅ":"lh","ކ":"k","އ":"a","ވ":"v","މ":"m","ފ":"f","ދ":"dh","ތ":"th","ލ":"l","ގ":"g","ޏ":"gn","ސ":"s","ޑ":"d","ޒ":"z","ޓ":"t","ޔ":"y","ޕ":"p","ޖ":"j","ޗ":"ch","ޘ":"tt","ޙ":"hh","ޚ":"kh","ޛ":"th","ޜ":"z","ޝ":"sh","ޞ":"s","ޟ":"d","ޠ":"t","ޡ":"z","ޢ":"a","ޣ":"gh","ޤ":"q","ޥ":"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"p","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","α":"a","β":"v","γ":"g","δ":"d","ε":"e","ζ":"z","η":"i","θ":"th","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"ks","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"o","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"i","ώ":"o","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"I","Θ":"TH","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"KS","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"O","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"I","Ώ":"O","Ϊ":"I","Ϋ":"Y","ā":"a","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","ū":"u","Ā":"A","Ē":"E","Ģ":"G","Ī":"I","Ķ":"k","Ļ":"L","Ņ":"N","Ū":"U","Ќ":"Kj","ќ":"kj","Љ":"Lj","љ":"lj","Њ":"Nj","њ":"nj","Тс":"Ts","тс":"ts","ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"E","Ł":"L","Ń":"N","Ś":"S","Ź":"Z","Ż":"Z","Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g","ă":"a","Ă":"A","ș":"s","Ș":"S","ț":"t","Ț":"T","ţ":"t","Ţ":"T","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"i","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"kh","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"I","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"Kh","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","ђ":"dj","ј":"j","ћ":"c","џ":"dz","Ђ":"Dj","Ј":"j","Ћ":"C","Џ":"Dz","ľ":"l","ĺ":"l","ŕ":"r","Ľ":"L","Ĺ":"L","Ŕ":"R","ş":"s","Ş":"S","ı":"i","İ":"I","ğ":"g","Ğ":"G","ả":"a","Ả":"A","ẳ":"a","Ẳ":"A","ẩ":"a","Ẩ":"A","đ":"d","Đ":"D","ẹ":"e","Ẹ":"E","ẽ":"e","Ẽ":"E","ẻ":"e","Ẻ":"E","ế":"e","Ế":"E","ề":"e","Ề":"E","ệ":"e","Ệ":"E","ễ":"e","Ễ":"E","ể":"e","Ể":"E","ỏ":"o","ọ":"o","Ọ":"o","ố":"o","Ố":"O","ồ":"o","Ồ":"O","ổ":"o","Ổ":"O","ộ":"o","Ộ":"O","ỗ":"o","Ỗ":"O","ơ":"o","Ơ":"O","ớ":"o","Ớ":"O","ờ":"o","Ờ":"O","ợ":"o","Ợ":"O","ỡ":"o","Ỡ":"O","Ở":"o","ở":"o","ị":"i","Ị":"I","ĩ":"i","Ĩ":"I","ỉ":"i","Ỉ":"i","ủ":"u","Ủ":"U","ụ":"u","Ụ":"U","ũ":"u","Ũ":"U","ư":"u","Ư":"U","ứ":"u","Ứ":"U","ừ":"u","Ừ":"U","ự":"u","Ự":"U","ữ":"u","Ữ":"U","ử":"u","Ử":"ư","ỷ":"y","Ỷ":"y","ỳ":"y","Ỳ":"Y","ỵ":"y","Ỵ":"Y","ỹ":"y","Ỹ":"Y","ạ":"a","Ạ":"A","ấ":"a","Ấ":"A","ầ":"a","Ầ":"A","ậ":"a","Ậ":"A","ẫ":"a","Ẫ":"A","ắ":"a","Ắ":"A","ằ":"a","Ằ":"A","ặ":"a","Ặ":"A","ẵ":"a","Ẵ":"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d","ƒ":"f","™":"(TM)","©":"(C)","œ":"oe","Œ":"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o","º":"o","ª":"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY","元":"CNY","円":"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN","лв":"BGN","៛":"KHR","₡":"CRC","₸":"KZT","ден":"MKD","zł":"PLN","₽":"RUB","₾":"GEL"},a=["်","ް"],i={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},l={en:{},az:{"ç":"c","ə":"e","ğ":"g","ı":"i","ö":"o","ş":"s","ü":"u","Ç":"C","Ə":"E","Ğ":"G","İ":"I","Ö":"O","Ş":"S","Ü":"U"},cs:{"č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z"},fi:{"ä":"a","Ä":"A","ö":"o","Ö":"O"},hu:{"ä":"a","Ä":"A","ö":"o","Ö":"O","ü":"u","Ü":"U","ű":"u","Ű":"U"},lt:{"ą":"a","č":"c","ę":"e","ė":"e","į":"i","š":"s","ų":"u","ū":"u","ž":"z","Ą":"A","Č":"C","Ę":"E","Ė":"E","Į":"I","Š":"S","Ų":"U","Ū":"U"},lv:{"ā":"a","č":"c","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","š":"s","ū":"u","ž":"z","Ā":"A","Č":"C","Ē":"E","Ģ":"G","Ī":"i","Ķ":"k","Ļ":"L","Ņ":"N","Š":"S","Ū":"u","Ž":"Z"},pl:{"ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ó":"o","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"e","Ł":"L","Ń":"N","Ó":"O","Ś":"S","Ź":"Z","Ż":"Z"},sv:{"ä":"a","Ä":"A","ö":"o","Ö":"O"},sk:{"ä":"a","Ä":"A"},sr:{"љ":"lj","њ":"nj","Љ":"Lj","Њ":"Nj","đ":"dj","Đ":"Dj"},tr:{"Ü":"U","Ö":"O","ü":"u","ö":"o"}},c={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},s=[";","?",":","@","&","=","+","$",",","/"].join(""),u=[";","?",":","@","&","=","+","$",","].join(""),b=[".","!","~","*","'","(",")"].join(""),d=function(e,t){var n,o,d,f,O,g,h,j,E,v,y,_,k,S,w="-",T="",x="",I=!0,C={},P="";if("string"!=typeof e)return"";if("string"==typeof t&&(w=t),h=c.en,j=l.en,"object"==typeof t)for(y in n=t.maintainCase||!1,C=t.custom&&"object"==typeof t.custom?t.custom:C,d=+t.truncate>1&&t.truncate||!1,f=t.uric||!1,O=t.uricNoSlash||!1,g=t.mark||!1,I=!1!==t.symbols&&!1!==t.lang,w=t.separator||w,f&&(P+=s),O&&(P+=u),g&&(P+=b),h=t.lang&&c[t.lang]&&I?c[t.lang]:I?c.en:{},j=t.lang&&l[t.lang]?l[t.lang]:!1===t.lang||!0===t.lang?{}:l.en,t.titleCase&&"number"==typeof t.titleCase.length&&Array.prototype.toString.call(t.titleCase)?(t.titleCase.forEach((function(e){C[e+""]=e+""})),o=!0):o=!!t.titleCase,t.custom&&"number"==typeof t.custom.length&&Array.prototype.toString.call(t.custom)&&t.custom.forEach((function(e){C[e+""]=e+""})),Object.keys(C).forEach((function(t){var n;n=t.length>1?new RegExp("\\b"+p(t)+"\\b","gi"):new RegExp(p(t),"gi"),e=e.replace(n,C[t])})),C)P+=y;for(P=p(P+=w),k=!1,S=!1,v=0,_=(e=e.replace(/(^\s+|\s+$)/g,"")).length;v<_;v++)y=e[v],m(y,C)?k=!1:j[y]?(y=k&&j[y].match(/[A-Za-z0-9]/)?" "+j[y]:j[y],k=!1):y in r?(v+1<_&&a.indexOf(e[v+1])>=0?(x+=y,y=""):!0===S?(y=i[x]+r[y],x=""):y=k&&r[y].match(/[A-Za-z0-9]/)?" "+r[y]:r[y],k=!1,S=!1):y in i?(x+=y,y="",v===_-1&&(y=i[x]),S=!0):!h[y]||f&&-1!==s.indexOf(y)||O&&-1!==u.indexOf(y)?(!0===S?(y=i[x]+y,x="",S=!1):k&&(/[A-Za-z0-9]/.test(y)||T.substr(-1).match(/A-Za-z0-9]/))&&(y=" "+y),k=!1):(y=k||T.substr(-1).match(/[A-Za-z0-9]/)?w+h[y]:h[y],y+=void 0!==e[v+1]&&e[v+1].match(/[A-Za-z0-9]/)?w:"",k=!0),T+=y.replace(new RegExp("[^\\w\\s"+P+"_-]","g"),w);return o&&(T=T.replace(/(\w)(\S*)/g,(function(e,t,n){var o=t.toUpperCase()+(null!==n?n:"");return Object.keys(C).indexOf(o.toLowerCase())<0?o:o.toLowerCase()}))),T=T.replace(/\s+/g,w).replace(new RegExp("\\"+w+"+","g"),w).replace(new RegExp("(^\\"+w+"+|\\"+w+"+$)","g"),""),d&&T.length>d&&(E=T.charAt(d)===w,T=T.slice(0,d),E||(T=T.slice(0,T.lastIndexOf(w)))),n||o||(T=T.toLowerCase()),T},p=function(e){return e.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(e,t){for(var n in t)if(t[n]===e)return!0};e.exports?(e.exports=d,e.exports.createSlug=function(e){return function(t){return d(t,e)}}):void 0===(o=function(){return d}.apply(t,[]))||(e.exports=o)}()},251:function(e,t,n){"use strict";var o=n(0),r=n(6);var a=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"}));t.a=a},252:function(e,t,n){"use strict";var o=n(0),r=n(6);const a=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));t.a=a},254:function(e,t,n){"use strict";var o=n(0),r=n(6);const a=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));t.a=a},26:function(e,t){!function(){e.exports=this.wp.keycodes}()},265:function(e,t){!function(){e.exports=this.wp.viewport}()},271:function(e,t,n){"use strict";var o=n(0),r=n(6);const a=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}));t.a=a},273:function(e,t,n){"use strict";var o=n(0),r=n(6);const a=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"}));t.a=a},29:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return o}))},3:function(e,t){!function(){e.exports=this.wp.components}()},30:function(e,t){!function(){e.exports=this.kubio.pro}()},32:function(e,t){var n="undefined"!=typeof Element,o="function"==typeof Map,r="function"==typeof Set,a="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var l,c,s,u;if(Array.isArray(e)){if((l=e.length)!=t.length)return!1;for(c=l;0!=c--;)if(!i(e[c],t[c]))return!1;return!0}if(o&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!t.has(c.value[0]))return!1;for(u=e.entries();!(c=u.next()).done;)if(!i(c.value[1],t.get(c.value[0])))return!1;return!0}if(r&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!t.has(c.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((l=e.length)!=t.length)return!1;for(c=l;0!=c--;)if(e[c]!==t[c])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((l=(s=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(c=l;0!=c--;)if(!Object.prototype.hasOwnProperty.call(t,s[c]))return!1;if(n&&e instanceof Element)return!1;for(c=l;0!=c--;)if(("_owner"!==s[c]&&"__v"!==s[c]&&"__o"!==s[c]||!e.$$typeof)&&!i(e[s[c]],t[s[c]]))return!1;return!0}return e!=e&&t!=t}e.exports=function(e,t){try{return i(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},33:function(e,t){!function(){e.exports=this.wp.url}()},332:function(e,t){e.exports='<html> <head> <style>.kubio-loading-logo{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:0}.kubio-loading-logo svg{width:120px!important;height:120px!important;max-width:120px!important;fill:#a4afb7!important}#eKIDzSscbEO1{overflow:visible;max-width:90px}#eKIDzSscbEO3_tr{animation:eKIDzSscbEO3_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO3_tr__tr{0%{transform:translate(193.209984px,190.850067px) rotate(0)}12%{transform:translate(193.209984px,190.850067px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}20%{transform:translate(193.209984px,190.850067px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}52%{transform:translate(193.209984px,190.850067px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}60%{transform:translate(193.209984px,190.850067px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}68%{transform:translate(193.209984px,190.850067px) rotate(0)}100%{transform:translate(193.209984px,190.850067px) rotate(0)}}#eKIDzSscbEO5_tr{animation:eKIDzSscbEO5_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO5_tr__tr{0%{transform:translate(193.219933px,61.519987px) rotate(360deg)}20%{transform:translate(193.219933px,61.519987px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}28%{transform:translate(193.219933px,61.519987px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}84%{transform:translate(193.219933px,61.519987px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}92%{transform:translate(193.219933px,61.519987px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}100%{transform:translate(193.219933px,61.519987px) rotate(360deg)}}#eKIDzSscbEO7_tr{animation:eKIDzSscbEO7_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO7_tr__tr{0%{transform:translate(59.18501px,193.18499px) rotate(0)}28%{transform:translate(59.18501px,193.18499px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}36%{transform:translate(59.18501px,193.18499px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}68%{transform:translate(59.18501px,193.18499px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}76%{transform:translate(59.18501px,193.18499px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}84%{transform:translate(59.18501px,193.18499px) rotate(0)}100%{transform:translate(59.18501px,193.18499px) rotate(0)}}#eKIDzSscbEO9_tr{animation:eKIDzSscbEO9_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO9_tr__tr{0%{transform:translate(59.149774px,59.150009px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}8%{transform:translate(59.149774px,59.150009px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}36%{transform:translate(59.149774px,59.150009px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}44%{transform:translate(59.149774px,59.150009px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}52%{transform:translate(59.149774px,59.150009px) rotate(360deg)}100%{transform:translate(59.149774px,59.150009px) rotate(360deg)}}</style> </head> <body> <div id="content"> </div> </body> </html> '},333:function(e,t){e.exports='<html> <head> <style>body,html{background:#f1f3f5}.content{display:flex;flex-direction:column;align-items:center;justify-items:center;justify-content:center;position:fixed;left:0;top:0;width:100vw;height:100vh}.container{text-align:center}.message{font-size:1.2rem;color:#15192b;font-family:-apple-system,BlinkMacSystemFont,\'Segoe UI\',Roboto,Oxygen-Sans,Ubuntu,Cantarell,\'Helvetica Neue\',sans-serif}#eKIDzSscbEO1{overflow:visible;width:120px!important;height:120px!important;max-width:120px!important;fill:#a4afb7!important}#eKIDzSscbEO3_tr{animation:eKIDzSscbEO3_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO3_tr__tr{0%{transform:translate(193.209984px,190.850067px) rotate(0)}12%{transform:translate(193.209984px,190.850067px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}20%{transform:translate(193.209984px,190.850067px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}52%{transform:translate(193.209984px,190.850067px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}60%{transform:translate(193.209984px,190.850067px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}68%{transform:translate(193.209984px,190.850067px) rotate(0)}100%{transform:translate(193.209984px,190.850067px) rotate(0)}}#eKIDzSscbEO5_tr{animation:eKIDzSscbEO5_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO5_tr__tr{0%{transform:translate(193.219933px,61.519987px) rotate(360deg)}20%{transform:translate(193.219933px,61.519987px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}28%{transform:translate(193.219933px,61.519987px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}84%{transform:translate(193.219933px,61.519987px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}92%{transform:translate(193.219933px,61.519987px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}100%{transform:translate(193.219933px,61.519987px) rotate(360deg)}}#eKIDzSscbEO7_tr{animation:eKIDzSscbEO7_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO7_tr__tr{0%{transform:translate(59.18501px,193.18499px) rotate(0)}28%{transform:translate(59.18501px,193.18499px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}36%{transform:translate(59.18501px,193.18499px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}68%{transform:translate(59.18501px,193.18499px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}76%{transform:translate(59.18501px,193.18499px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}84%{transform:translate(59.18501px,193.18499px) rotate(0)}100%{transform:translate(59.18501px,193.18499px) rotate(0)}}#eKIDzSscbEO9_tr{animation:eKIDzSscbEO9_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO9_tr__tr{0%{transform:translate(59.149774px,59.150009px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}8%{transform:translate(59.149774px,59.150009px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}36%{transform:translate(59.149774px,59.150009px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}44%{transform:translate(59.149774px,59.150009px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}52%{transform:translate(59.149774px,59.150009px) rotate(360deg)}100%{transform:translate(59.149774px,59.150009px) rotate(360deg)}}</style> </head> <body> <div class="content"> <div class="container"> {svg_image} <p class="message">{message}</p> </div> </div> </body> </html> '},334:function(e,t){var n="complete",o="canceled";function r(e,t,n){Math.max(0,t),Math.max(0,n),e.self===e?e.scrollTo(t,n):(e.scrollLeft=t,e.scrollTop=n)}function a(e){var t=e._scrollSettings;if(t){var o=t.maxSynchronousAlignments,i=function(e,t){var n,o,r,a,i,l,c,s=e.align,u=e.target.getBoundingClientRect(),b=s&&null!=s.left?s.left:.5,d=s&&null!=s.top?s.top:.5,p=s&&null!=s.leftOffset?s.leftOffset:0,m=s&&null!=s.topOffset?s.topOffset:0,f=b,O=d;if(e.isWindow(t))l=Math.min(u.width,t.innerWidth),c=Math.min(u.height,t.innerHeight),o=u.left+t.pageXOffset-t.innerWidth*f+l*f,r=u.top+t.pageYOffset-t.innerHeight*O+c*O,o-=p,r-=m,o=e.align.lockX?t.pageXOffset:o,r=e.align.lockY?t.pageYOffset:r,a=o-t.pageXOffset,i=r-t.pageYOffset;else{l=u.width,c=u.height,n=t.getBoundingClientRect();var g=u.left-(n.left-t.scrollLeft),h=u.top-(n.top-t.scrollTop);o=g+l*f-t.clientWidth*f,r=h+c*O-t.clientHeight*O,o-=p,r-=m,o=Math.max(Math.min(o,t.scrollWidth-t.clientWidth),0),r=Math.max(Math.min(r,t.scrollHeight-t.clientHeight),0),o=e.align.lockX?t.scrollLeft:o,r=e.align.lockY?t.scrollTop:r,a=o-t.scrollLeft,i=r-t.scrollTop}return{x:o,y:r,differenceX:a,differenceY:i}}(t,e),l=Date.now()-t.startTime,c=Math.min(1/t.time*l,1);if(t.endIterations>=o)return r(e,i.x,i.y),e._scrollSettings=null,t.end(n);var s=1-t.ease(c);if(r(e,i.x-i.differenceX*s,i.y-i.differenceY*s),l>=t.time)return t.endIterations++,t.scrollAncestor&&a(t.scrollAncestor),void a(e);!function(e){if("requestAnimationFrame"in window)return window.requestAnimationFrame(e);setTimeout(e,16)}(a.bind(null,e))}}function i(e){return e.self===e}function l(e){return"pageXOffset"in e||(e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth)&&"hidden"!==getComputedStyle(e).overflow}function c(){return!0}function s(e){if(e.assignedSlot)return s(e.assignedSlot);if(e.parentElement)return"body"===e.parentElement.tagName.toLowerCase()?e.parentElement.ownerDocument.defaultView||e.parentElement.ownerDocument.ownerWindow:e.parentElement;if(e.getRootNode){var t=e.getRootNode();if(11===t.nodeType)return t.host}}e.exports=function(e,t,r){if(e){"function"==typeof t&&(r=t,t=null),t||(t={}),t.time=isNaN(t.time)?1e3:t.time,t.ease=t.ease||function(e){return 1-Math.pow(1-e,e/2)},t.align=t.align||{};var u=s(e),b=1,d=t.validTarget||c,p=t.isScrollable;t.debug&&(console.log("About to scroll to",e),u||console.error("Target did not have a parent, is it mounted in the DOM?"));for(var m=[];u;)if(t.debug&&console.log("Scrolling parent node",u),d(u,b)&&(p?p(u,l):l(u))&&(b++,m.push(u)),!(u=s(u))){f(n);break}return m.reduce(((n,r,l)=>function(e,t,n,r,l){var c,s=!t._scrollSettings,u=t._scrollSettings,b=Date.now(),d={passive:!0};function p(e){t._scrollSettings=null,t.parentElement&&t.parentElement._scrollSettings&&t.parentElement._scrollSettings.end(e),n.debug&&console.log("Scrolling ended with type",e,"for",t),l(e),c&&(t.removeEventListener("touchstart",c,d),t.removeEventListener("wheel",c,d))}u&&u.end(o);var m=n.maxSynchronousAlignments;return null==m&&(m=3),t._scrollSettings={startTime:b,endIterations:0,target:e,time:n.time,ease:n.ease,align:n.align,isWindow:n.isWindow||i,maxSynchronousAlignments:m,end:p,scrollAncestor:r},"cancellable"in n&&!n.cancellable||(c=p.bind(null,o),t.addEventListener("touchstart",c,d),t.addEventListener("wheel",c,d)),s&&a(t),c}(e,r,t,m[l+1],f)),null)}function f(e){--b||r&&r(e)}}},35:function(e,t){!function(){e.exports=this.kubio.editorData}()},351:function(e,t,n){"use strict";var o=n(0),r=n(6);const a=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M7 5.5h10a.5.5 0 01.5.5v12a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM17 4H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2zm-1 3.75H8v1.5h8v-1.5zM8 11h8v1.5H8V11zm6 3.25H8v1.5h6v-1.5z"}));t.a=a},355:function(e,t,n){"use strict";var o=n(0),r=n(6);const a=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));t.a=a},356:function(e,t,n){"use strict";var o=n(0),r=n(6);const a=Object(o.createElement)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)(r.Path,{d:"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z"}));t.a=a},367:function(e,t,n){"use strict";var o=n(0),r=n(6);const a=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));t.a=a},37:function(e,t){!function(){e.exports=this.wp.coreData}()},38:function(e,t,n){"use strict";function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return o}))},4:function(e,t){!function(){e.exports=this.kubio.core}()},41:function(e,t,n){"use strict";e.exports=n(71)},42:function(e,t,n){var o;!function(r){var a=/^\s+/,i=/\s+$/,l=0,c=r.round,s=r.min,u=r.max,b=r.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,o=null,l=null,c=null,b=!1,d=!1;"string"==typeof e&&(e=function(e){e=e.replace(a,"").replace(i,"").toLowerCase();var t,n=!1;if(C[e])e=C[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=H.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=H.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=H.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=H.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=H.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=H.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=H.hex8.exec(e))return{r:B(t[1]),g:B(t[2]),b:B(t[3]),a:F(t[4]),format:n?"name":"hex8"};if(t=H.hex6.exec(e))return{r:B(t[1]),g:B(t[2]),b:B(t[3]),format:n?"name":"hex"};if(t=H.hex4.exec(e))return{r:B(t[1]+""+t[1]),g:B(t[2]+""+t[2]),b:B(t[3]+""+t[3]),a:F(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=H.hex3.exec(e))return{r:B(t[1]+""+t[1]),g:B(t[2]+""+t[2]),b:B(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(V(e.r)&&V(e.g)&&V(e.b)?(p=e.r,m=e.g,f=e.b,t={r:255*N(p,255),g:255*N(m,255),b:255*N(f,255)},b=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):V(e.h)&&V(e.s)&&V(e.v)?(o=M(e.s),l=M(e.v),t=function(e,t,n){e=6*N(e,360),t=N(t,100),n=N(n,100);var o=r.floor(e),a=e-o,i=n*(1-t),l=n*(1-a*t),c=n*(1-(1-a)*t),s=o%6;return{r:255*[n,l,i,i,c,n][s],g:255*[c,n,n,l,i,i][s],b:255*[i,i,c,n,n,l][s]}}(e.h,o,l),b=!0,d="hsv"):V(e.h)&&V(e.s)&&V(e.l)&&(o=M(e.s),c=M(e.l),t=function(e,t,n){var o,r,a;function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=N(e,360),t=N(t,100),n=N(n,100),0===t)o=r=a=n;else{var l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;o=i(c,l,e+1/3),r=i(c,l,e),a=i(c,l,e-1/3)}return{r:255*o,g:255*r,b:255*a}}(e.h,o,c),b=!0,d="hsl"),e.hasOwnProperty("a")&&(n=e.a));var p,m,f;return n=R(n),{ok:b,format:e.format||d,r:s(255,u(t.r,0)),g:s(255,u(t.g,0)),b:s(255,u(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=c(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=n.ok,this._tc_id=l++}function p(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var o,r,a=u(e,t,n),i=s(e,t,n),l=(a+i)/2;if(a==i)o=r=0;else{var c=a-i;switch(r=l>.5?c/(2-a-i):c/(a+i),a){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:r,l:l}}function m(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var o,r,a=u(e,t,n),i=s(e,t,n),l=a,c=a-i;if(r=0===a?0:c/a,a==i)o=0;else{switch(a){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:r,v:l}}function f(e,t,n,o){var r=[D(c(e).toString(16)),D(c(t).toString(16)),D(c(n).toString(16))];return o&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function O(e,t,n,o){return[D(L(o)),D(c(e).toString(16)),D(c(t).toString(16)),D(c(n).toString(16))].join("")}function g(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=A(n.s),d(n)}function h(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=A(n.s),d(n)}function j(e){return d(e).desaturate(100)}function E(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=A(n.l),d(n)}function v(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=u(0,s(255,n.r-c(-t/100*255))),n.g=u(0,s(255,n.g-c(-t/100*255))),n.b=u(0,s(255,n.b-c(-t/100*255))),d(n)}function y(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=A(n.l),d(n)}function _(e,t){var n=d(e).toHsl(),o=(n.h+t)%360;return n.h=o<0?360+o:o,d(n)}function k(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function S(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function w(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function T(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function x(e,t,n){t=t||6,n=n||30;var o=d(e).toHsl(),r=360/n,a=[d(e)];for(o.h=(o.h-(r*t>>1)+720)%360;--t;)o.h=(o.h+r)%360,a.push(d(o));return a}function I(e,t){t=t||6;for(var n=d(e).toHsv(),o=n.h,r=n.s,a=n.v,i=[],l=1/t;t--;)i.push(d({h:o,s:r,v:a})),a=(a+l)%1;return i}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,o=this.toRgb();return e=o.r/255,t=o.g/255,n=o.b/255,.2126*(e<=.03928?e/12.92:r.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:r.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:r.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=R(e),this._roundA=c(100*this._a)/100,this},toHsv:function(){var e=m(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=m(this._r,this._g,this._b),t=c(360*e.h),n=c(100*e.s),o=c(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+o+"%)":"hsva("+t+", "+n+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=c(360*e.h),n=c(100*e.s),o=c(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+o+"%)":"hsla("+t+", "+n+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return f(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,o,r){var a=[D(c(e).toString(16)),D(c(t).toString(16)),D(c(n).toString(16)),D(L(o))];if(r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*N(this._r,255))+"%",g:c(100*N(this._g,255))+"%",b:c(100*N(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*N(this._r,255))+"%, "+c(100*N(this._g,255))+"%, "+c(100*N(this._b,255))+"%)":"rgba("+c(100*N(this._r,255))+"%, "+c(100*N(this._g,255))+"%, "+c(100*N(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+O(this._r,this._g,this._b,this._a),n=t,o=this._gradientType?"GradientType = 1, ":"";if(e){var r=d(e);n="#"+O(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,o=this._a<1&&this._a>=0;return t||!o||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(j,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(I,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]="a"===o?e[o]:M(e[o]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:b(),g:b(),b:b()})},d.mix=function(e,t,n){n=0===n?0:n||50;var o=d(e).toRgb(),r=d(t).toRgb(),a=n/100;return d({r:(r.r-o.r)*a+o.r,g:(r.g-o.g)*a+o.g,b:(r.b-o.b)*a+o.b,a:(r.a-o.a)*a+o.a})},d.readability=function(e,t){var n=d(e),o=d(t);return(r.max(n.getLuminance(),o.getLuminance())+.05)/(r.min(n.getLuminance(),o.getLuminance())+.05)},d.isReadable=function(e,t,n){var o,r,a=d.readability(e,t);switch(r=!1,(o=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+o.size){case"AAsmall":case"AAAlarge":r=a>=4.5;break;case"AAlarge":r=a>=3;break;case"AAAsmall":r=a>=7}return r},d.mostReadable=function(e,t,n){var o,r,a,i,l=null,c=0;r=(n=n||{}).includeFallbackColors,a=n.level,i=n.size;for(var s=0;s<t.length;s++)(o=d.readability(e,t[s]))>c&&(c=o,l=d(t[s]));return d.isReadable(e,l,{level:a,size:i})||!r?l:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var C=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(C);function R(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function N(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=s(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),r.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function A(e){return s(1,u(0,e))}function B(e){return parseInt(e,16)}function D(e){return 1==e.length?"0"+e:""+e}function M(e){return e<=1&&(e=100*e+"%"),e}function L(e){return r.round(255*parseFloat(e)).toString(16)}function F(e){return B(e)/255}var z,G,K,H=(G="[\\s|\\(]+("+(z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",K="[\\s|\\(]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",{CSS_UNIT:new RegExp(z),rgb:new RegExp("rgb"+G),rgba:new RegExp("rgba"+K),hsl:new RegExp("hsl"+G),hsla:new RegExp("hsla"+K),hsv:new RegExp("hsv"+G),hsva:new RegExp("hsva"+K),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(e){return!!H.CSS_UNIT.exec(e)}e.exports?e.exports=d:void 0===(o=function(){return d}.call(t,n,t,e))||(e.exports=o)}(Math)},43:function(e,t,n){"use strict";var o,r,a,i=n(72),l="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function c(){a=!1}function s(e){if(e){if(e!==o){if(e.length!==l.length)throw new Error("Custom alphabet for shortid must be "+l.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,n){return t!==n.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+l.length+" unique characters. These characters were not unique: "+t.join(", "));o=e,c()}}else o!==l&&(o=l,c())}function u(){return a||(a=function(){o||s(l);for(var e,t=o.split(""),n=[],r=i.nextValue();t.length>0;)r=i.nextValue(),e=Math.floor(r*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}e.exports={get:function(){return o||l},characters:function(e){return s(e),o},seed:function(e){i.seed(e),r!==e&&(c(),r=e)},lookup:function(e){return u()[e]},shuffled:u}},46:function(e,t){!function(){e.exports=this.wp.apiFetch}()},47:function(e,t){!function(){e.exports=this.kubio.coreHooks}()},48:function(e,t){!function(){e.exports=this.kubio.menuData}()},49:function(e,t){!function(){e.exports=this.wp.editor}()},5:function(e,t){!function(){e.exports=this.kubio.controls}()},504:function(e,t,n){"use strict";var o=n(0),r=n(6);const a=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"}));t.a=a},51:function(e,t,n){"use strict";var o,r;function a(e){return[e]}function i(e){return!!e&&"object"==typeof e}function l(){var e={clear:function(){e.head=null}};return e}function c(e,t,n){var o;if(e.length!==t.length)return!1;for(o=n;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}o={},r="undefined"!=typeof WeakMap,t.a=function(e,t){var n,s;function u(){n=r?new WeakMap:l()}function b(){var n,o,r,a,i,l=arguments.length;for(a=new Array(l),r=0;r<l;r++)a[r]=arguments[r];for(i=t.apply(null,a),(n=s(i)).isUniqueByDependants||(n.lastDependants&&!c(i,n.lastDependants,0)&&n.clear(),n.lastDependants=i),o=n.head;o;){if(c(o.args,a,1))return o!==n.head&&(o.prev.next=o.next,o.next&&(o.next.prev=o.prev),o.next=n.head,o.prev=null,n.head.prev=o,n.head=o),o.val;o=o.next}return o={val:e.apply(null,a)},a[0]=null,o.args=a,n.head&&(n.head.prev=o,o.next=n.head),n.head=o,o.val}return t||(t=a),s=r?function(e){var t,r,a,c,s=n,u=!0;for(t=0;t<e.length;t++){if(!i(r=e[t])){u=!1;break}s.has(r)?s=s.get(r):(a=new WeakMap,s.set(r,a),s=a)}return s.has(o)||((c=l()).isUniqueByDependants=u,s.set(o,c)),s.get(o)}:function(){return n},b.getDependants=t,b.clear=u,u(),b}},544:function(e,t,n){"use strict";n.r(t),n.d(t,"initialize",(function(){return Qi})),n.d(t,"__experimentalFullscreenModeClose",(function(){return Xi})),n.d(t,"registerSidebarArea",(function(){return ze})),n.d(t,"SidebarArea",(function(){return Ke})),n.d(t,"SubSidebarArea",(function(){return De})),n.d(t,"registerSubSidebarArea",(function(){return Ge}));var o={};n.r(o),n.d(o,"toggle",(function(){return z})),n.d(o,"set",(function(){return G})),n.d(o,"setDefaults",(function(){return K}));var r={};n.r(r),n.d(r,"get",(function(){return H}));var a={};n.r(a),n.d(a,"enableComplementaryArea",(function(){return $})),n.d(a,"disableComplementaryArea",(function(){return Y})),n.d(a,"pinItem",(function(){return W})),n.d(a,"unpinItem",(function(){return q})),n.d(a,"toggleFeature",(function(){return X})),n.d(a,"setFeatureValue",(function(){return Q})),n.d(a,"setFeatureDefaults",(function(){return Z}));var i={};n.r(i),n.d(i,"getActiveComplementaryArea",(function(){return J})),n.d(i,"isItemPinned",(function(){return ee})),n.d(i,"isFeatureActive",(function(){return te}));var l={};n.r(l),n.d(l,"toggleFeature",(function(){return Aa})),n.d(l,"__experimentalSetPreviewDeviceType",(function(){return Ba})),n.d(l,"setTemplate",(function(){return Da})),n.d(l,"addTemplate",(function(){return Ma})),n.d(l,"removeTemplate",(function(){return La})),n.d(l,"setTemplatePart",(function(){return Fa})),n.d(l,"setHomeTemplateId",(function(){return za})),n.d(l,"setPage",(function(){return Ga})),n.d(l,"showHomepage",(function(){return Ka})),n.d(l,"openNavigationPanelToMenu",(function(){return Ha})),n.d(l,"setIsNavigationPanelOpened",(function(){return Va})),n.d(l,"updateSettings",(function(){return Ua})),n.d(l,"openSidebar",(function(){return $a})),n.d(l,"openInserterSidebar",(function(){return Ya})),n.d(l,"addSubSidebar",(function(){return Wa})),n.d(l,"removeSubSidebar",(function(){return qa})),n.d(l,"closeSidebar",(function(){return Xa})),n.d(l,"toggleGlobalStyleEditing",(function(){return Qa})),n.d(l,"toggleGutentagDebug",(function(){return Za})),n.d(l,"setOpenInserter",(function(){return Ja})),n.d(l,"setCurrentAncestor",(function(){return ei})),n.d(l,"setIsListViewOpened",(function(){return ti})),n.d(l,"setUIVersion",(function(){return ni}));var c={};n.r(c),n.d(c,"isFeatureActive",(function(){return ai})),n.d(c,"__experimentalGetPreviewDeviceType",(function(){return ii})),n.d(c,"getCanUserCreateMedia",(function(){return li})),n.d(c,"getSettings",(function(){return ci})),n.d(c,"getHomeTemplateId",(function(){return si})),n.d(c,"getEditedPostType",(function(){return ui})),n.d(c,"getEditedPostId",(function(){return bi})),n.d(c,"getPage",(function(){return di})),n.d(c,"isNavigationOpened",(function(){return pi})),n.d(c,"getNavigationMenu",(function(){return mi})),n.d(c,"isInserterOpened",(function(){return fi})),n.d(c,"getTemplateId",(function(){return Oi})),n.d(c,"getTemplatePartId",(function(){return gi})),n.d(c,"getTemplateType",(function(){return hi})),n.d(c,"getTemplateIds",(function(){return ji})),n.d(c,"getTemplatePartIds",(function(){return Ei})),n.d(c,"getEntity",(function(){return vi})),n.d(c,"getShowOnFront",(function(){return yi})),n.d(c,"isEditorSidebarOpened",(function(){return _i})),n.d(c,"getOpenedInserter",(function(){return ki})),n.d(c,"getOpenedInsertedClientId",(function(){return Si})),n.d(c,"getOpenedInsertedShouldReplace",(function(){return wi})),n.d(c,"getOpenedInsertedShouldCloseOnSelect",(function(){return Ti})),n.d(c,"getCurrentAncestor",(function(){return xi})),n.d(c,"getEditorOpenedSidebar",(function(){return Ii})),n.d(c,"getSubSidebars",(function(){return Ci})),n.d(c,"isGlobalStyleEditing",(function(){return Pi})),n.d(c,"getGlobalStyleEditingPreviousEntity",(function(){return Ri})),n.d(c,"isGutentagDebug",(function(){return Ni})),n.d(c,"__experimentalGetInsertionPoint",(function(){return Ai})),n.d(c,"isListViewOpened",(function(){return Bi})),n.d(c,"getCurrentKubioTemplateSource",(function(){return Di})),n.d(c,"getCurrentPageTemplate",(function(){return Mi})),n.d(c,"currentPageHasFSETemplate",(function(){return Li})),n.d(c,"getCurrentPostType",(function(){return Fi})),n.d(c,"getCurrentPostId",(function(){return zi})),n.d(c,"getIsBlogPage",(function(){return Gi})),n.d(c,"getIsFrontPage",(function(){return Ki})),n.d(c,"getIsInnerPage",(function(){return Hi})),n.d(c,"getAvailablePageTemplates",(function(){return Vi})),n.d(c,"getClassicTemplateId",(function(){return Ui})),n.d(c,"getIsWooCommercePage",(function(){return $i})),n.d(c,"getUIVersion",(function(){return Yi}));var s=n(0),u=n(4),b=n(225),d=n(81),p=n(2),m=n.n(p),f=n(142),O=n(21),g=n(35),h=n(25),j=n(216),E=n(14),v=n(3),y=n(10),k=n(37),S=n(8),w=n(49),T=n(1),x=n(7),I=n(13),C=n.n(I),P=n(226),R=n(6);var N=Object(s.createElement)(R.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(R.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"}));var A=Object(s.createElement)(R.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(R.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),B=n(265),D=n(252),M=n(55),L=n.n(M);var F=Object(S.combineReducers)({defaults:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SET_PREFERENCE_DEFAULTS"===t.type){const{scope:n,defaults:o}=t;return{...e,[n]:{...e[n],...o}}}return e},preferences:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SET_PREFERENCE_VALUE"===t.type){const{scope:n,name:o,value:r}=t;return{...e,[n]:{...e[n],[o]:r}}}return e}});function z(e,t){return function(n){let{select:o,dispatch:r}=n;const a=o.get(e,t);r.set(e,t,!a)}}function G(e,t,n){return{type:"SET_PREFERENCE_VALUE",scope:e,name:t,value:n}}function K(e,t){return{type:"SET_PREFERENCE_DEFAULTS",scope:e,defaults:t}}function H(e,t,n){var o,r;const a=null===(o=e.preferences[t])||void 0===o?void 0:o[n];return void 0!==a?a:null===(r=e.defaults[t])||void 0===r?void 0:r[n]}const V="core/preferences",U=Object(S.createReduxStore)(V,{reducer:F,actions:o,selectors:r,persist:["preferences"]});Object(S.registerStore)(V,{reducer:F,actions:o,selectors:r,persist:["preferences"]});const $=(e,t)=>n=>{let{registry:o}=n;t&&o.dispatch(U).set(e,"complementaryArea",t)},Y=e=>t=>{let{registry:n}=t;n.dispatch(U).set(e,"complementaryArea",null)},W=(e,t)=>n=>{let{registry:o}=n;if(!t)return;const r=o.select(U).get(e,"pinnedItems");!0!==(null==r?void 0:r[t])&&o.dispatch(U).set(e,"pinnedItems",{...r,[t]:!0})},q=(e,t)=>n=>{let{registry:o}=n;if(!t)return;const r=o.select(U).get(e,"pinnedItems");o.dispatch(U).set(e,"pinnedItems",{...r,[t]:!1})};function X(e,t){return function(n){let{registry:o}=n;L()("wp.dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"wp.dispatch( 'core/preferences' ).toggle"}),o.dispatch(U).toggle(e,t)}}function Q(e,t,n){return function(o){let{registry:r}=o;L()("wp.dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"wp.dispatch( 'core/preferences' ).set"}),r.dispatch(U).set(e,t,!!n)}}function Z(e,t){return function(n){let{registry:o}=n;L()("wp.dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"wp.dispatch( 'core/preferences' ).setDefaults"}),o.dispatch(U).setDefaults(e,t)}}const J=Object(S.createRegistrySelector)((e=>(t,n)=>e(U).get(n,"complementaryArea"))),ee=Object(S.createRegistrySelector)((e=>(t,n,o)=>{var r;const a=e(U).get(n,"pinnedItems");return null===(r=null==a?void 0:a[o])||void 0===r||r})),te=Object(S.createRegistrySelector)((e=>(t,n,o)=>(L()("wp.select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"!! wp.select( 'core/preferences' ).isFeatureActive( scope, featureName )"}),!!e(U).get(n,o)))),ne=Object(S.createReduxStore)("core/interface",{reducer:()=>{},actions:a,selectors:i});Object(S.register)(ne);var oe=n(217),re=Object(oe.withPluginContext)(((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||`${e.name}/${t.name}`})));var ae=re((function(e){let{as:t=v.Button,scope:n,identifier:o,icon:r,selectedIcon:a,...i}=e;const l=t,c=Object(S.useSelect)((e=>e(ne).getActiveComplementaryArea(n)===o),[o]),{enableComplementaryArea:u,disableComplementaryArea:b}=Object(S.useDispatch)(ne);return Object(s.createElement)(l,Object(x.a)({icon:a&&c?a:r,onClick:()=>{c?b(n):u(n,o)}},Object(p.omit)(i,["name"])))}));var ie=e=>{let{smallScreenTitle:t,children:n,className:o,toggleButtonProps:r}=e;const a=Object(s.createElement)(ae,Object(x.a)({icon:D.a},r));return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},t&&Object(s.createElement)("span",{className:"interface-complementary-area-header__small-title"},t),a),Object(s.createElement)("div",{className:C()("components-panel__header","interface-complementary-area-header",o),tabIndex:-1},n,a))};function le(e){let{name:t,as:n=v.Button,onClick:o,...r}=e;return Object(s.createElement)(v.Fill,{name:t},(e=>{let{onClick:t}=e;return Object(s.createElement)(n,Object(x.a)({onClick:o||t?function(){(o||p.noop)(...arguments),(t||p.noop)(...arguments)}:void 0},r))}))}le.Slot=function(e){let{name:t,as:n=v.ButtonGroup,fillProps:o={},bubblesVirtually:r,...a}=e;return Object(s.createElement)(v.Slot,{name:t,bubblesVirtually:r,fillProps:o},(e=>{if(Object(p.isEmpty)(s.Children.toArray(e)))return null;const t=[];s.Children.forEach(e,(e=>{let{props:{__unstableExplicitMenuItem:n,__unstableTarget:o}}=e;o&&n&&t.push(o)}));const o=s.Children.map(e,(e=>!e.props.__unstableExplicitMenuItem&&t.includes(e.props.__unstableTarget)?null:e));return Object(s.createElement)(n,a,o)}))};var ce=le;const se=e=>Object(s.createElement)(v.MenuItem,Object(p.omit)(e,["__unstableExplicitMenuItem","__unstableTarget"]));function ue(e){let{scope:t,target:n,__unstableExplicitMenuItem:o,...r}=e;return Object(s.createElement)(ae,Object(x.a)({as:e=>Object(s.createElement)(ce,Object(x.a)({__unstableExplicitMenuItem:o,__unstableTarget:`${t}/${n}`,as:se,name:`${t}/plugin-more-menu`},e)),role:"menuitemcheckbox",selectedIcon:P.a,name:n,scope:t},r))}function be(e){let{scope:t,...n}=e;return Object(s.createElement)(v.Fill,Object(x.a)({name:`PinnedItems/${t}`},n))}be.Slot=function(e){let{scope:t,className:n,...o}=e;return Object(s.createElement)(v.Slot,Object(x.a)({name:`PinnedItems/${t}`},o),(e=>!Object(p.isEmpty)(e)&&Object(s.createElement)("div",{className:C()(n,"interface-pinned-items")},e)))};var de=be;function pe(e){let{scope:t,children:n,className:o}=e;return Object(s.createElement)(v.Fill,{name:`ComplementaryArea/${t}`},Object(s.createElement)("div",{className:o},n))}const me=re((function(e){let{children:t,className:n,closeLabel:o=Object(T.__)("Close plugin"),identifier:r,header:a,headerClassName:i,icon:l,isPinnable:c=!0,panelClassName:u,scope:b,name:d,smallScreenTitle:p,title:m,toggleShortcut:f,isActiveByDefault:O,showIconLabels:g=!1}=e;const{isActive:h,isPinned:j,activeArea:E,isSmall:y,isLarge:_}=Object(S.useSelect)((e=>{const{getActiveComplementaryArea:t,isItemPinned:n}=e(ne),o=t(b);return{isActive:o===r,isPinned:n(b,r),activeArea:o,isSmall:e(B.store).isViewportMatch("< medium"),isLarge:e(B.store).isViewportMatch("large")}}),[r,b]);!function(e,t,n,o,r){const a=Object(s.useRef)(!1),i=Object(s.useRef)(!1),{enableComplementaryArea:l,disableComplementaryArea:c}=Object(S.useDispatch)(ne);Object(s.useEffect)((()=>{o&&r&&!a.current?(c(e),i.current=!0):i.current&&!r&&a.current?(i.current=!1,l(e,t)):i.current&&n&&n!==t&&(i.current=!1),r!==a.current&&(a.current=r)}),[o,r,e,t,n])}(b,r,E,h,y);const{enableComplementaryArea:k,disableComplementaryArea:w,pinItem:x,unpinItem:I}=Object(S.useDispatch)(ne);return Object(s.useEffect)((()=>{O&&void 0===E&&!y&&k(b,r)}),[E,O,b,r,y]),Object(s.createElement)(s.Fragment,null,c&&Object(s.createElement)(de,{scope:b},j&&Object(s.createElement)(ae,{scope:b,identifier:r,isPressed:h&&(!g||_),"aria-expanded":h,label:m,icon:g?P.a:l,showTooltip:!g,variant:g?"tertiary":void 0})),d&&c&&Object(s.createElement)(ue,{target:d,scope:b,icon:l},m),h&&Object(s.createElement)(pe,{className:C()("interface-complementary-area",n),scope:b},Object(s.createElement)(ie,{className:i,closeLabel:o,onClose:()=>w(b),smallScreenTitle:p,toggleButtonProps:{label:o,shortcut:f,scope:b,identifier:r}},a||Object(s.createElement)(s.Fragment,null,Object(s.createElement)("strong",null,m),c&&Object(s.createElement)(v.Button,{className:"interface-complementary-area__pin-unpin-item",icon:j?N:A,label:j?Object(T.__)("Unpin from toolbar"):Object(T.__)("Pin to toolbar"),onClick:()=>(j?I:x)(b,r),isPressed:j,"aria-expanded":j}))),Object(s.createElement)(v.Panel,{className:u},t)))}));me.Slot=function(e){let{scope:t,...n}=e;return Object(s.createElement)(v.Slot,Object(x.a)({name:`ComplementaryArea/${t}`},n))};var fe=me;var Oe=e=>{let{isActive:t}=e;return Object(s.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),Object(s.useEffect)((()=>(t?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{t&&document.body.classList.remove("is-fullscreen-mode")})),[t]),null};var ge=Object(s.forwardRef)((function(e,t){let{footer:n,header:o,sidebar:r,secondarySidebar:a,notices:i,content:l,drawer:c,actions:u,labels:b,className:d,shortcuts:p}=e;const m=Object(v.__unstableUseNavigateRegions)(p);!function(e){Object(s.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const f={...{
/* translators: accessibility text for the nav bar landmark region. */
drawer:Object(T.__)("Drawer"),
/* translators: accessibility text for the top bar landmark region. */
header:Object(T.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:Object(T.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:Object(T.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:Object(T.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:Object(T.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:Object(T.__)("Footer")},...b};return Object(s.createElement)("div",Object(x.a)({},m,{ref:Object(y.useMergeRefs)([t,m.ref]),className:C()(d,"interface-interface-skeleton",m.className,!!n&&"has-footer")}),!!c&&Object(s.createElement)("div",{className:"interface-interface-skeleton__drawer",role:"region","aria-label":f.drawer,tabIndex:"-1"},c),Object(s.createElement)("div",{className:"interface-interface-skeleton__editor"},!!o&&Object(s.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":f.header,tabIndex:"-1"},o),Object(s.createElement)("div",{className:"interface-interface-skeleton__body"},!!a&&Object(s.createElement)("div",{className:"interface-interface-skeleton__secondary-sidebar",role:"region","aria-label":f.secondarySidebar,tabIndex:"-1"},a),!!i&&Object(s.createElement)("div",{className:"interface-interface-skeleton__notices"},i),Object(s.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":f.body,tabIndex:"-1"},l),!!r&&Object(s.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":f.sidebar,tabIndex:"-1"},r),!!u&&Object(s.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":f.actions,tabIndex:"-1"},u))),!!n&&Object(s.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":f.footer,tabIndex:"-1"},n))})),he=n(66);const je=O.STORE_KEY;var Ee=n(33),ve=n(251);function ye(e){let{type:t,id:n,activePage:o,onActivePageChange:r}=e;const a=Object(S.useSelect)((e=>t&&n&&"URL"!==t&&e("core").getEntityRecord("postType",t,n)),[t,n]),i=Object(s.useMemo)((()=>{if(null==a||!a.link)return null;const e=Object(Ee.getPathAndQueryString)(a.link);return e===o.path?null:()=>r({type:t,slug:a.slug,path:e,context:{postType:a.type,postId:a.id}})}),[a,o.path,r]);return i&&Object(s.createElement)(v.Button,{icon:ve.a,label:Object(T.__)("Edit Page Template","kubio"),onClick:i})}var _e=n(15),ke=n(104),Se=n(47),we=n(68),Te=n(367),xe=n(254);const Ie="kubio-dragging-from-inserter--active",Ce=()=>{setTimeout((()=>{const e=top.document.querySelector("body");e.classList.contains(Ie)&&e.classList.remove(Ie)}),10)},Pe=()=>{const{setOpenInserter:e}=Object(S.useDispatch)(O.STORE_KEY),{insertionPoint:t,currentSelectedBlock:n}=Object(S.useSelect)((e=>({insertionPoint:e(O.STORE_KEY).getOpenedInserter(),currentSelectedBlock:e("core/block-editor").getSelectedBlockClientId()||null})),[]),o=Object(y.usePrevious)(n),{uiVersion:r}=Object(Se.useUIVersion)();Object(s.useEffect)((()=>{2===r&&void 0!==o&&o!==n&&(e(!1),Ce())}),[o,n,r]);const a=Object(g.useBlocksOwnerDocument)(),i=Object(y.useViewportMatch)("medium","<"),l=Object(s.useRef)(),c=Object(s.useCallback)((n=>{!1!==t&&(n.target.closest(".kubio-inserter-button")||n.target.closest(".kubio-sidebar-add-section-button")||n.target.classList.contains("edit-site-header-toolbar__inserter-toggle")||n.target.closest(".edit-site-header-toolbar__inserter-toggle")||n.target.closest(".kubio-inserter-ignore-click-outisde")||e(!1))}),[t,e]);return Object(u.useOnClickOutside)(l,c),Object(s.createElement)("div",{ref:l,className:"edit-site-editor__inserter-panel"},Object(s.createElement)("div",{className:"edit-site-editor__inserter-panel-header"},Object(s.createElement)(v.Button,{icon:Te.a,onClick:()=>e(!1)})),Object(s.createElement)("div",{className:"edit-site-editor__inserter-panel-content"},t&&Object(s.createElement)(E.__experimentalLibrary,{shouldFocusBlock:i,shouldSelectBlock:1===r,rootClientId:null==t?void 0:t.rootClientId,__experimentalInsertionIndex:null==t?void 0:t.insertionIndex,ownerDocument:a,insertionPoint:t,isAppender:null==t?void 0:t.isAppender})))},Re=Object(we.getNamesOfBlocks)(),Ne=["core/column","core/post-content","core/template-part",Re.HEADER,Re.FOOTER,Re.SIDEBAR,Re.COLUMN,Re.LOOP_ITEM,Re.SLIDER_CONTENT],Ae=e=>{let{variant:t="secondary",className:n="edit-site-header-toolbar__inserter-toggle"}=e;const{rootClientId:o,isInserterOpen:r}=Object(S.useSelect)((e=>{var t;const{getBlockListSettings:n,getSelectedBlockClientId:o,getBlockRootClientId:r,getBlock:a,getBlockIndex:i}=e("core/block-editor");let l,c=o(),s=n(c);(Object(p.isUndefined)(s)||s.templateLock)&&(l=i(c),c=r(c),s=n(c));const u=c&&Ne.includes(null===(t=a(c))||void 0===t?void 0:t.name)&&(Object(p.isUndefined)(s)||!s.templateLock);return{isInserterOpen:e(O.STORE_KEY).getOpenedInserter(),rootClientId:u?c:null,insertionIndex:l}}),[]),{setOpenInserter:a}=Object(S.useDispatch)(O.STORE_KEY),{selectBlock:i}=Object(S.useDispatch)("core/block-editor"),l=Object(s.useRef)(),{uiVersion:c}=Object(Se.useUIVersion)(),u=Object(s.useCallback)((e=>{l.current.focus(),e.preventDefault(),e.stopPropagation()}),[]),b=Object(s.useCallback)((e=>{const t=!r&&"block-inserter";2!==c?(t?i(null):u(e),a(t,o),top.document.body.classList.remove("kubio-dragging-from-inserter--active")):t?(a("pattern-inserter/content",null),Ce()):(u(e),a(!1,null))}),[r,o]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.Button,{ref:l,variant:t,isPressed:r,className:n,onClick:b,icon:r?D.a:xe.a,onMouseDown:e=>{e.preventDefault()},label:(d=r,d?Object(T.__)("Close","kubio"):Object(T.__)("Add block","kubio"))}));var d},Be=[];function De(e){let{title:t,label:n,children:o,areaIdentifier:r,className:a,backCallback:i,parentAreaIdentifier:l,onOpen:c}=e;const{clearSelectedBlock:u}=Object(S.useDispatch)("core/block-editor"),{openSidebar:b}=Object(S.useDispatch)(O.STORE_KEY),d=()=>{b(l||"document"),u()},m=i?()=>i(d):d,f=Object(S.useSelect)((e=>e(O.STORE_KEY).getSubSidebars[r])),{addSubSidebar:g}=Object(S.useDispatch)(O.STORE_KEY);return Object(s.useLayoutEffect)((()=>{f||(g({areaIdentifier:r,sidebar:Object(s.createElement)(v.Animate,{type:"slide-in"},(e=>{let{className:n}=e;return Object(s.createElement)(Ke,{title:t,backCallback:m,areaIdentifier:r,className:`${n} kubio-subsidebar-content`},o,Fe(r))}))}),Be.push(r))}),[f]),Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{className:"kubio-subsidebar-container"},Object(s.createElement)("div",{className:C()("components-panel__header","interface-complementary-area-header","kubio-subsidebar-title",a),tabIndex:-1},Object(s.createElement)(v.Button,{label:Object(T.__)("Open","kubio"),onClick:()=>{u(),b(r),Object(p.isFunction)(c)&&c()}},Object(s.createElement)("strong",null,n||t),Object(s.createElement)(ke.a,{icon:_e.ArrowRight,className:"components-panel__arrow arrow_general_settings"})))),Object(s.createElement)("div",{style:{display:"none"}},o))}const Me=[],Le=e=>{let{name:t,title:n=null,parent:o="document",render:r,isSubsidebar:a=!1}=e;Object(p.find)(Me,{name:t})&&console.error(`sidebar ${t} already added`),Me.push({name:t,parent:o,render:r,title:n||t,isSubsidebar:a})},Fe=e=>(e=>Me.filter((t=>{let{parent:n}=t;return n===e})))(e).map((t=>{let{title:n,render:o,name:r,isSubsidebar:a}=t;const i=a?De:Ke;return Object(s.createElement)(i,{title:n,parentAreaIdentifier:e,areaIdentifier:r,key:`${e}.${r}`},o())})),ze=e=>{let{name:t,title:n,parent:o="document",render:r}=e;return Le({name:t,title:n,parent:o,render:r,isSubsidebar:!1})},Ge=e=>{let{name:t,title:n,parent:o="document",render:r}=e;return Le({name:t,title:n,parent:o,render:r,isSubsidebar:!0})};function Ke(e){let{areaIdentifier:t,title:n,backCallback:o=null,children:r,className:a}=e;const{uiVersion:i}=Object(Se.useUIVersion)();return Object(s.createElement)(fe,{scope:`${O.STORE_KEY}/sidebars`,complementaryAreaIdentifier:`${O.STORE_KEY}/sidebar/${t}`,identifier:`${O.STORE_KEY}/sidebar/${t}`,isPinnable:!1,className:C()(a,o?"kubio-sidebar-header-block":""),header:Object(s.createElement)("div",{className:C()("components-panel__header","kubio-sidebar-header","accordion-section-title",o?"kubio-sidebar-header--has-back":""),tabIndex:-1},o&&Object(s.createElement)(v.Button,{className:"kubio-sidebar-header-back-button",onClick:o,showTooltip:!0,label:Object(T.__)("Back","kubio")},Object(s.createElement)(ke.a,{icon:_e.ArrowLeft,className:"kubio-sidebar-header-arrow"})),Object(s.createElement)("strong",null,"function"==typeof n?n():n),2===i&&Object(s.createElement)(Ae,{className:"kubio-inserter-button",variant:"primary"}))},r,Fe(t))}var He=n(12);function Ve(e){let{children:t}=e;const{clearSelectedBlock:n}=Object(S.useDispatch)("core/block-editor"),{openSidebar:o}=Object(S.useDispatch)(O.STORE_KEY),{blockType:r,isMultiSelection:a}=Object(S.useSelect)((e=>{const{getSelectedBlockClientId:t,getBlockName:n,hasMultiSelection:o}=e("core/block-editor"),r=t(),a=r&&n(r);return{blockType:r&&Object(He.getBlockType)(a),isMultiSelection:o()}}));return Object(s.createElement)(Ke,{areaIdentifier:"block-inspector",title:()=>Object(s.createElement)("span",{className:"kubio-header-active-section"},Object(s.createElement)(E.BlockIcon,{icon:null==r?void 0:r.icon}),Object(s.createElement)("span",{className:"kubio-header-active-section page-title"},a?Object(T.__)("Multiple selection","kubio"):null==r?void 0:r.title)),backCallback:()=>{o("document"),n()}},!a&&t,a&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{className:"kubio-multiple-selection"},Object(s.createElement)("p",null,Object(T.__)("Sidebar controls are not availble on multiple blocks selection","kubio")))))}const Ue=()=>{const{templateLabel:e}=Object(S.useSelect)((e=>{const{getCurrentPostType:t,getCurrentPostId:n,getEditedPostType:o,getEditedPostId:r}=e(O.STORE_KEY),{getEntityRecord:a}=e("core"),i=t(),l=n();let c=Object(T.__)("Page","kubio");var s,u,b,d;i&&l?c=(null===(s=a("postType",t(),n()))||void 0===s||null===(u=s.title)||void 0===u?void 0:u.rendered)||null:c=(null===(b=a("postType",o(),r()))||void 0===b||null===(d=b.title)||void 0===d?void 0:d.rendered)||Object(T.__)("Page","kubio");return{templateLabel:c}})),t=Object(g.useCurrentPageTitle)({title:e});return(null==t?void 0:t.title)||Object(T.__)("Page","kubio")};var $e=n(5),Ye=n(19),We=n(23),qe=n(273),Xe=n(102),Qe=n(158),Ze=n.n(Qe);const Je=Object(s.createContext)({clientId:null,setContainer:p.noop}),et=()=>Object(s.useContext)(Je),tt=Object(we.getNamesOfBlocks)(),nt=[tt.SECTION,tt.HERO,tt.NAVIGATION].map((e=>`[data-type="${e}"]`)).join(","),ot=e=>{let{children:t}=e;const[n,o]=Object(s.useState)(null),r=Object(g.useBlocksOwnerDocument)(),a=Object(y.useThrottle)(Object(s.useCallback)((e=>{var t,n;const r=null==e||null===(t=e.target)||void 0===t||null===(n=t.closest)||void 0===n?void 0:n.call(t,nt),a=(null==r?void 0:r.getAttribute("data-block"))||null;o(a)}),[]),300);Object(s.useEffect)((()=>{if(r)return r.addEventListener("mousemove",a),()=>r.removeEventListener("mousemove",a)}),[r]);const i=Object(s.useMemo)((()=>({clientId:n})),[n]);return Object(s.createElement)(Je.Provider,{value:i},t)};var rt=n(198);const at=Object(Xe.c)((()=>Object(s.createElement)(v.Tooltip,{text:Object(T.__)("Move","kubio")},Object(s.createElement)("div",{className:"d-flex"},Object(s.createElement)(ke.a,{icon:rt.a,className:"draggable-item"})))));var it=n(48);var lt=Object(s.createElement)(R.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(R.Path,{d:"M5 5v1.5h14V5H5zm0 7.8h14v-1.5H5v1.5zM5 19h14v-1.5H5V19z"}));const ct=Object(s.createContext)(null),st=e=>{let{children:t}=e;const n=Object(it.usePrimaryMenuBlockEditor)();return Object(s.createElement)(ct.Provider,{value:n},t)};var ut=Object(s.createElement)(R.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(s.createElement)(R.Path,{d:"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14.5c-3.6 0-6.5-2.9-6.5-6.5S8.4 5.5 12 5.5s6.5 2.9 6.5 6.5-2.9 6.5-6.5 6.5zM9 16l4.5-3L15 8.4l-4.5 3L9 16z"}));const bt=e=>{let{containerRef:t,afterMenuCreation:n,onClose:o}=e;const[r,a]=Object(s.useState)(""),[i,l]=Object(s.useState)(!1);return Object(s.createElement)(v.Popover,{className:"kubio-options-popover kubio-create-menu-popover",anchorRef:t,position:"middle right",onClose:o},Object(s.createElement)(v.Placeholder,{className:"wp-block-navigation-placeholder kubio-menu-placeholder",icon:ut,label:Object(T.__)("Kubio Menu","kubio")},Object(s.createElement)("div",null,Object(s.createElement)("div",{className:"kubio-create-menu-popover-description"},Object(s.createElement)("span",null,Object(T.__)("There is no header menu created. Please create a new one","kubio"))),Object(s.createElement)("div",{className:"wp-block-navigation-placeholder__actions"},Object(s.createElement)(v.Flex,null,Object(s.createElement)(v.FlexBlock,null,Object(s.createElement)(v.BaseControl,{className:"kubio-create-menu-popover-input-control"},Object(s.createElement)(v.BaseControl.VisualLabel,null,Object(T.__)("Menu name","kubio")),Object(s.createElement)(v.__experimentalInputControl,{value:r,onChange:a,placeholder:Object(T.__)("Please set a name","kubio")})),Object(s.createElement)(v.Button,{isSecondary:!0,className:"wp-block-navigation-placeholder__button",disabled:0===r.length,isBusy:i,onClick:async()=>{l(!0),await Object(it.createPrimaryMenu)(r),l(!1),n()}},Object(T.__)("Create new Menu","kubio"))))))))},dt=e=>{let{dataHelper:t,containerRef:n}=e;const[o,r]=Object(s.useState)(!1),[a,i]=Object(s.useState)(!1),{exists:l,items:c,setItems:u,hasResolved:b}=Object(s.useContext)(ct),d=Object(S.useSelect)((e=>{var t,n;const{getPage:o,getEntity:r}=e(O.STORE_KEY),a=(null===(t=o())||void 0===t?void 0:t.link)||null,i=(null===(n=r())||void 0===n?void 0:n.path)||null;return(a||i||"").replace(/\/$/,"")}),[]);Object(s.useEffect)((()=>{a&&l&&b&&(u([{...Object(it.generateItemInitialData)(),label:null==t?void 0:t.getAttribute("attrs.name"),url:`${d}/${f}`}],!0),i(!1))}),[l,a,u,b]);const p=Object(s.useCallback)((()=>{if(g.length){const e=g.map((e=>{let{id:t}=e;return t})),t=m.filter((t=>-1===e.indexOf(t.id)));u([...t],!0)}else{const e=Math.max.apply(null,m.filter((e=>{let{parent:t}=e;return 0===t})).map((e=>{let{order:t}=e;return t})).filter(Boolean))+1;u([...m,{...Object(it.generateItemInitialData)(),label:null==t?void 0:t.getAttribute("attrs.name"),url:`${d}/${f}`,order:e}],!0)}}),[u,c,l,d]),m=Array.isArray(c)?c:[],f="#"+(null==t?void 0:t.getAttribute("anchor")),g=Object(s.useMemo)((()=>{if(!l)return[];const e=m.filter((e=>{let{url:t}=e;return t===`${d}/${f}`||t===`${d}${f}`}));return e.length?e:[]}),[l,c,d]),h=Object(s.useCallback)((()=>{l?p():r(!0)}),[l,p]),j=g.length>0;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.Tooltip,{text:j?Object(T.__)("Remove from menu","kubio"):Object(T.__)("Add to menu","kubio"),position:"top left"},Object(s.createElement)("div",{className:"d-flex"},Object(s.createElement)(v.Button,{isSmall:!0,onClick:()=>h(),icon:lt,className:C()(["icon-menu",{active:j}])}))),o&&Object(s.createElement)(bt,{containerRef:null==n?void 0:n.current,afterMenuCreation:()=>{i(!0),r(!1)},onClose:()=>r(!1)}))},pt=e=>{let{onRemove:t,onSelect:n,dataHelper:o}=e;const{selectBlock:r,toggleBlockHighlight:a}=Object(S.useDispatch)("core/block-editor"),i=o.getAttribute("anchor"),l=o.getAttribute("attrs.name"),[c,b]=Object(s.useState)(!1),[d,p]=Object(s.useState)(i),[f,O]=Object(s.useState)(l),h=Object(g.useBlocksOwnerDocument)();Object(s.useEffect)((()=>{d!==i&&p(i),f!==l&&O(l)}),[i,l]);const j=Object(s.useRef)(),E=Object(s.useRef)(),y=m.a.debounce((e=>{e=e||d;let t=Ze()(e);t=Object(Ye.getUniqueSlug)(t,h),t&&(t!==d&&p(t),t!==i&&o.setAttribute("anchor",t))}),100),{clientId:_}=et(),k=Object(s.useCallback)((()=>{c&&b(!1)}),[c,b]),w=e=>{const t=null==e?void 0:e.clientId,n=Object(Ye.getPreviewElementByModelId)(t,h);n&&n.scrollIntoView(),a(t,!0)};return Object(u.useOnClickOutside)(j,k),Object(s.createElement)("div",{ref:E,className:"page-section-item"},Object(s.createElement)("div",{className:(e=>{const t=["kubio-section-list-item"];return e&&t.push("list-item-full-height"),_===o.clientId&&t.push("hovered"),t.join(" ")})(c)},Object(s.createElement)("div",{className:"align-items-center drag-icon"},Object(s.createElement)(at,null)),Object(s.createElement)("div",{className:"input-container",ref:j},Object(s.createElement)("div",{className:"input-drag-text"},Object(s.createElement)("input",{type:"text",value:f,className:"input-name",onChange:e=>{const t=e.target.value;O(t)},onFocus:e=>{w(o),c||b(!0)},onBlur:()=>{f!==l&&(o.setAttribute("attrs.name",f),y(f))}})),c&&Object(s.createElement)("div",{className:"id-div"},"ID:#",Object(s.createElement)("input",{type:"text",value:d,className:"input-name input-id",onFocus:e=>{w(o)},onChange:e=>{p(e.target.value)},onBlur:()=>{d===i&&f===l||y()}}))),Object(s.createElement)("div",{onClick:()=>{r(null==o?void 0:o.clientId)},className:"page-section-item__select-area",role:"button",tabIndex:0}),Object(s.createElement)("div",{className:"align-items-center"},Object(s.createElement)(v.Button,{isSmall:!0,icon:_e.DeleteItemIcon,className:"icon-close",onClick:t,showTooltip:!0,tooltipPosition:"top left",label:Object(T.__)("Remove","kubio")}),Object(s.createElement)(dt,{dataHelper:o,containerRef:E}),Object(s.createElement)(v.Button,{isSmall:!0,icon:qe.a,className:"icon-settings",onClick:n,showTooltip:!0,tooltipPosition:"top left",label:Object(T.__)("Settings","kubio")}))))},mt="kubio/edit-site",ft=e=>{let{name:t="",area:n}=e;const o=Object(s.useRef)(),{setOpenInserter:r}=Object(S.useDispatch)(mt),a=Object(S.useSelect)((e=>{e(mt).getOpenedInserter()})),i=vt[n],l=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;const t=m.a.get(kt,e,kt[Et.CONTENT]),o=`pattern-inserter/${t}`;a!==o&&await r(!1,null),r(o,n)};const c=null==i?void 0:i.toLowerCase();return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{ref:o,className:["kubio-full-section","kubio-full-section--placeholder"].join(" ")},Object(s.createElement)("div",{className:"kubio-subsidebar-container"},Object(s.createElement)("div",{className:C()("components-panel__header","interface-complementary-area-header","kubio-subsidebar-title","kubio-subsidebar-title-header"),tabIndex:-1},Object(s.createElement)("div",{className:"kubio-sidebar-title-text"},i),Object(s.createElement)("div",{className:"dummy-column"}),Object(s.createElement)("div",{className:"section-list-header-buttons-holder"},Object(s.createElement)(v.Button,{isSmall:!0,icon:xe.a,className:"section-icon-container",onClick:function(){l(Et.CONTENT)},showTooltip:!0,tooltipPosition:"top left",label:Object(T.__)("Add block/section","kubio")})))),Object(s.createElement)($e.ControlNotice,{content:Object(T.sprintf)(Object(T.__)("The current page uses the theme %s. Use the button below to replace it with a Kubio %s","kubio"),c,c)}),Object(s.createElement)(v.Button,{isPrimary:!0,onClick:()=>l(),className:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n===Et.HEADER?["btn-primary","header-button"].concat(t).join(" "):["btn-primary"].concat(t).join(" ")}(t,["kubio-button-add-blocks"])},Object(s.createElement)("span",{className:C()("kubio-header-section-main-button",{"header-button":t===Et.HEADER})},(()=>{switch(n){case Et.HEADER:return Object(T.__)("Choose header design","kubio");case Et.FOOTER:return Object(T.__)("Choose footer design","kubio");case Et.SIDEBAR:return Object(T.__)("Add section","kubio");default:return Object(T.__)("Add predesigned section","kubio")}})()))))};function Ot(e){const{templateParts:t,selectBlock:n,removeBlocks:o,reorderBlocks:r}=e,{blockTypes:a,getBlocks:i,isPage:l}=Object(S.useSelect)((e=>{const{getPage:t}=e(O.STORE_KEY),n=Object(S.select)("core").getEditedEntityRecord("root","site");let o;t&&(o=t());const r=m.a.get(o,"context",{}),{postType:a,postId:i}=r,l="page"===(null==n?void 0:n.show_on_front)&&parseInt(null==n?void 0:n.page_for_posts)===parseInt(i);return{isPage:"page"===a&&!l,blockTypes:e("core/blocks").getBlockTypes(),getBlocks:e("core/block-editor").getBlocks}})),[c]=Object(g.useGlobalSessionProp)("currentPageHasBlocksContent",!0,[]),u=Object(s.useMemo)((()=>{const e={selectBlock:n,removeBlocks:o,reorderBlocks:r,innerBlocks:i(),templatePart:{},blockTypes:a,label:Object(T.__)("Content","kubio")};return c&&Object(s.createElement)(It,e)}),[t,c]);return Object(s.createElement)(s.Fragment,null,l&&Object(s.createElement)(ft,{area:"header"}),u,l&&Object(s.createElement)(ft,{area:"footer"}))}function gt(e){const{templateParts:t,selectBlock:n,removeBlocks:o,reorderBlocks:r}=e,{blockTypes:a,getBlocks:i}=Object(S.useSelect)((e=>({blockTypes:e("core/blocks").getBlockTypes(),getBlocks:e("core/block-editor").getBlocks}))),l=Object(s.useMemo)((()=>t.map(((e,t)=>{const{name:i,clientId:l}=e,c={selectBlock:n,removeBlocks:o,reorderBlocks:r,name:i,templatePart:e,templatePartClientId:l,blockTypes:a};return Object(s.createElement)(It,Object(x.a)({key:"template-sections-"+t},c))}))),[t.length]);return Object(s.createElement)(s.Fragment,null,l)}function ht(e){let{templateParts:t,...n}=e;const o=Object(S.useSelect)((e=>{const{currentPageHasFSETemplate:t}=e(O.STORE_KEY);return t()}),[]),r=Object(S.useSelect)((e=>e("core").getEntityRecords("postType","wp_template_part",{per_page:-1})||[]),[]),a=Object(u.useDeepMemo)((()=>t.map((e=>{const t=r.find((t=>{var n;return(null==t?void 0:t.slug)===(null==e||null===(n=e.attributes)||void 0===n?void 0:n.slug)}));let n=null==t?void 0:t.area;return{...e,area:n}}))),[t,r]),i=Object(u.useDeepMemo)((()=>m.a.orderBy(a,(e=>m.a.findIndex(yt,(t=>t===m.a.get(e,"area",Et.CONTENT)))))),[a]);let l=null;return l=o?gt:Ot,Object(s.createElement)(l,Object(x.a)({},n,{templateParts:i}))}const jt=e=>{let{onRemove:t,onSelect:n,item:o,dataHelper:r}=e;const{blockTypes:a}=Object(S.useSelect)((e=>({blockTypes:e("core/blocks").getBlockTypes()}))),{selectBlock:i}=Object(S.useDispatch)("core/block-editor"),{clientId:l}=et(),c=C()("kubio-section-list-item",{hovered:l===o.clientId}),u=Object(s.useRef)();return Object(s.useEffect)((()=>{l===o.clientId&&u.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}),[l]),Object(s.createElement)("div",{ref:u,className:"page-section-item"},Object(s.createElement)("div",{className:c},Object(s.createElement)("div",{className:"align-items-center"},Object(s.createElement)(at,null)),Object(s.createElement)("div",{className:"input-container"},Object(s.createElement)("span",{className:"input-name"},Object(s.createElement)("span",{className:"input-name-text"},(e=>{const t=Object(p.find)(a,{name:e});return(null==t?void 0:t.title)||e})(o.name)))),Object(s.createElement)("div",{onClick:()=>{i(null==r?void 0:r.clientId)},className:"page-section-item__select-area",role:"button",tabIndex:"0"}),Object(s.createElement)("div",{className:"align-items-center"},Object(s.createElement)(v.Button,{isSmall:!0,icon:_e.DeleteItemIcon,className:"icon-close",onClick:t,showTooltip:!0,tooltipPosition:"top left",label:Object(T.__)("Remove","kubio")}),Object(s.createElement)(v.Button,{isSmall:!0,icon:qe.a,className:"icon-settings",onClick:n,showTooltip:!0,tooltipPosition:"top left",label:Object(T.__)("Settings","kubio")}))))},Et={HEADER:"header",FOOTER:"footer",SIDEBAR:"sidebar",CONTENT:"content"},vt={[Et.HEADER]:Object(T.__)("Header","kubio"),[Et.FOOTER]:Object(T.__)("Footer","kubio"),[Et.SIDEBAR]:Object(T.__)("Sidebar","kubio"),[Et.CONTENT]:Object(T.__)("Content","kubio")},yt=[Et.HEADER,Et.CONTENT,Et.SIDEBAR,Et.FOOTER],_t=["kubio/header","kubio/footer","core/post-content","core/template-part"],kt={[Et.HEADER]:"header",[Et.FOOTER]:"footer",[Et.SIDEBAR]:"sidebar",[Et.CONTENT]:"post-content"},St=Object(Xe.b)((e=>{let{item:t,onRemove:n=p.noop,onSelect:o=p.noop,dataHelper:r}=e;return Object(Ye.isGutentagPrefixed)(t.name)?Object(s.createElement)(s.Fragment,null,Object(s.createElement)(pt,{onRemove:()=>n(t),onSelect:()=>o(t),item:t,dataHelper:r})):Object(s.createElement)(jt,{onRemove:()=>n(t),onSelect:()=>o(t),item:t,dataHelper:r})})),wt=e=>{var t;const n=Object(s.useMemo)((()=>Tt()),[]);return Object(s.createElement)(n,Object(x.a)({clientId:null===(t=e.item)||void 0===t?void 0:t.clientId},e))},Tt=()=>Object(u.WithKubioDataHelperProp)(St),xt=Object(Xe.a)((e=>{let{items:t,onRemove:n,onSelect:o}=e;return Object(s.createElement)("div",null,null==t?void 0:t.map(((e,t)=>Object(s.createElement)(S.AsyncModeProvider,{key:e.clientId,value:!0},Object(s.createElement)(wt,{item:e,onRemove:n,onSelect:o,index:t})))))})),It=e=>{let{name:t="",reorderBlocks:n,templatePart:o={},blockTypes:r,removeBlocks:a,selectBlock:i,templatePartClientId:l,label:c}=e;const u=null==o?void 0:o.area,b=kt[Et.CONTENT],d=m.a.get(kt,u,b),f=Object(s.useRef)(),g=Object(s.useRef)(),h=Object(s.useRef)(),[j,E]=Object(s.useState)(!1),{setOpenInserter:y}=Object(S.useDispatch)(O.STORE_KEY),_=d,{isUnlocked:k}=Object($e.useTemplatePartLock)(_),[w,x]=Object(s.useState)(!1),{postType:I,postId:P}=Object(S.useSelect)((e=>{var t,n;return(null===(t=e(O.STORE_KEY))||void 0===t||null===(n=t.getPage())||void 0===n?void 0:n.context)||{}}),[]),R=Object(S.useSelect)((e=>{e(O.STORE_KEY).getOpenedInserter()})),{uiVersion:N}=Object(Se.useUIVersion)(),A=Object(S.useSelect)((e=>e("core/block-editor").getBlocks(l)),[l]);if("core/post-content"===t&&Object(We.applyFilters)("kubio.showRenderedPostContent","page"!==I,I,P))return Object(s.createElement)(s.Fragment,null);const B=t.includes("kubio")&&["header","footer","sidebar"].includes(_);const D=["kubio-full-section"];return B&&(k?D.push("kubio-full-section--unlocked"):D.push("kubio-full-section--locked")),Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{ref:f,className:D.join(" ")},B&&Object(s.createElement)("div",{ref:g,tabIndex:-1,role:"button",className:C()("kubio-full-section-overlay",{"kubio-full-section-overlay--show-popup":j})}),Object(s.createElement)("div",{className:"kubio-subsidebar-container"},Object(s.createElement)("div",{className:C()("components-panel__header","interface-complementary-area-header","kubio-subsidebar-title","kubio-subsidebar-title-header"),tabIndex:-1},Object(s.createElement)("div",{className:"kubio-sidebar-title-text"},c||(()=>{let e=vt[u];return e||(e=(()=>{const e=t,n=Object(p.find)(r,{name:e});return(null==n?void 0:n.title)||e})()),e})()),Object(s.createElement)("div",{className:"dummy-column"}),Object(s.createElement)("div",{ref:h,className:"section-list-header-buttons-holder"},B&&!k&&Object(s.createElement)($e.KubioPopup,{position:2===N?"middle right":"top left",className:"kubio-options-popover kubio-template-controls-popover",buttonRef:g,anchorRef:2===N?h:f,selectorToIgnoreOnClickOutside:".h-template-wizard__modal",onOpen:()=>E(!0),onClose:()=>E(!1)},Object(s.createElement)($e.TemplateLockModal,{title:Object(T.__)("Choose editing mode","kubio")},Object(s.createElement)($e.TemplateLockControls,{isWizardShown:w,setIsWizardShown:x,templatePart:_}))),Object(s.createElement)(v.Button,{isSmall:!0,icon:qe.a,className:"section-icon-container",onClick:()=>{i(o.clientId)},showTooltip:!0,tooltipPosition:"top left",label:Object(T.__)("Settings","kubio")}),Object(s.createElement)(v.Button,{isSmall:!0,icon:xe.a,className:"section-icon-container",onClick:function(){y(`pattern-inserter/${d}-blocks`,o.clientId)},showTooltip:!0,tooltipPosition:"top left",label:Object(T.__)("Add block/section","kubio")})))),Object(s.createElement)(xt,{helperClass:"kubio-list-item-is-sorting",helperContainer:()=>f.current,onSortEnd:e=>{let{oldIndex:t,newIndex:o}=e;n(A,t,o)},lockAxis:"y",useDragHandle:!0,items:A,onRemove:e=>{a([e.clientId],!1)},onSelect:e=>{i(e.clientId)}}),d&&Object(s.createElement)(v.Button,{isPrimary:!0,onClick:()=>async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const t=`pattern-inserter/${m.a.get(kt,e,b)}`;R!==t&&await y(!1,null),y(t,o.clientId)}(),className:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return u===Et.HEADER?["btn-primary","header-button"].concat(t).join(" "):["btn-primary"].concat(t).join(" ")}(t,["kubio-button-add-blocks","kubio-sidebar-add-section-button"])},Object(s.createElement)("span",{className:"kubio-header-section-main-button"},(()=>{switch(u){case Et.HEADER:return Object(T.__)("Choose header design","kubio");case Et.FOOTER:return Object(T.__)("Choose footer design","kubio");case Et.SIDEBAR:return Object(T.__)("Add section","kubio");default:return Object(T.__)("Add predesigned section","kubio")}})()))))};var Ct=Object(y.compose)(Object(S.withSelect)((e=>{const{getSelectedBlockClientId:t,getBlock:n,getBlockParents:o,getClientIdsWithDescendants:r}=e("core/block-editor"),a=r().map(n).filter((e=>{let{name:t}=e;return _t.includes(t)}));return{selectedBlockClientId:t(),templateParts:a,getBlockParents:o}})),Object(S.withDispatch)(((e,t)=>{let{onSelect:n=p.noop,getBlockParents:o,getBlockAttributes:r}=t;const{removeBlocks:a,moveBlockToPosition:i,updateBlockAttributes:l}=e("core/block-editor");return{selectBlock(t){e("core/block-editor").selectBlock(t),n(t)},removeBlocks:a,reorderBlocks:(e,t,n)=>{const r=o(e[t].clientId).pop();i(e[t].clientId,r,r,n)},updateBlockAttribute:(e,t,n)=>{let o=r(e);o=Object(p.set)(o,t,n),l(e,{...o})}}})))((e=>Object(s.createElement)(st,null,Object(s.createElement)("div",{className:"block-editor-block-navigation__container kubio-interface"},Object(s.createElement)("div",{className:"block-editor-block-navigation__label"},Object(s.createElement)(ht,e))))));function Pt(){const e=Object(g.useCurrentPageBodyClasses)(),{additionalCSS:t,setAdditionalCSS:n}=Object(h.useGlobalAdditionalCSS)(),[o,r]=Object(s.useState)(t);Object(s.useEffect)((()=>{t!==o&&r(t)}),[t]);const a=Object(y.useDebounce)(n,300);return Object(s.createElement)(v.PanelBody,{initialOpen:!0,title:Object(T.__)("Additional CSS","kubio")},Object(s.createElement)($e.CodeMirrorControl,{value:o,onChange:e=>{a(e),r(e)},mode:"css"}),e&&!!e.length&&Object(s.createElement)($e.ControlNotice,{content:Object(s.createElement)(s.Fragment,null,Object(s.createElement)("span",null,Object(T.__)("Current page has the following classes that can be used as top selectors:","kubio")),Object(s.createElement)("div",null,Object(s.createElement)("strong",null,e.join(", "))))}))}const Rt=e=>{let{areaIdentifier:t}=e;const n=Object(S.useSelect)((e=>e(O.STORE_KEY).getEditorOpenedSidebar()),[]),o=null==n?void 0:n.endsWith(t);return Object(s.createElement)(s.Fragment,null,o&&Object(s.createElement)(Pt,null))};var Nt=e=>{let{parentAreaIdentifier:t}=e;return Object(s.createElement)(De,{title:Object(T.__)("Additional CSS","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/additional-css`},Object(s.createElement)(Rt,{areaIdentifier:`${t}/additional-css`}))},At=n(32),Bt=n.n(At),Dt=n(42),Mt=n.n(Dt),Lt=n(30);const Ft=[{label:Object(T.__)("Kubio Default","kubio"),colors:[{slug:"kubio-color-1",color:[3,169,244]},{slug:"kubio-color-2",color:[247,144,7]},{slug:"kubio-color-3",color:[0,191,135]},{slug:"kubio-color-4",color:[102,50,255]},{slug:"kubio-color-5",color:[255,255,255]},{slug:"kubio-color-6",color:[0,0,0]}]},{label:Object(T.__)("Vibrant & Elegant","kubio"),colors:[{slug:"kubio-color-1",color:[48,62,122]},{slug:"kubio-color-2",color:[247,229,151]},{slug:"kubio-color-3",color:[246,97,97]},{slug:"kubio-color-4",color:[158,201,226]},{slug:"kubio-color-5",color:[246,248,250]},{slug:"kubio-color-6",color:[32,42,84]}]},{label:Object(T.__)("XPR | Glaucous & Coquelicot","kubio"),colors:[{slug:"kubio-color-1",color:[233,63,12]},{slug:"kubio-color-2",color:[238,192,13]},{slug:"kubio-color-3",color:[9,164,207]},{slug:"kubio-color-4",color:[181,214,209]},{slug:"kubio-color-5",color:[239,249,235]},{slug:"kubio-color-6",color:[85,119,173]}]},{label:Object(T.__)("XPR | Fruits & Jellies","kubio"),colors:[{slug:"kubio-color-1",color:[90,209,0]},{slug:"kubio-color-2",color:[0,176,244]},{slug:"kubio-color-3",color:[94,204,227]},{slug:"kubio-color-4",color:[255,181,0]},{slug:"kubio-color-5",color:[239,249,235]},{slug:"kubio-color-6",color:[23,37,42]}]},{label:Object(T.__)("XPR-1","kubio"),colors:[{slug:"kubio-color-1",color:[255,137,0]},{slug:"kubio-color-2",color:[0,144,183]},{slug:"kubio-color-3",color:[180,180,180]},{slug:"kubio-color-4",color:[230,230,230]},{slug:"kubio-color-5",color:[246,248,250]},{slug:"kubio-color-6",color:[58,58,58]}]},{label:Object(T.__)("XPR-2","kubio"),colors:[{slug:"kubio-color-1",color:[122,146,0]},{slug:"kubio-color-2",color:[200,0,69]},{slug:"kubio-color-3",color:[248,110,0]},{slug:"kubio-color-4",color:[255,194,0]},{slug:"kubio-color-5",color:[246,248,250]},{slug:"kubio-color-6",color:[71,0,55]}]},{label:Object(T.__)("XPR-3","kubio"),colors:[{slug:"kubio-color-1",color:[3,12,73]},{slug:"kubio-color-2",color:[255,0,0]},{slug:"kubio-color-3",color:[191,234,238]},{slug:"kubio-color-4",color:[255,181,0]},{slug:"kubio-color-5",color:[226,235,231]},{slug:"kubio-color-6",color:[23,37,42]}]},{label:Object(T.__)("XPR-4","kubio"),colors:[{slug:"kubio-color-1",color:[153,0,255]},{slug:"kubio-color-2",color:[237,0,166]},{slug:"kubio-color-3",color:[172,255,0]},{slug:"kubio-color-4",color:[243,162,0]},{slug:"kubio-color-5",color:[215,228,228]},{slug:"kubio-color-6",color:[66,157,255]}]},{label:Object(T.__)("XPR-5","kubio"),colors:[{slug:"kubio-color-1",color:[31,43,87]},{slug:"kubio-color-2",color:[153,187,227]},{slug:"kubio-color-3",color:[70,124,198]},{slug:"kubio-color-4",color:[225,98,66]},{slug:"kubio-color-5",color:[231,240,249]},{slug:"kubio-color-6",color:[71,0,55]}]},{label:Object(T.__)("XPR-6","kubio"),colors:[{slug:"kubio-color-1",color:[237,59,56]},{slug:"kubio-color-2",color:[242,250,200]},{slug:"kubio-color-3",color:[208,238,57]},{slug:"kubio-color-4",color:[222,235,171]},{slug:"kubio-color-5",color:[238,240,231]},{slug:"kubio-color-6",color:[23,37,42]}]},{label:Object(T.__)("XPR-7","kubio"),colors:[{slug:"kubio-color-1",color:[0,192,150]},{slug:"kubio-color-2",color:[0,231,153]},{slug:"kubio-color-3",color:[51,247,133]},{slug:"kubio-color-4",color:[152,255,129]},{slug:"kubio-color-5",color:[242,252,247]},{slug:"kubio-color-6",color:[23,37,42]}]},{label:Object(T.__)("XPR-8","kubio"),colors:[{slug:"kubio-color-1",color:[20,30,112]},{slug:"kubio-color-2",color:[39,76,196]},{slug:"kubio-color-3",color:[69,168,255]},{slug:"kubio-color-4",color:[94,247,255]},{slug:"kubio-color-5",color:[236,246,255]},{slug:"kubio-color-6",color:[27,46,77]}]}];Ft.forEach(((e,t)=>(t>1&&(e[Lt.PRO_ON_FREE_FLAG]=!0),e)));var zt=Ft;const Gt=()=>{const{getPalette:e,setPalette:t}=Object(h.useGlobalDataColors)(),n=e(),[o,r]=Object(s.useState)(n),a=Object(S.useSelect)((e=>{var t,n;return(null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme)||null})),i=Object(s.useCallback)(((e,n)=>{const a=Mt()(n),i=[a._r,a._g,a._b],l=[...o];l[e]={...l[e],color:i},Bt()(o[e].color,l[e].color)||(r(l),t(l))}),[r,t,o]),l=Object(s.useCallback)((e=>{r([...e]),t([...e])}),[r,t]),c=e=>()=>{l(e.colors)},u=e=>t=>{i(e,t)},b=Object(s.useCallback)((()=>{const e={slug:"kubio-color-"+(parseInt(o.length)+1),color:[255,255,255]};o.push(e),t(o)}),[r,t,o]),d=Object(s.useCallback)((e=>{o.splice(e,1),t(o)}),[r,t,o]);return Object(s.createElement)(v.PanelBody,{title:Object(T.__)("Color Palette","kubio"),className:"kubio-color-palette-panel"},Object(s.createElement)(v.BaseControl,null,Object(s.createElement)(v.Flex,{justify:"center",className:""},Object(s.createElement)(v.FlexBlock,null,Object(s.createElement)(v.BaseControl,null,Object(T.__)("Current color scheme","kubio"))),Object(s.createElement)(v.FlexItem,null,Object(s.createElement)("span",{className:"c-components-units-list"},Object(s.createElement)("span",{role:"button",tabIndex:0,key:"palette-add-color",className:"c-components-units-list__item is-selected add-colors-button",onClick:b},Object(T.__)("Add colors","kubio"))))),Object(s.createElement)(v.Flex,{gap:0,className:"kubio-current-colors-palette"},o.map(((e,t)=>{let{color:n,slug:o}=e;const r=`rgb(${n.join(",")})`;return Object(s.createElement)($e.ColorIndicatorPopover,{key:`${o}-${t}`,color:r,onChange:u(t),alpha:!1,showPalette:!1,returnRawValue:!0,disabled:false,hasButton:t>5,buttonIcon:!1,buttonText:Object(T.__)("Remove color","kubio"),onReset:()=>d(t)})})))),!a&&Object(s.createElement)($e.ControlNotice,{className:"notice-general-settings no-padding",content:Object(T.__)("These settings are applied to Kubio blocks and the blocks within.","kubio")}),Object(s.createElement)($e.SeparatorHorizontalLine,null),Object(s.createElement)(v.BaseControl,{label:Object(T.__)("More Palettes","kubio"),className:"more_palettes_base"},zt.map(((e,t)=>Object(s.createElement)(v.BaseControl,{label:e.label,key:t,className:C()("kubio-color-scheme-base-control")},Object(s.createElement)(v.Button,{className:"kubio-color-scheme-selector",onClick:c(e),key:e.label},Object(s.createElement)(v.Flex,{gap:0},e.colors.map((e=>{let{slug:t,color:n}=e;return Object(s.createElement)($e.ColorIndicator,{key:t,value:`rgb(${n.join(",")})`})})))))))))},Kt=e=>{let{areaIdentifier:t}=e;return Object(S.useSelect)((e=>e(O.STORE_KEY).isEditorSidebarOpened(t)),[])&&Object(s.createElement)(Gt,null)};function Ht(e){let{parentAreaIdentifier:t}=e;return Object(s.createElement)(De,{title:"Color Scheme",parentAreaIdentifier:t,areaIdentifier:`${t}/color-scheme`},Object(s.createElement)(Kt,{areaIdentifier:`${t}/color-scheme`}))}function Vt(){const{globalStyle:e,getStyleDefaultGlobalValue:t}=Object(h.useGlobalDataStyle)(),n={styledComponent:"transition"};return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.PanelBody,{initialOpen:!0,title:Object(T.__)("Effects","kubio")},Object(s.createElement)($e.RangeWithUnitControl,{label:Object(T.__)("Transition Duration","kubio"),value:(o="duration",r={unit:"s"},e.getStyle(o,r,{...n,...a})),onChange:t=>((t,o,r)=>e.setStyle(t,o,{...n,...r}))("duration",t),onReset:()=>((o,r)=>{const a={...n,...r},i=t(o,a);i?e.setStyle(o,i,a):e.setStyle(o,null,{...a,unset:!0})})("duration"),min:0,max:5,step:.01})));var o,r,a}const Ut=e=>{let{areaIdentifier:t}=e;const n=Object(S.useSelect)((e=>e(O.STORE_KEY).isEditorSidebarOpened(t)),[]),o=Object(S.useSelect)((e=>{var t,n;return(null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme)||null}));return n&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Vt,null),!o&&Object(s.createElement)($e.ControlNotice,{className:"notice-general-settings",content:Object(T.__)("These settings are applied to Kubio blocks and the blocks within.","kubio")}))};var $t=e=>{let{parentAreaIdentifier:t}=e;return Object(s.createElement)(De,{title:Object(T.__)("Global Effects","kubio"),label:Object(T.__)("Effects","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/effects`},Object(s.createElement)(Ut,{areaIdentifier:`${t}/effects`}))},Yt=n(93);const Wt=()=>{const[e,t]=Object(s.useState)(""),{globalStyle:n,resetToInitialData:o}=Object(h.useGlobalDataStyle)(),r="form-fields",a={type:u.WithDataPathTypes.STYLE,style:r,dataHelper:n};return Object(s.createElement)(v.PanelBody,{initialOpen:!1,title:Object(T.__)("Form fields","kubio")},Object(s.createElement)(v.BaseControl,{label:Object(T.__)("State","kubio")},Object(s.createElement)(Yt.StatesControl,{activeState:e,setActiveState:t,availableStates:["normal","hover","focus","disabled"]}),Object(s.createElement)($e.ColorWithPath,Object(x.a)({label:Object(T.__)("Text color","kubio"),path:"typography.color",state:e},a,{onReset:o("typography.color",{styledComponent:r,state:e})})),Object(s.createElement)($e.ColorWithPath,Object(x.a)({label:Object(T.__)("Background color","kubio"),state:e,path:"background.color",showReset:!0},a,{onReset:o("background.color",{styledComponent:r,state:e})})),Object(s.createElement)($e.ColorWithPath,Object(x.a)({label:Object(T.__)("Border color","kubio"),path:["border.top.color","border.bottom.color","border.left.color","border.right.color"],state:e},a,{onReset:o(["border.top.color","border.bottom.color","border.left.color","border.right.color"],{styledComponent:r,state:e})})),Object(s.createElement)($e.SeparatorHorizontalLine,null),Object(s.createElement)($e.TypographyControlPopupWithPath,Object(x.a)({path:"typography"},a,{onReset:o("typography",{styledComponent:r})})),Object(s.createElement)($e.SeparatorHorizontalLine,null),Object(s.createElement)($e.BoxUnitValueControlWithPath,Object(x.a)({label:Object(T.__)("Padding","kubio"),path:"padding"},a,{onReset:o("padding",{styledComponent:r})})),Object(s.createElement)($e.BoxUnitValueControlWithPath,Object(x.a)({label:Object(T.__)("Margin","kubio"),path:"margin"},a,{onReset:o("margin",{styledComponent:r})})),Object(s.createElement)($e.SeparatorHorizontalLine,null),Object(s.createElement)($e.BordersAndRadiusWithPath,Object(x.a)({path:"border"},a,{withColor:!1,onReset:o("border",{styledComponent:r})}))))},qt=e=>{let{styledElement:t="form-submit-button",title:n=Object(T.__)("Form submit button","kubio")}=e;const[o,r]=Object(s.useState)(""),{globalStyle:a,resetToInitialData:i}=Object(h.useGlobalDataStyle)(),l={type:u.WithDataPathTypes.STYLE,style:t,dataHelper:a};return Object(s.createElement)(v.PanelBody,{initialOpen:!1,title:n},Object(s.createElement)(v.BaseControl,{label:Object(T.__)("State","kubio")},Object(s.createElement)(Yt.StatesControl,{activeState:o,setActiveState:r,availableStates:["normal","hover","disabled"]}),Object(s.createElement)($e.GradientColorPickerWithPath,Object(x.a)({label:Object(T.__)("Background","kubio"),path:"background",state:o},l,{onReset:i("background",{styledComponent:t,state:o})})),Object(s.createElement)($e.ColorWithPath,Object(x.a)({label:Object(T.__)("Text color","kubio"),path:"typography.color",state:o},l,{onReset:i("typography.color",{styledComponent:t,state:o})})),Object(s.createElement)($e.ColorWithPath,Object(x.a)({label:Object(T.__)("Border color","kubio"),path:["border.top.color","border.bottom.color","border.left.color","border.right.color"],state:o},l,{onReset:i(["border.top.color","border.bottom.color","border.left.color","border.right.color"],{styledComponent:t,state:o})})),Object(s.createElement)($e.SeparatorHorizontalLine,null),Object(s.createElement)($e.TypographyControlPopupWithPath,Object(x.a)({path:"typography"},l,{onReset:i("typography",{styledComponent:t})})),Object(s.createElement)($e.SeparatorHorizontalLine,null),Object(s.createElement)($e.BoxUnitValueControlWithPath,Object(x.a)({label:Object(T.__)("Padding","kubio"),path:"padding"},l,{onReset:i("padding",{styledComponent:t})})),Object(s.createElement)($e.BoxUnitValueControlWithPath,Object(x.a)({label:Object(T.__)("Margin","kubio"),path:"margin"},l,{onReset:i("margin",{styledComponent:t})})),Object(s.createElement)($e.SeparatorHorizontalLine,null),Object(s.createElement)($e.BordersAndRadiusWithPath,Object(x.a)({path:"border"},l,{withColor:!1,onReset:i("border",{styledComponent:t})})),Object(s.createElement)($e.SeparatorHorizontalLine,null),Object(s.createElement)($e.BoxShadowWithPath,Object(x.a)({path:"boxShadow"},l,{onReset:i("boxShadow",{styledComponent:t})}))))},Xt=e=>{let{areaIdentifier:t}=e;const n=Object(S.useSelect)((e=>e(O.STORE_KEY).isEditorSidebarOpened(t)),[]),o=Object(S.useSelect)((e=>{var t,n;return(null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme)||null}));return n&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Wt,null),Object(s.createElement)(qt,{styledElement:"form-button",title:Object(T.__)("Form button","kubio")}),Object(s.createElement)(qt,{styledElement:"form-submit-button",title:Object(T.__)("Form submit button","kubio")}),Object(s.createElement)(qt,{styledElement:"form-reset-button",title:Object(T.__)("Form reset button","kubio")}),!o&&Object(s.createElement)($e.ControlNotice,{className:"notice-general-settings",content:Object(T.__)("These settings are applied to Kubio blocks and the blocks within.","kubio")}))},Qt=e=>{let{parentAreaIdentifier:t}=e;return Object(s.createElement)(De,{title:Object(T.__)("Form Elements","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/form-elements`},Object(s.createElement)(Xt,{areaIdentifier:`${t}/form-elements`}))},Zt={H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6"},Jt={headingType:{values:Zt,options:[{value:Zt.H1,label:"H1"},{value:Zt.H2,label:"H2"},{value:Zt.H3,label:"H3"},{value:Zt.H4,label:"H4"},{value:Zt.H5,label:"H5"},{value:Zt.H6,label:"H6"}]}},en=()=>{const[e,t]=Object(h.useGlobalDataSetting)("googleFonts.serveLocally");return Object(s.createElement)(s.Fragment,null,Object(s.createElement)($e.ToggleControl,{label:Object(T.__)("Serve Google Fonts locally","kubio"),value:e,onChange:t}),Object(s.createElement)($e.ControlNotice,{className:"notice-general-settings no-padding",content:Object(T.__)("When this option is turned on the Google Fonts used in your site will be downloaded and served from your server instead of the Google server. This will minimize the DNS requests, reduce the Cumulative Layout Shift and serve your Google Fonts in a 100% GDPR compliant way.","kubio")}))},{weightOptions:tn,sizeUnitsOptions:nn,sizeUnitsConfig:on,styleOptions:rn,transformOptions:an,decorationOptions:ln}=$e.TypographyConfig,cn=e=>{const{globalStyle:t,getStyleDefaultGlobalValue:n,getStyleInitialDefaultGlobalValue:o}=Object(h.useGlobalDataStyle)();return((e,t,n,o)=>{const r={styledComponent:"body"};return{setTypography:function(n,o){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=a.state?`states.${a.state}`:null;a=Object(p.omit)(a,"state");const l=["typography","holders",t,i,n].filter(Boolean).join("."),c=m.a.merge({},r,a);e.setStyle(l,o,c)},getTypography:function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=a.state?`states.${a.state}`:null;a=Object(p.omit)(a,"state");const l=["typography","holders",t,i,n].filter(Boolean).join("."),c=m.a.merge({},r,a);return e.getStyle(l,o,c)},unsetTypography:function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a.state?`states.${a.state}`:null;a=Object(p.omit)(a,"state");const l=["typography","holders",t,i,n].filter(Boolean).join("."),c=m.a.merge({},r,a),s=o(l,c);e.setStyle(l,s,c)}}})(t,e,0,o)},sn=e=>{let{getTypography:t,setTypography:n,unsetTypography:o,showTransform:r=!1,showDecoration:a=!0}=e;return Object(s.createElement)($e.PopoverOptionsButton,{label:Object(T.__)("Advanced","kubio"),popoverWidth:250,popupContent:Object(s.createElement)(s.Fragment,null,r&&Object(s.createElement)($e.GutentagSelectControl,{label:Object(T.__)("Transform","kubio"),options:an,value:t("transform"),onChange:e=>n("transform",e)}),a&&Object(s.createElement)($e.GutentagSelectControl,{label:Object(T.__)("Decoration","kubio"),options:ln,value:t("decoration",""),onChange:e=>n("decoration",e)}),Object(s.createElement)($e.GutentagSelectControl,{label:Object(T.__)("Style","kubio"),options:rn,value:t("style"),onChange:e=>n("style",e)}),Object(s.createElement)($e.SeparatorHorizontalLine,{fit:!0}),Object(s.createElement)($e.RangeWithUnitControl,{label:Object(T.__)("Line Height","kubio"),value:t("lineHeight"),onChange:e=>n("lineHeight",e),onReset:()=>o("lineHeight"),defaultUnit:"",min:0,max:10,step:.1}),Object(s.createElement)($e.RangeWithUnitControl,{label:Object(T.__)("Letter Spacing","kubio"),value:t("letterSpacing",{value:"",unit:"px"}),onChange:e=>n("letterSpacing",e),onReset:()=>o("letterSpacing"),min:0,max:10,step:.1,units:nn}))})},un=e=>{let{element:t="h1"}=e;const{getTypography:n,setTypography:o,unsetTypography:r}=cn(t),{getFontWeights:a}=Object(h.useGlobalDataFonts)(),i=a(n("family")),l=tn.filter((e=>-1!==i.indexOf(e.value)));return Object(s.createElement)(v.BaseControl,null,Object(s.createElement)(v.Flex,{className:"kubio-font-family-container general-typography"},Object(s.createElement)(v.FlexBlock,null,Object(s.createElement)("span",{className:"kubio-font-family-label"},Object(T.__)("Font family","kubio"))),Object(s.createElement)(v.FlexItem,null,Object(s.createElement)($e.FontPicker,{value:n("family"),onChange:e=>o("family",e)}))),Object(s.createElement)($e.GutentagSelectControl,{className:"kubio-select-control-container",label:Object(T.__)("Font weight","kubio"),options:l,value:parseInt(n("weight")),onChange:e=>o("weight",e)}),Object(s.createElement)($e.InlineLabeledControl,{label:Object(T.__)("Color","kubio")},Object(s.createElement)($e.ColorIndicatorPopover,{color:n("color"),onChange:e=>o("color",e),onReset:()=>r("color"),showReset:!0})),Object(s.createElement)($e.RangeWithUnitControl,{label:Object(T.__)("Size","kubio"),units:nn,optionsByUnit:on,onChange:e=>o("size",e),value:n("size"),onReset:()=>r("size")}),Object(s.createElement)(sn,{getTypography:n,setTypography:o,unsetTypography:r,showTransform:!0}))},bn=()=>{const[e,t]=Object(s.useState)(""),{getTypography:n,setTypography:o,unsetTypography:r}=cn("a");return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.BaseControl,null,Object(s.createElement)(v.Flex,{className:"kubio-font-family-container"},Object(s.createElement)(v.FlexBlock,null,Object(s.createElement)("span",{className:"kubio-font-family-label"},Object(T.__)("Font family","kubio"))),Object(s.createElement)(v.FlexItem,null,Object(s.createElement)($e.FontPicker,{label:Object(T.__)("Font family","kubio"),value:n("family"),onChange:e=>o("family",e)}))),Object(s.createElement)($e.GutentagSelectControl,{label:Object(T.__)("Font Weight","kubio"),options:tn,value:parseInt(n("weight")),onChange:e=>o("weight",e)}),Object(s.createElement)($e.RangeWithUnitControl,{label:Object(T.__)("Size","kubio"),units:nn,value:n("size"),onChange:e=>o("size",e),onReset:()=>r("size")}),Object(s.createElement)(v.BaseControl,{label:Object(T.__)("State","kubio")},Object(s.createElement)(Yt.StatesControl,{activeState:e,setActiveState:t,availableStates:["normal","hover","visited"]})),Object(s.createElement)($e.InlineLabeledControl,{label:Object(T.__)("Color","kubio")},Object(s.createElement)($e.ColorIndicatorPopover,{color:n("color","",{state:e}),onChange:t=>o("color",t,{state:e}),onReset:()=>{r("color",{state:e})},showReset:!0})),Object(s.createElement)($e.GutentagSelectControl,{label:Object(T.__)("Decoration","kubio"),options:ln,value:n("decoration","",{state:e}),onChange:t=>o("decoration",t,{state:e})}),Object(s.createElement)($e.SeparatorHorizontalLine,null),Object(s.createElement)(sn,{getTypography:n,setTypography:o,unsetTypography:r,showTransform:!0,showDecoration:!1})))},dn=()=>{const[e,t]=Object(s.useState)("h1"),n=Object(S.useSelect)((e=>{var t,n;return(null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme)||null}));return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.PanelBody,{initialOpen:!1,title:Object(T.__)("Headings","kubio")},Object(s.createElement)($e.ToggleGroup,{label:Object(T.__)("Setup Headings","kubio"),options:Jt.headingType.options,value:e,onChange:t}),Object(s.createElement)(un,{element:e})),Object(s.createElement)(v.PanelBody,{initialOpen:!1,title:Object(T.__)("Body Text","kubio")},Object(s.createElement)(un,{element:"p"})),Object(s.createElement)(v.PanelBody,{initialOpen:!1,title:Object(T.__)("Lead Text","kubio")},Object(s.createElement)(un,{element:"lead"})),Object(s.createElement)(v.PanelBody,{initialOpen:!1,title:Object(T.__)("Links","kubio")},Object(s.createElement)(bn,null)),Object(s.createElement)(v.PanelBody,{initialOpen:!1,title:Object(T.__)("Adobe TypeKit","kubio")},Object(s.createElement)($e.TypeKitSetupInterface,{showNotice:!0})),Object(s.createElement)(v.PanelBody,{initialOpen:!1,title:Object(T.__)("Google Fonts Settings","kubio")},Object(s.createElement)(en,{showNotice:!0})),!n&&Object(s.createElement)($e.ControlNotice,{className:"notice-general-settings",content:Object(T.__)("These settings are applied to Kubio blocks and the blocks within.","kubio")}))},pn=e=>{let{areaIdentifier:t}=e;return Object(S.useSelect)((e=>e(O.STORE_KEY).isEditorSidebarOpened(t)),[])?Object(s.createElement)(dn,null):Object(s.createElement)(s.Fragment,null)};var mn=e=>{let{parentAreaIdentifier:t}=e;return Object(s.createElement)(De,{title:Object(T.__)("Typography","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/typography`},Object(s.createElement)(pn,{areaIdentifier:`${t}/typography`}))};const fn=()=>{const{logoImage:e,alternateLogoImage:t,setLogoImage:n,setAlternateLogoImage:o}=Object(h.useSiteLogoImages)(),[r,a]=Object(k.useEntityProp)("root","site","title"),[i,l]=Object(k.useEntityProp)("root","site","description"),[c,u]=Object(k.useEntityProp)("root","site","site_icon"),{siteIconUrl:b}=Object(S.useSelect)((e=>{var t;const{getMedia:n}=e("core");return{siteIconUrl:(null===(t=n(c))||void 0===t?void 0:t.source_url)||""}}));return Object(s.createElement)(v.PanelBody,{title:Object(T.__)("Site Identity","kubio"),className:"kubio-site-identity-panel"},Object(s.createElement)(v.BaseControl,{label:Object(T.__)("Site title","kubio"),id:"site-title-control"},Object(s.createElement)($e.InputControl,{value:r||"",onChange:e=>a(e)})),Object(s.createElement)(v.BaseControl,{label:Object(T.__)("Tagline","kubio"),id:"tagline-control"},Object(s.createElement)($e.InputControl,{value:i||"",onChange:e=>l(e)})),Object(s.createElement)($e.SeparatorHorizontalLine,null),Object(s.createElement)(v.BaseControl,{label:Object(T.__)("Logo image","kubio"),id:"logo-image-control"},Object(s.createElement)($e.MediaPicker,{value:e,type:"image",showButton:!0,onReset:()=>{n(null)},buttonLabel:Object(T.__)("Change image","kubio"),removeButtonLabel:Object(T.__)("Reset image","kubio"),onChange:e=>n(e.id)})),Object(s.createElement)(v.BaseControl,{label:Object(T.__)("Alternate logo image","kubio"),id:"alternate-logo-image-control"},Object(s.createElement)($e.MediaPicker,{value:t,type:"image",showButton:!0,showRemoveButton:!0,onReset:()=>{o(null)},buttonLabel:Object(T.__)("Change alternate image","kubio"),removeButtonLabel:Object(T.__)("Reset image","kubio"),onChange:e=>o(e.url)})),Object(s.createElement)($e.SeparatorHorizontalLine,null),Object(s.createElement)(v.BaseControl,{label:Object(T.__)("Site Icon","kubio"),id:"site-icon-control",help:Object(T.__)("Site Icons are what you see in browser tabs, bookmark bars, and within the WordPress mobile apps. Upload one here!","kubio")},Object(s.createElement)($e.MediaPicker,{value:""!==b?b:null,type:"image",showButton:!0,showRemoveButton:!0,onReset:()=>{u(null)},buttonLabel:Object(T.__)("Set site icon","kubio"),onChange:e=>u(e.id)})))},On=e=>{let{areaIdentifier:t}=e;const n=Object(S.useSelect)((e=>e(O.STORE_KEY).getEditorOpenedSidebar()),[]),o=null==n?void 0:n.endsWith(t);return Object(s.createElement)(s.Fragment,null,o&&Object(s.createElement)(fn,null))};function gn(e){let{parentAreaIdentifier:t}=e;return Object(s.createElement)(De,{title:Object(T.__)("Site Identity","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/site-identity`},Object(s.createElement)(On,{areaIdentifier:`${t}/site-identity`}))}const hn=()=>{const{globalStyle:e,getPropDefaultGlobalValue:t,getStyleDefaultGlobalValue:n}=Object(h.useGlobalDataStyle)(),o=(t,n,o)=>e.getPropInMedia(t,n,{...o}),r=(t,n)=>o=>e.setPropInMedia(t,o,{...n}),a=function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return()=>{const r=t(n,o);e.setPropInMedia(n,r,o)}},i={styledComponent:"sectionSpacing"};return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.PanelBody,{initialOpen:!0,title:Object(T.__)("Spacing","kubio")},Object(s.createElement)($e.RangeWithUnitControl,{label:Object(T.__)("Horizontal space between buttons/links","kubio"),units:$e.sizeUnitsOptions,onChange:r("hSpace"),value:o("hSpace",{unit:"px"}),onReset:a("hSpace")}),Object(s.createElement)($e.RangeWithUnitControl,{label:Object(T.__)("Column contents vertical spacing","kubio"),units:$e.sizeUnitsOptions,onChange:r("vSpace"),value:o("vSpace",{unit:"px"}),onReset:a("vSpace")}),Object(s.createElement)($e.RangeWithUnitControl,{label:Object(T.__)("Section vertical spacing","kubio"),units:$e.sizeUnitsOptions,value:e.getStyle("padding.top",{unit:"px"},i),onChange:t=>{e.setStyle("padding.top",t,i),e.setStyle("padding.bottom",t,i)},onReset:()=>{const t=n("padding.top",i);e.setStyle("padding.top",t,i);const o=n("padding.bottom",i);e.setStyle("padding.bottom",o,i)}})))},jn=e=>{let{areaIdentifier:t}=e;const n=Object(S.useSelect)((e=>e(O.STORE_KEY).isEditorSidebarOpened(t)),[]),o=Object(S.useSelect)((e=>{var t,n;return(null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme)||null}));return n&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(hn,null),!o&&Object(s.createElement)($e.ControlNotice,{className:"notice-general-settings",content:Object(T.__)("These settings are applied to Kubio blocks and the blocks within.","kubio")}))};var En=e=>{let{parentAreaIdentifier:t}=e;return Object(s.createElement)(De,{title:Object(T.__)("Global Spacing","kubio"),label:Object(T.__)("Spacing","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/spacing`},Object(s.createElement)(jn,{areaIdentifier:`${t}/spacing`}))};const vn=e=>{let{type:t}=e;const{templateOptions:n,templatePartsOptions:o,config:r,getTemplatePartBlockByTemplateId:a,getTemplatePartSlugByTemplateId:i,onChangeTemplatePartSlugByTemplateId:l}=Object(u.useTemplateData)(t),c=m.a.capitalize(m.a.get(r,"label","Part")),{coreTemplateOptions:b,customTemplateOptions:d}=Object(u.useDeepMemo)((()=>({coreTemplateOptions:n.filter((e=>e.isCoreTemplate)),customTemplateOptions:n.filter((e=>!e.isCoreTemplate))})),[n]),p={getTemplatePartSlugByTemplateId:i,onChangeTemplatePartSlugByTemplateId:l,getTemplatePartBlockByTemplateId:a,typeLabel:c,templatePartsOptions:o},f=d.length>0;return Object(s.createElement)(v.PanelBody,{title:c,initialOpen:!1},Object(s.createElement)("div",{className:"kubio-general-setting-templates"},Object(s.createElement)(yn,Object(x.a)({label:Object(T.__)("System templates","kubio"),templateOptions:b},p)),f&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)($e.SeparatorHorizontalLine,null),Object(s.createElement)(yn,Object(x.a)({label:Object(T.__)("Custom templates","kubio"),templateOptions:d},p)))))};function yn(e){let{label:t=Object(T.__)("Templates","kubio"),templateOptions:n=[],getTemplatePartSlugByTemplateId:o,getTemplatePartBlockByTemplateId:r,onChangeTemplatePartSlugByTemplateId:a,typeLabel:i,templatePartsOptions:l}=e;return Object(s.createElement)(v.BaseControl,null,Object(s.createElement)(v.BaseControl.VisualLabel,{className:"kubio-template-list__label"},t),n.map((e=>{const t=o(e.value),n=!!r(e.value);return Object(s.createElement)("div",{key:e.value+n,className:"kubio-general-setting-templates__item-container"},n&&Object(s.createElement)($e.GutentagSelectControl,{inlineLabel:!1,label:e.label,options:l,value:t,onChange:a(e.value)}),!n&&Object(s.createElement)(v.BaseControl,{className:"kubio-general-setting-templates__not-found-notice"},Object(s.createElement)(v.BaseControl.VisualLabel,null,e.label),Object(s.createElement)($e.ControlNotice,{showLabel:!1,content:Object(T.sprintf)(// translators: %s template type label
Object(T.__)("%s block not found in template","kubio"),i)})))})))}const _n=e=>{let{areaIdentifier:t}=e;const n=Object(S.useSelect)((e=>e(O.STORE_KEY).isEditorSidebarOpened(t)),[]);return Object(s.createElement)(s.Fragment,null,n&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(vn,{type:"header"}),Object(s.createElement)(vn,{type:"footer"}),Object(s.createElement)(vn,{type:"sidebar"})))};var kn=e=>{let{parentAreaIdentifier:t}=e;return Object(S.useSelect)((e=>{var t,n;return null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme}))?Object(s.createElement)(De,{title:Object(T.__)("Templates","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/templates`},Object(s.createElement)(_n,{areaIdentifier:`${t}/templates`})):null};function Sn(e){let{parentAreaIdentifier:t}=e;const n=`${t}/general-settings`;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(De,{title:Object(T.__)("General Settings","kubio"),areaIdentifier:n},Object(s.createElement)(gn,{parentAreaIdentifier:n}),Object(s.createElement)(mn,{parentAreaIdentifier:n}),Object(s.createElement)(Qt,{parentAreaIdentifier:n}),Object(s.createElement)(kn,{parentAreaIdentifier:n}),Object(s.createElement)(Ht,{parentAreaIdentifier:n}),Object(s.createElement)(En,{parentAreaIdentifier:n}),Object(s.createElement)($t,{parentAreaIdentifier:n}),Object(s.createElement)(Nt,{parentAreaIdentifier:n})))}const wn=e=>{let{addItem:t}=e;const[n,o]=Object(s.useState)(!1),[r,a]=Object(s.useState)(Object(it.generateItemInitialData)()),i=Object(s.useRef)(null);return Object(s.createElement)("div",{ref:i},Object(s.createElement)(v.Button,{onClick:()=>o(!0),className:"kubio-button-100",isPrimary:!0},Object(T.__)("Add menu item","kubio")),n&&Object(s.createElement)(v.Popover,{position:"middle left",className:"kubio-options-popover",onClose:()=>{o(!1)},anchorRef:i.current},Object(s.createElement)($e.MenuItemOptions,{item:r,isAdd:!0,onChange:e=>{t(e),o(!1),a(Object(it.generateItemInitialData)())},afterUpdateClick:()=>o(!1),updateLabel:Object(T.__)("Add item","kubio")})))},Tn=e=>{let{item:t,onItemChange:n,onRemoveItem:o,onTogglePopover:r}=e;const[a,i]=Object(s.useState)(t);Object(s.useEffect)((()=>{i(t)}),[t]);const l=e=>{const t={...a,...e};i(t),n(t)},c=Object(s.useRef)();return Object(s.createElement)("div",{ref:c},Object(s.createElement)(v.Flex,{className:"kubio-inspector-menu-item-content"},Object(s.createElement)(v.FlexBlock,null,Object(s.createElement)(v.Tooltip,{text:Object(Ye.stripTags)(a.label)},Object(s.createElement)("span",{className:"kubio-inspector-menu-item-label"},Object(Ye.stripTags)(a.label)))),Object(s.createElement)(v.FlexItem,{className:"kubio-inspector-menu-items-settings"},Object(s.createElement)(v.Flex,{gap:1},Object(s.createElement)(v.FlexItem,null,Object(s.createElement)(v.Button,{className:"kubio-inspector-menu-remove-item",isSmall:!0,iconSize:18,onClick:()=>o(a),icon:_e.DeleteItemIcon})),Object(s.createElement)(v.FlexItem,null,Object(s.createElement)($e.PopoverOptionsButton,{iconSize:18,popoverClass:"kubio-menu-edit-popover",popoverAnchorRef:c,popupContent:e=>Object(s.createElement)($e.MenuItemOptions,{item:a,onChange:l,afterUpdateClick:e}),onPopoverClose:()=>r(!1),onPopoverOpen:()=>r(!0)}))))))},xn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.filter((e=>e.parent===t)).map((t=>({...t,children:t.id?xn(e,t.id):[]})))},In=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map(((e,n)=>[{...Object(p.omit)(e,["children","block"]),order:n+1,parent:t},...In(e.children||[],e.id)])).reduce(((e,t)=>e.concat(t)),[])},Cn=e=>{let{items:t=[],setItems:n,isResolving:o,hasResolved:r}=e;const[a,i]=Object(s.useState)(-1/0),l=Object(s.useMemo)((()=>xn(t)),[t]),c=Object(s.useCallback)((e=>{n(e,!0)}),[n]),u=Object(s.useCallback)((e=>{let n=Object(p.cloneDeep)(t).filter((t=>t.id!==e.id)).map((t=>(t.parent===e.id&&(t.parent=e.parent),t))),o=0;n=n.map((t=>t.parent===e.parent?(o++,{...t,order:o}):t)),c(n)}),[c]),b=Object(s.useCallback)((e=>{const t=In(e);c(t)}),[c]),d=Object(s.useCallback)((e=>{if(!e.id)return void console.error("Can not update item without id");const n=Object(p.cloneDeep)(t).map((t=>t.id===e.id?{...t,...e}:t));c(n)}),[c]),m=Object(s.useCallback)((e=>{let{item:t}=e;return Object(s.createElement)(Tn,{item:t,onItemChange:d,onRemoveItem:u,onTogglePopover:e=>{i(e?t.id:-1/0)}})}),[i,d,u]),f=l.length>0,O=Object(s.useCallback)((e=>e.id===a),[a]);return Object(s.createElement)(v.BaseControl,null,Object(s.createElement)("div",{className:"kubio-inspector-menu-tree"},o&&Object(s.createElement)($e.LoadingPlaceholder,{message:Object(T.__)("Loading menu …","kubio")}),r&&f&&Object(s.createElement)($e.SortableTree,{items:l,renderItem:m,handler:!0,collapsable:!1,onChange:b,isActive:O}),r&&!f&&Object(s.createElement)($e.SmallPlaceholder,{message:Object(T.__)("Empty menu","kubio")})))},Pn=e=>{let{menu:t}=e;const{setItems:n,items:o=[],isResolving:r,hasResolved:a}=Object(it.useMenuBlockEditor)(t.id),i=Object(s.useCallback)((e=>{n([...o,{...e,order:o.length+1}],!0)}),[o]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.PanelBody,{title:Object(T.__)("Menu Structure","kubio")},Object(s.createElement)(Cn,{menuId:t.id,items:o,setItems:n,isResolving:r,hasResolved:a}),Object(s.createElement)(wn,{addItem:i})))},Rn=e=>{let{menu:t,areaIdentifier:n}=e;const o=Object(S.useSelect)((e=>e(O.STORE_KEY).getEditorOpenedSidebar()));return o&&-1!==o.indexOf(n)&&Object(s.createElement)(Pn,{menu:t})},Nn=e=>{let{parentAreaIdentifier:t,menu:n}=e;const o=`${t}/menu-${n.id}`;return Object(s.createElement)(De,{title:Object(T.sprintf)(// translators: %s is for the menu name
Object(T.__)("Menu: %s","kubio"),n.name||Object(T.__)("Unnamed menu","kubio")),label:n.name||Object(T.__)("Unnamed menu","kubio"),parentAreaIdentifier:t,areaIdentifier:o},Object(s.createElement)(Rn,{areaIdentifier:o,menu:n}))},An=()=>{const[e,t]=Object(s.useState)(!1),[n,o]=Object(s.useState)(!1),[r,a]=Object(s.useState)(""),i=Object(s.useRef)(),{saveMenu:l}=Object(S.useDispatch)("core"),{createErrorNotice:c,createInfoNotice:u}=Object(S.useDispatch)(d.store),b=Object(s.useCallback)((()=>{n?u(Object(T.__)("Another menu creation is in progress","kubio"),{type:"snackbar"}):(t(!e),a(""))}),[e,t,n]),p=Object(s.useCallback)((async()=>{if(!n){o(!0);try{await l({name:r})}catch(e){c(Object(T.__)("Menu creation failed","kubio"),{type:"snackbar"})}t(!1),o(!1)}}),[t,l,r,n,o]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.BaseControl,{className:"kubio-create-menu-button"},Object(s.createElement)(v.Button,{onClick:b,isPrimary:!0,className:"kubio-button-100",ref:i,isBusy:n},Object(T.__)("Create menu","kubio"))),e&&Object(s.createElement)(v.Popover,{position:"middle left",className:"kubio-options-popover",anchorRef:i.current,onClose:()=>t(!1)},Object(s.createElement)("div",null,Object(s.createElement)(v.BaseControl,null,Object(s.createElement)($e.InputControl,{label:Object(T.__)("Menu name","kubio"),onChange:a,value:r,disabled:n})),Object(s.createElement)(v.BaseControl,null,Object(s.createElement)(v.Button,{onClick:p,isPrimary:!0,disabled:n,isBusy:n,className:"kubio-button-100"},Object(T.__)("Create menu","kubio"))))))},Bn=e=>{let{areaIdentifier:t}=e;const{menus:n}=Object(S.useSelect)((e=>{const{getMenus:t,isResolving:n,hasFinishedResolution:o}=e("core"),r=[{per_page:-1}];return{menus:t(...r),isResolvingMenus:n("getMenus",r),hasResolvedMenus:o("getMenus",r)}}));return Object(s.createElement)(s.Fragment,null,null==n?void 0:n.map((e=>Object(s.createElement)(Nn,{key:e.id,parentAreaIdentifier:t,menu:e}))))};function Dn(e){let{parentAreaIdentifier:t}=e;const n=`${t}/menus-settings`;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(De,{title:Object(T.__)("Menus","kubio"),areaIdentifier:n},Object(s.createElement)(Bn,{areaIdentifier:n}),Object(s.createElement)(An,null)))}var Mn=function(){return Object(s.createElement)(w.PostTypeSupportCheck,{supportKeys:["comments","trackbacks"]},Object(s.createElement)(v.PanelBody,{title:Object(T.__)("Discussion","kubio")},Object(s.createElement)(w.PostTypeSupportCheck,{supportKeys:"comments"},Object(s.createElement)(v.PanelRow,null,Object(s.createElement)(w.PostComments,null))),Object(s.createElement)(w.PostTypeSupportCheck,{supportKeys:"trackbacks"},Object(s.createElement)(v.PanelRow,null,Object(s.createElement)(w.PostPingbacks,null)))))},Ln=n(218);const Fn=Object(S.withSelect)((e=>{const{getCurrentPostType:t}=e(Ln.STORE_KEY),{getPostType:n}=e(k.store);return{postType:n(t())}}));var zn=Object(y.compose)(Fn)((function(e){let{postType:t}=e;return Object(s.createElement)(w.PostFeaturedImageCheck,null,Object(s.createElement)(v.PanelBody,{title:Object(p.get)(t,["labels","featured_image"],Object(T.__)("Featured image","kubio"))},Object(s.createElement)(w.PostFeaturedImage,null)))}));var Gn=function(){const{postType:e}=Object(S.useSelect)((e=>{const{getCurrentPostType:t}=e(Ln.STORE_KEY),{getPostType:n}=e(k.store);return{postType:n(t())}}),[]);return e?Object(s.createElement)(w.PageAttributesCheck,null,Object(s.createElement)(v.PanelBody,{title:Object(p.get)(e,["labels","attributes"],Object(T.__)("Page attributes","kubio"))},Object(s.createElement)(w.PageAttributesParent,null),Object(s.createElement)(v.PanelRow,null,Object(s.createElement)(w.PageAttributesOrder,null)))):null};var Kn=function(){return Object(s.createElement)(w.PostExcerptCheck,null,Object(s.createElement)(v.PanelBody,{title:Object(T.__)("Excerpt","kubio")},Object(s.createElement)(w.PostExcerpt,null)))};var Hn=Object(y.compose)([Object(S.withSelect)((e=>{const{isPermalinkEditable:t,getCurrentPost:n,isCurrentPostPublished:o,getPermalinkParts:r,getEditedPostAttribute:a,getEditedPostSlug:i}=e(w.store),{getPostType:l}=e(k.store),{link:c}=n(),s=l(a("type")),u=r();return{postLink:c,isEditable:t(),isPublished:o(),isViewable:Object(p.get)(s,["viewable"],!1),postSlug:Object(Ee.safeDecodeURIComponent)(i()),postTypeLabel:Object(p.get)(s,["labels","view_item"]),hasPermalinkParts:!!u,permalinkPrefix:null==u?void 0:u.prefix,permalinkSuffix:null==u?void 0:u.suffix}})),Object(y.ifCondition)((e=>{let{isEnabled:t,postLink:n,isViewable:o,hasPermalinkParts:r}=e;return t&&n&&o&&r}))])((function(e){let{postLink:t,permalinkPrefix:n,permalinkSuffix:o,editPermalink:r,postSlug:a,postTypeLabel:i,isEditable:l}=e;const[c,u]=Object(s.useState)(!1);let b,d,p;return l&&(b=n&&Object(s.createElement)("span",{className:"edit-post-post-link__link-prefix"},n),d=a&&Object(s.createElement)("span",{className:"edit-post-post-link__link-post-name"},a),p=o&&Object(s.createElement)("span",{className:"edit-post-post-link__link-suffix"},o)),Object(s.createElement)(v.PanelBody,{title:Object(T.__)("Permalink","kubio")},l&&Object(s.createElement)("div",{className:"editor-post-link"},Object(s.createElement)($e.InputControl,{label:Object(T.__)("URL Slug","kubio"),value:c?"":a,onChange:e=>{r(e),e?c&&u(!1):c||u(!0)},onBlur:e=>{r(Object(w.cleanForSlug)(e.target.value)),c&&u(!1)}}),Object(s.createElement)("p",null,Object(T.__)("The last part of the URL.","kubio")," ",Object(s.createElement)(v.ExternalLink,{href:"https://wordpress.org/support/article/writing-posts/#post-field-descriptions"},Object(T.__)("Read about permalinks","kubio")))),Object(s.createElement)("h3",{className:"edit-post-post-link__preview-label"},i||Object(T.__)("View post","kubio")),Object(s.createElement)("div",{className:"edit-post-post-link__preview-link-container"},Object(s.createElement)(v.ExternalLink,{className:"edit-post-post-link__link",href:t,target:"_blank"},l?Object(s.createElement)(s.Fragment,null,b,d,p):t)))}));var Vn=function(e){let{taxonomy:t,children:n}=e;const o=Object(p.get)(t,["labels","menu_name"]);return o?Object(s.createElement)(v.PanelBody,{title:o},n):null};var Un=function(){return Object(s.createElement)(w.PostTaxonomiesCheck,null,Object(s.createElement)(w.PostTaxonomies,{taxonomyWrapper:(e,t)=>Object(s.createElement)(Vn,{taxonomy:t},e)}))};function $n(e){let{layoutBlock:t}=e;const{dataHelper:n}=Object(u.useKubioDataHelper)(t),o=Object(we.useQueryLayout)(n);return Object(s.createElement)($e.SelectWithIconControl,Object(x.a)({label:Object(T.__)("Layout","kubio")},o))}var Yn=Object(y.compose)([Object(S.withSelect)((e=>{const{getPage:t=m.a.noop}=e("kubio/edit-site")||{};return{currentPage:t()}}))])((function(e){const{currentPage:t}=e,{getBlocks:n}=Object(S.useSelect)("core/block-editor"),o=m.a.get(t,["context","postId"]),[r,a]=Object(s.useState)();return Object(s.useEffect)((()=>{const e=n(),t=Object(Ye.findBlockByName)(e,"kubio/query-layout");a(t)}),[o]),r?Object(s.createElement)(v.PanelBody,{title:Object(T.__)("Blog layout","kubio"),initialOpen:!0},Object(s.createElement)($n,Object(x.a)({},e,{layoutBlock:r}))):null}));var Wn=function(e){let{onNewTemplate:t}=e;const[n,o]=Object(s.useState)(!1);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{className:"edit-post-template__actions"},Object(s.createElement)(Lt.ProItem,{tag:v.Button,isPrimary:!0,onClick:()=>o(!0),urlArgs:{source:"template",content:"create-new"}},Object(T.__)("Create new template","kubio")),n&&Object(s.createElement)($e.TemplateWizard,{onNewTemplate:t,onClose:()=>{o(!1)}})))};var qn=function(){const{currentPostType:e,currentTemplate:t,currentTemplateLabel:n,availableTemplates:o}=Object(S.useSelect)((e=>{var t;const{getCurrentPageTemplate:n,getCurrentPostType:o,getAvailablePageTemplates:r}=e(O.STORE_KEY),a=o();let i=n();a===i&&(i="");const l=r();return{currentPostType:a,currentTemplate:i,currentTemplateLabel:(null===(t=Object(p.find)(l,{value:i}))||void 0===t?void 0:t.label)||"",availableTemplates:l}}),[]),{onNewTemplate:r,assignTemplate:a,assignClassicTemplate:i}=Object(u.useTemplateData)("header"),l=Object(u.useDeepMemo)((()=>{const e=o.reduce(((e,t)=>{const n=t.source||"custom";return{...e,[n]:[...e[n]||[],t]}}),{});return O.templateGroupPriorities.map((t=>({label:O.templateGroups[t],items:e[t]}))).filter((e=>{var t;return null===(t=e.items)||void 0===t?void 0:t.length}))}),[o]);return"page"!==e||"front-page"===(null==t?void 0:t.replace(".php",""))?Object(s.createElement)(s.Fragment,null):Object(s.createElement)(v.PanelBody,{title:Object(T.sprintf)(/* translators: %s: template title */Object(T.__)("Template: %s","kubio"),n)},Object(s.createElement)($e.GutentagSelectControl,{hideLabelFromVision:!0,label:Object(T.__)("Template:","kubio"),value:t,onChange:async function(e){Object.values(u.defaultTemplatesByPostType).includes(e)&&(e="");const t=o.find((t=>t.value===e));if(!t)return;(null==t?void 0:t.isClassicTemplate)?i(e):a(e)},options:l}),Object(s.createElement)(Wn,{onNewTemplate:r}))};const Xn=["page","post","product"],Qn=e=>{let{areaIdentifier:t}=e;const{currentSidebar:n,isInnerPage:o,isWooPage:r}=Object(S.useSelect)((e=>({isWooPage:e(O.STORE_KEY).getIsWooCommercePage(),currentSidebar:e(O.STORE_KEY).getEditorOpenedSidebar(),isInnerPage:e(O.STORE_KEY).getIsInnerPage()})),[]),a=null==n?void 0:n.endsWith(t),i=o&&!r;return Object(s.createElement)("span",{className:"kubio-page-settings"},a&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Yn,null),i&&Object(s.createElement)(qn,null),Object(s.createElement)(Hn,null),Object(s.createElement)(Un,null),Object(s.createElement)(zn,null),Object(s.createElement)(Kn,null),Object(s.createElement)(Mn,null),Object(s.createElement)(Gn,null)))};function Zn(e){let{parentAreaIdentifier:t}=e;const n=`${t}/page-settings`,{postType:o}=Object(S.useSelect)((e=>{const{getCurrentPostType:t}=e(O.STORE_KEY);return{postType:t()}}),[]);return Xn.includes(o)?Object(s.createElement)(s.Fragment,null,Object(s.createElement)(De,{title:Object(T.__)("Page Settings","kubio"),areaIdentifier:n},Object(s.createElement)(Qn,{areaIdentifier:n}))):null}var Jn=n(46),eo=n.n(Jn);const to=async()=>await eo()({path:"kubio/v1/3rd_party_themes/import_blog"}),no=["home","index","single","search","archive","singular"],oo=()=>{const e=Object(g.useGetGlobalSessionProp)("ready",!1),t=Object(g.useGetGlobalSessionProp)("urlBasedTemplatesMap",{}),n=Object(g.useSetGlobalSessionProp)("urlBasedTemplatesMap",{}),[o,r]=Object(s.useState)(!1),{getEntity:a,page:i,templateType:l,templateId:c}=Object(S.useSelect)((e=>{const{getEditedEntityRecord:t}=e("core"),{getPage:n,getEditedPostType:o,getEditedPostId:r}=e(O.STORE_KEY);return{getEntity:t,page:n(),templateType:o(),templateId:r()}}),[]);Object(s.useEffect)((()=>{e||r(!1)}),[e]);const u=Object(s.useCallback)((()=>{const e=a("postType",l,c),t=null==e?void 0:e.kubio_template_source;r(!["kubio","kubio-custom"].includes(t))}),[c,l]),b=Object(s.useCallback)((async()=>{if(null==i||!i.path)return;let e=t[null==i?void 0:i.path],o=!0;if(!e&&null!==e){const r=await window.fetch(Object(Ee.addQueryArgs)(null==i?void 0:i.path,{"__kubio-classic-page-template-slug":1})).then((e=>e.json()));e=r.data||null,n({...t,[null==i?void 0:i.path]:e}),o=r.success}r(o&&no.includes(e))}),[i,t]),d=Object(s.useCallback)(((e,t)=>{if(e&&t){var n;const t=null==e||null===(n=e.split("//"))||void 0===n?void 0:n.pop();no.includes(t)?u():r(!1)}else b()}),[]);return Object(s.useEffect)((()=>{e&&d(c,l)}),[e,c,l]),o},ro=()=>{const[e,t]=Object(s.useState)(!1),[n,o]=Object(g.useGlobalSessionProp)("thirdPartyBlockInstalled",!1),r=oo(),{createSuccessNotice:a,createErrorNotice:i}=Object(S.useDispatch)("core/notices"),l=Object(s.useCallback)((async()=>{t(!0);try{await to()}catch(e){return void i(Object(T.__)("There was an error while importing the Kubio blog. Please try again","kubio"))}o(!0),a(Object(T.__)("Kubio blog templates were imported successfully! Refresh the editor to enjoy the full site editing experience","kubio"),{isDismissible:!0,actions:[{label:Object(T.__)("Refresh page now","kubio"),onClick:()=>window.location.reload()}]}),t(!1)}),[]);return!r||r&&n?Object(s.createElement)(s.Fragment,null):Object(s.createElement)("div",{className:"kubio-sidebar-blog-area-import"},Object(s.createElement)("h2",null,Object(T.__)("💫 Start with the Kubio blog!","kubio")),Object(s.createElement)("p",null,Object(T.__)("Kubio comes with a fully customizable blog area for your site.","kubio"),Object(s.createElement)("br",null),Object(T.__)("Would you like to use the Kubio blog templates? ","kubio")),Object(s.createElement)(v.Button,{isPrimary:!0,isBusy:e,onClick:l},!e&&Object(T.__)("Import Kubio blog","kubio"),e&&Object(T.__)("Importing Kubio blog…","kubio")))};function ao(e){let{beforeSectionsList:t,afterSectionsList:n}=e;const o=Ue(),{uiVersion:r}=Object(Se.useUIVersion)();return Object(s.createElement)(Ke,{title:Object(s.createElement)(s.Fragment,null,Object(s.createElement)("span",{className:"preview-notice"},Object(T.__)("You are editing","kubio")),Object(s.createElement)("span",{className:"panel-title site-title"},Object(Ye.fromHtmlEntities)(o))),areaIdentifier:"document"},t,1===r&&Object(s.createElement)(Zn,{parentAreaIdentifier:"document"}),Object(s.createElement)(ro,null),Object(s.createElement)(Ct,null),2===r&&Object(s.createElement)(Zn,{parentAreaIdentifier:"document"}),Object(s.createElement)(Sn,{parentAreaIdentifier:"document"}),Object(s.createElement)(Dn,{parentAreaIdentifier:"document"}),Object(s.createElement)(Lt.UpgradeToPro,{urlArgs:{source:"sidebar",content:"pro-upgrade"}}),n)}const{Slot:io,Fill:lo}=Object(v.createSlotFill)("ColibriEditSiteBlockEditorSidebarInspector");const co=()=>{const{subsidebars:e}=Object(S.useSelect)((e=>({subsidebars:e(O.STORE_KEY).getSubSidebars()})));return Object(g.useGetGlobalSessionProp)("ready",!1)?Object(s.createElement)(s.Fragment,null,Object(s.createElement)(ao,null),Object(s.createElement)(Ve,null,Object(s.createElement)(io,{bubblesVirtually:!0})),Object(p.map)(e,((e,t)=>Object(s.createElement)(s.Fragment,{key:t},e)))):null},so=lo;var uo=n(20);const bo={content:Object(s.createElement)(uo.ContentBlockInspector,null),style:Object(s.createElement)(uo.StyleBlockInspector,null),advanced:Object(s.createElement)(uo.AdvancedStyleBlockInspector,null)},po=Object(we.getNamesOfBlocks)(),mo=[po.HEADER,po.FOOTER,po.QUERY_LAYOUT,po.HERO,po.SECTION,po.ROW,po.COLUMN,po.QUERY,po.LOOP,po.LOOP_ITEM],fo=[{name:"content",title:()=>{const e=Object(S.useSelect)((e=>{var t;return null===(t=e("core/block-editor").getSelectedBlock())||void 0===t?void 0:t.name}));let t=Object(T.__)("Layout","kubio");return-1===mo.indexOf(e)&&(t=Object(T.__)("Content","kubio")),Object(s.createElement)("span",{className:"kubio-tab-panel"},Object(s.createElement)(ke.a,{icon:_e.LayoutIcon}),Object(s.createElement)("span",{className:"kubio-tab-panel-text"},t))},className:"tab-content"},{name:"style",title:()=>Object(s.createElement)("span",{className:"kubio-tab-panel"},Object(s.createElement)(ke.a,{icon:_e.StyleIcon}),Object(s.createElement)("span",{className:"kubio-tab-panel-text"},Object(T.__)("Style","kubio"))),className:"tab-style"},{name:"advanced",title:()=>Object(s.createElement)("span",{className:"kubio-tab-panel"},Object(s.createElement)(ke.a,{icon:_e.AdvancedIcon}),Object(s.createElement)("span",{className:"kubio-tab-panel-text"},Object(T.__)("Advanced","kubio"))),className:"tab-advanced"}];var Oo=Object(y.compose)(Object(S.withSelect)((e=>{const{getSelectedBlockClientId:t}=e("core/block-editor");return{selectedBlockClientId:t()}})))((e=>{let{selectedBlockClientId:t}=e;const[n,o]=Object(uo.useCurrentInspectorTab)();return t&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)($e.TabPanel,{className:"kubio-advanced-block-inspector",currentTab:n,onSelect:o,tabs:fo},(e=>Object(s.createElement)("div",{className:"kubio-block-inspector-tab-content"},Object(s.createElement)(uo.BlockInspectorTopControls.Slot,{bubblesVirtually:!0}),bo[e.name]))))})),go=n(9);const ho="editor-styles-wrapper",jo="wp-editor-classic-layout-styles";const Eo=e=>{if("BUTTON"===e.nodeName){const t=["forminator-ui","wpcf7-form ","wpforms-form","mc4wp-form"],n=e.closest("form"),o=t.some((e=>{var t;return null==n||null===(t=n.classList)||void 0===t?void 0:t.contains(e)}));if(n&&!n.getAttribute("action")&&!o)return}e.addEventListener("click",(e=>{e.preventDefault()}))};const vo=Object(s.forwardRef)((function(e,t){let{contentRef:n,children:o,head:r,headHTML:a,contentHolderSelector:i,assetsHolderSelector:l,src:c,onLoad:b=p.noop,execStylesheetCompat:d=!0,...m}=e;const[f,h]=Object(s.useState)(),[j,E]=Object(s.useState)(),v=Object(g.useCurrentPageBodyClasses)(),_=Object(g.useSetGlobalSessionProp)("ownerDocument"),k=Object(g.useSetGlobalSessionProp)("blockEditorRootClasses",""),w=Object(g.useGetGlobalSessionProp)("ready",!1),{currentTheme:I,currentTemplateSource:C}=Object(S.useSelect)((e=>{const{getCurrentTheme:t}=e("core"),{getCurrentKubioTemplateSource:n}=e(O.STORE_KEY);return{currentTheme:t(),currentTemplateSource:n()}}),[]);Object(s.useEffect)((()=>{f&&(w?f.defaultView.postMessage("kubio-editor-content-ready"):f.defaultView.postMessage("kubio-editor-content-changed"))}),[w,f]),Object(s.useEffect)((()=>{!w&&c&&(h(null),E(null),_(window.document),Object(go.removeStyleManager)(f))}),[w,c]),Object(s.useEffect)((()=>{if(!w||!f)return;let e=!1;const t=w&&c&&f;w&&!c&&f&&["kubio-custom","kubio"].includes(C)&&(e=!0),["kubio-custom","kubio"].includes(C)?(e=>{let t=e.querySelector(".kubio-block-vars-reset");t||(t=e.createElement("style"),t.classList.add("kubio-block-vars-reset"),t.textContent="\n\t\t:root,\n\t\tbody,\n\t\tbody *,\n\t\t.editor-styles-wrapper .block-editor-block-list__layout.is-root-container > *\n\t\t{\n\t\t\t--wp--style--block-gap:0px;\n\t\t\t--gallery-block--gutter-size:0.5em;\n\t\t\t--global-content-width: unset;\n\t\t}",e.head.appendChild(t))})(f):(e=>{const t=e.querySelector(".kubio-block-vars-reset");var n;t&&(null==t||null===(n=t.remove)||void 0===n||n.call(t))})(f);f.querySelectorAll([`link[href*="/${I.template}/"]`,`link[href*="/${I.stylesheet}/"]`].join(",")).forEach((t=>{const n=null==t?void 0:t.id.replace(/(.*?)-css$/,"$1");n&&f.querySelectorAll(`style[id*="${n}-"]`).forEach((t=>{t.sheet&&(t.sheet.disabled=e)})),t.sheet&&(t.sheet.disabled=e)}));f.querySelectorAll(["wp-reset-editor-styles-css","wp-editor-classic-layout-styles-css","common-css","forms-css"].map((e=>`link#${e}`))).forEach((e=>{e.sheet&&(e.sheet.disabled=t)}))}),[w,c,I,C,f]),Object(s.useEffect)((()=>{if(f&&v.length){const e=Array.from(f.body.classList);f.body.setAttribute("class",Object(p.uniq)(e.concat(v)).join(" "))}}),[f,v]);const[,P]=Object(g.useGlobalSessionProp)("blocksOwnerDocument",null,[]),[,R]=Object(g.useGlobalSessionProp)("currentPageHasBlocksContent",null,[]),N=Object(s.useCallback)((e=>{function t(){const{contentDocument:t}=e,{readyState:o,body:r}=t;if("complete"!==o)return!1;"function"==typeof n?n(r):n&&(n.current=r);const l=["a",'[type="submit"]',"form button"];new t.defaultView.MutationObserver((function(e){Object(p.each)(e,(function(e){e.target.querySelectorAll(l.join(",")).forEach(Eo)}))})).observe(t,{childList:!0,subtree:!0}),t.querySelectorAll(l.join(",")).forEach(Eo),d&&function(e){const t=new Map;Array.from(document.styleSheets).forEach((n=>{try{n.cssRules}catch(e){return}const{ownerNode:o,cssRules:r}=n;r&&Array.from(r).find((e=>{let{selectorText:t}=e;return t&&(t.includes(`.${ho}`)||t.includes(".wp-block"))}))&&!t.has(o)&&(o.id&&-1!==o.id.indexOf(jo)||o.href&&-1!==o.href.indexOf(jo)?e.head.prepend(o.cloneNode(!0)):e.head.appendChild(o.cloneNode(!0)),t.set(o,!0))}))}(t),t.defaultView.isKubioBlockEditor=!0,t.defaultView.isInsideIframe=!0,function(e,t){e.head.innerHTML="<style>/* head style start */</style>"+t+"<style>/* head style end */</style><style>*{scroll-behavior: auto !important;}</style>"+e.head.innerHTML}(t,a),function(e){const{defaultView:t}=e,{frameElement:n}=t;function o(e){const{keyCode:o,ctrlKey:r,metaKey:a}=e;if((65===o||95===o)&&(r||a)){const t=e.target.hasAttribute("contenteditable")?e.target:e.target.closest("[contenteditable]");if(t)return((e,t)=>(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e&&e.ownerDocument.execCommand("selectAll",!1,null),!1))(t,e)}const i=Object.getPrototypeOf(e).constructor.name,l=window[i],c={};for(const t in e)c[t]=e[t];if(e instanceof t.MouseEvent){const e=n.getBoundingClientRect();c.clientX+=e.left,c.clientY+=e.top}const s=new l(e.type,c);!n.dispatchEvent(s)&&e.preventDefault()}const r=["keydown","keypress","dragover"];for(const t of r)e.addEventListener(t,o)}(t),h(t),_(t);let s=i&&t.querySelector(i),u="";if(i&&s){const e=s.parentElement;1===e.children.length&&(s.remove(),s=e),u=s.getAttribute("class"),s.setAttribute("class","kubio-hybrid-template-content-edit")}k(u);let m=t.body;return s?m=s:(c||i)&&(m.classList.add("kubio-hybrid-no-block-content"),R(!1)),m.classList.add(ho),m.classList.add("wp-embed-responsive"),b(e,t),E(m),P(t),!0}e&&(e.contentDocument.body.parentElement.className="kubio-iframe",c?e.addEventListener("load",(()=>{t()})):t()||e.addEventListener("load",(()=>{t()})))}),[]),A=Object(s.useMemo)((()=>{if(!f)return!1;return l&&f.querySelector(l)||f.head}),[l,f]),B=Object(s.useMemo)((()=>({ownerDocument:f||window.document})),[f]);return Object(s.createElement)(u.OwnerDocumentContext.Provider,{value:B},Object(s.createElement)("iframe",Object(x.a)({},m,{ref:Object(y.useMergeRefs)([t,N]),tabIndex:"0",title:Object(T.__)("Editor canvas","kubio"),className:"kubio-iframe",name:"editor-canvas",src:c}),j&&Object(s.createPortal)(o,j),A&&Object(s.createPortal)(r,A)))})),yo=async(e,t)=>new Promise((n=>{if(-1!==Array.from(e.ownerDocument.querySelectorAll("script[src]")).map((e=>e.src)).indexOf(t))return;const o=e.ownerDocument.createElement("script");o.async=!0,o.src=t,e.appendChild(o),o.addEventListener("load",n)})),_o=Object(p.debounce)((async(e,t,n)=>{for(n(),t=Object(p.cloneDeep)(t);t.length;){const n=t.shift();await yo(e,n)}}),1e3),ko=e=>{const{children:t,className:n}=e,o=Object(s.useRef)(),r=Object(s.useRef)(),[a,i]=Object(g.useGlobalSessionProp)("containerBgMediaUploadRef",{ref:null,blockId:null,value:null}),l=Object(u.useColibriDataHooks)();Object(s.useEffect)((()=>{null!==r.current&&i({...a,ref:r})}),[r.current]),Object(s.useLayoutEffect)((()=>{const e=o.current;if(e){var t;const n=null===(t=e.ownerDocument.querySelector("#kubio-scripts-template"))||void 0===t?void 0:t.content.querySelectorAll("script");n&&((e,t)=>{let n=null;n=Object(S.subscribe)((()=>_o(e,t,n)))})(e.ownerDocument.head,Array.from(n).map((e=>{let{src:t}=e;return t})).filter(Boolean))}}),[o.current]);const c=Object(S.useSelect)((e=>{var t;const{getSettings:n}=e(E.store);return null===(t=n())||void 0===t?void 0:t.supportsLayout}),[]),b=Object(E.useSetting)("layout")||{},{contentSize:d,wideSize:p}=b,m={type:"default",alignments:Object(s.useMemo)((()=>{const e=["left","center","right"];return d&&e.push("full"),p&&e.push("wide"),c?e:void 0}),[c,d,p])};return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{ref:o}),Object(s.createElement)(E.WritingFlow,null,Object(s.createElement)(E.BlockList,{__experimentalLayout:m,className:C()(n,"edit-site-block-editor__block-list","kubio-block-editor__block-list"),renderAppender:we.KubioBlockAppender}),t),Object(s.createElement)(E.MediaUploadCheck,null,Object(s.createElement)(E.MediaUpload,{allowedTypes:["image","video"],value:a.value,onSelect:e=>{const t=Object(u.getColibriData)({clientId:a.blockId,autoSave:!0,loadColibriData:!0},l),n=t.getStyle("background");"image"===n.type&&"image"===e.type?n.image[0].source.url=e.url:"video"===n.type&&"video"===e.type&&(n.video.internal.url=e.url),t.setStyle("background",n)},render:e=>{let{open:t}=e;return Object(s.createElement)("div",{ref:r,onClick:t})}})))};var So=n(332),wo=n.n(So);const To=()=>Object(s.createElement)("div",{className:"kubio-loading-logo"},Object(s.createElement)(v.Icon,{icon:_e.KubioLoader})),xo=()=>{const e=Object(s.useRef)();return Object(s.useEffect)((()=>{if(!e.current)return;const t=e.current;t.contentWindow.document.open(),t.contentWindow.document.write(wo.a),t.contentWindow.document.close();const n=t.contentDocument||t.contentWindow.document,o=null==n?void 0:n.querySelector("#content");o&&Object(s.render)(Object(s.createElement)(To,null),o)}),[e.current]),Object(s.createElement)("iframe",{ref:e,className:"kubio-loading-logo-iframe"})},Io=(e,t)=>{e&&(t?(e.body.classList.add("kubio-iframe-holder--show"),e.body.classList.remove("kubio-iframe-holder--hide")):(e.body.classList.remove("kubio-iframe-holder--show"),e.body.classList.add("kubio-iframe-holder--hide")))},Co=Object(y.pure)((e=>{let{iframe:t,deviceType:n}=e;const o=Object(E.__experimentalUseResizeCanvas)(n,!0),r=Object(s.useRef)(),a=Object(s.useRef)(),i=Object(y.useMergeRefs)([r,Object(E.__unstableUseTypingObserver)()]);return Object(g.useEditorIsLoadedChanged)((e=>{var t,n;Io(null===(t=a.current)||void 0===t?void 0:t.ownerDocument,e),Io(null===(n=r.current)||void 0===n?void 0:n.ownerDocument,e)})),Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.BlockTools,{className:"kubio-block-tools",__unstableContentRef:r},Object(s.createElement)("div",{id:"kubio-editor-view"},Object(s.createElement)("div",{id:"kubio-iframe-holder",className:"editor-styles-wrapper edit-site-block-editor__editor-styles-wrapper",style:o,ref:a},t(i)),Object(s.createElement)(xo,null))))})),Po="<style>body{width:100%;max-width:100%;overflow-x:hidden;}</style>",Ro=Object(y.createHigherOrderComponent)((e=>t=>{const{setOpenInserter:n}=Object(S.useDispatch)(O.STORE_KEY),{settings:o,templateType:r,page:a,deviceType:i,templateId:l}=Object(S.useSelect)((e=>{const{getSettings:t,getTemplateType:o,getTemplateId:r,getPage:a,__experimentalGetPreviewDeviceType:i}=e(O.STORE_KEY);return{settings:t(n),templateType:o(),templateId:r(),page:a(),deviceType:i()}}),[]),c={settings:o,templateType:r,page:a,deviceType:i,templateId:l};return a||r?Object(s.createElement)(e,Object(x.a)({},t,c)):null}),"currentEditorEntity");var No=Object(y.compose)(Ro,y.pure)((function(e){let{settings:t,templateType:n,page:o,deviceType:r,templateId:a}=e;const[i,l,c]=Object(k.useEntityBlockEditor)("postType",n,{id:a}),{setPage:u}=Object(S.useDispatch)(O.STORE_KEY),b=Object(E.__unstableUseMouseMoveTypingReset)(),d=window.__kubioEditorStyles.html+Po,p=Object(S.useSelect)((e=>{const t=e(O.STORE_KEY).getCurrentKubioTemplateSource();return null==t?void 0:t.startsWith("kubio")}),[n,a]),m=Object(s.useMemo)((()=>p?t.styles.filter((e=>"theme"!==e.__unstableType)):t.styles),[p,t.styles]),f=Object(s.useCallback)((e=>Object(s.createElement)(vo,{headHTML:d,ref:b,head:Object(s.createElement)(E.__unstableEditorStyles,{styles:m}),contentRef:e},Object(s.createElement)(ko,null))),[b,d,m]);return Object(s.createElement)(E.BlockEditorProvider,{settings:t,value:i,onInput:l,onChange:c,useSubRegistry:!1},Object(s.createElement)(E.BlockEditorKeyboardShortcuts,null),Object(s.createElement)(E.__experimentalLinkControl.ViewerFill,null,Object(s.useCallback)((e=>Object(s.createElement)(ye,Object(x.a)({},e,{activePage:o,onActivePageChange:u}))),[o])),Object(s.createElement)(so,null,Object(s.createElement)(Oo,null)),Object(s.createElement)(Co,{deviceType:r,iframe:f}))}));var Ao=function(){var e,t;const{setOpenInserter:n}=Object(S.useDispatch)(O.STORE_KEY),[o,r]=Object(s.useState)({}),{settings:a,page:i,deviceType:l,classicTemplateId:c}=Object(S.useSelect)((e=>{const{getSettings:t,getEntity:o,getPage:r,getClassicTemplateId:a,__experimentalGetPreviewDeviceType:i}=e(O.STORE_KEY);return{settings:{...t(n)},entity:o(),page:r(),classicTemplateId:a(),deviceType:i()}}),[n]);Object(s.useEffect)((()=>{Bt()(i,o)||r(i)}),[i]);const[u,b,d]=Object(k.useEntityBlockEditor)("postType",null==o||null===(e=o.context)||void 0===e?void 0:e.postType,{id:null==o||null===(t=o.context)||void 0===t?void 0:t.postId}),{setPage:p}=Object(S.useDispatch)(O.STORE_KEY),m=Object(E.__unstableUseMouseMoveTypingReset)(),f=Object(g.useSetGlobalSessionProp)("ready"),h=(e,t)=>{t.body.id="kubio",f(!0)},j=window.__kubioEditorStyles.html+Po,v=Object(g.useGetGlobalSessionProp)("blockEditorRootClasses",""),y=Object(s.useCallback)((e=>(null==o?void 0:o.path)&&Object(s.createElement)(vo,{headHTML:j,ref:m,contentRef:e,src:Object(Ee.addQueryArgs)(null==o?void 0:o.path,{"__kubio-site-edit-iframe-preview":!0,"__kubio-site-edit-iframe-classic-template":c}),contentHolderSelector:"#kubio-site-edit-content-holder",assetsHolderSelector:"#kubio-site-edit-assets-holder",onLoad:h,execStylesheetCompat:!1},Object(s.createElement)(ko,{className:v},Object(s.createElement)($e.LayoutPicker,null)))),[null==o?void 0:o.path,m,j,j,a.styles,v]);return Object(s.createElement)(E.BlockEditorProvider,{settings:a,value:u,onInput:b,onChange:d,useSubRegistry:!1},Object(s.createElement)(E.BlockEditorKeyboardShortcuts,null),Object(s.createElement)(E.__experimentalLinkControl.ViewerFill,null,Object(s.useCallback)((e=>Object(s.createElement)(ye,Object(x.a)({},e,{activePage:o,onActivePageChange:p}))),[o])),Object(s.createElement)(so,null,Object(s.createElement)(Oo,null)),Object(s.createElement)(Co,{deviceType:l,iframe:y}))},Bo=n(271),Do=n(351);function Mo(e){let{record:t,checked:n,onChange:o,closePanel:r}=e;const{name:a,kind:i,title:l,key:c}=t,u=Object(S.useSelect)((e=>{var t;const{blocks:n=[]}=e("core").getEditedEntityRecord(i,a,c),o=e("core/block-editor").getBlockParents(null===(t=n[0])||void 0===t?void 0:t.clientId);return o[o.length-1]}),[]),b=Object(S.useSelect)((e=>{if("postType"!==i||"wp_template"!==a)return l;const t=e("core").getEditedEntityRecord(i,a,c);return e("core/editor").__experimentalGetTemplateInfo(t).title}),[a,i,l,c]),d=Object(S.useSelect)((e=>e("core/block-editor").getSelectedBlockClientId()===u),[u]),p=d?Object(T.__)("Selected","kubio"):Object(T.__)("Select","kubio"),{selectBlock:m}=Object(S.useDispatch)("core/block-editor"),f=Object(s.useCallback)((()=>m(u)),[u]),O=Object(s.useCallback)((()=>{m(u),r()}),[u]);return Object(s.createElement)(v.PanelRow,null,Object(s.createElement)(v.CheckboxControl,{label:Object(s.createElement)("strong",null,b||Object(T.__)("Untitled","kubio")),checked:n,onChange:o}),u?Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.Button,{onClick:f,className:"entities-saved-states__find-entity",disabled:d},p),Object(s.createElement)(v.Button,{onClick:O,className:"entities-saved-states__find-entity-small",disabled:d},p)):null)}const Lo={site:Bo.a,page:Do.a};function Fo(e){let{list:t,unselectedEntities:n,setUnselectedEntities:o,closePanel:r}=e;const a=t[0],i=Object(S.useSelect)((e=>e("core").getEntity(a.kind,a.name)),[a.kind,a.name]),{name:l}=a,c=Lo[l];return Object(s.createElement)(v.PanelBody,{title:i.label,initialOpen:!0,icon:c},t.map((e=>Object(s.createElement)(Mo,{key:e.key||`${e.kind}-${e.name}-${e.property}`,record:e,checked:!Object(p.some)(n,(t=>t.kind===e.kind&&t.name===e.name&&t.key===e.key)),onChange:t=>o(e,t),closePanel:r}))))}const zo={title:Object(T.__)("Title","kubio"),description:Object(T.__)("Tagline","kubio"),site_logo:Object(T.__)("Logo","kubio"),sitelogo:Object(T.__)("Logo","kubio"),show_on_front:Object(T.__)("Show on front","kubio"),page_on_front:Object(T.__)("Page on front","kubio")},Go={wp_template_part:e=>Object(T._n)("template part","template parts",e,"kubio"),wp_template:e=>Object(T._n)("template","templates",e,"kubio"),post:e=>Object(T._n)("post","posts",e,"kubio"),page:e=>Object(T._n)("page","pages",e,"kubio"),site:e=>Object(T._n)("site","sites",e,"kubio")};var Ko=Object(v.withFocusReturn)((function(e){let{isOpen:t,close:n}=e;const{dirtyEntityRecords:o}=Object(S.useSelect)((e=>{const t=e(k.store).__experimentalGetDirtyEntityRecords().filter((e=>!("root"===e.kind&&"site"===e.name))),n=e(k.store).getEntityRecordEdits("root","site"),o=[];for(const e in n)o.push({kind:"root",name:"site",title:zo[e]||e,property:e});return{dirtyEntityRecords:[...t,...o]}}),[]),{saveEditedEntityRecord:r}=Object(S.useDispatch)("core"),a=Object.values(Object(p.groupBy)(o,"name")),i=[];a.forEach((e=>{Go[e[0].name]&&i.push(Go[e[0].name](e.length))}));const[l,c]=Object(s.useState)([]),u=(e,t)=>{let{kind:n,name:o,key:r}=e;c(t?l.filter((e=>e.kind!==n||e.name!==o||e.key!==r)):[...l,{kind:n,name:o,key:r}])},b=Object(s.useCallback)((()=>n()),[n]),d=Object(T.__)("Save","kubio");return t?Object(s.createElement)("div",{className:"entities-saved-states__panel kubio-entities-saved-states__panel"},Object(s.createElement)("div",{className:"entities-saved-states__panel-header"},Object(s.createElement)(v.Button,{isPrimary:!0,disabled:o.length-l.length==0,onClick:()=>{const e=o.filter((e=>{let{kind:t,name:n,key:o}=e;return!Object(p.some)(l,(e=>e.kind===t&&e.name===n&&e.key===o))}));n(e),e.forEach((e=>{let{kind:t,name:n,key:o}=e;r(t,n,o)}))},className:"editor-entities-saved-states__save-button"},d),Object(s.createElement)(v.Button,{onClick:b,icon:Te.a,label:Object(T.__)("Close panel","kubio")})),Object(s.createElement)("div",{className:"entities-saved-states__text-prompt"},Object(s.createElement)("strong",null,Object(T.__)("Select the changes you want to save","kubio")),Object(s.createElement)("p",null,Object(T.__)("Some changes may affect other areas of your site.","kubio"))),a.map((e=>Object(s.createElement)(Fo,{key:e[0].name,list:e,closePanel:b,unselectedEntities:l,setUnselectedEntities:u})))):null})),Ho=n(356);const Vo=["front-page","single-post","page","archive","search","404","index"],Uo="root",$o="template-parts",Yo="templates",Wo="templates-general",qo="templates-pages",Xo="templates-posts",Qo="kubio__custom-templates",Zo="kubio__theme-templates",Jo="kubio__kubio-templates",er=[{area:"header",menu:"template-parts-headers",title:Object(T.__)("Headers","kubio")},{area:"footer",menu:"template-parts-footers",title:Object(T.__)("Footers","kubio")},{area:"sidebar",menu:"template-parts-sidebars",title:Object(T.__)("Sidebars","kubio")},{area:"uncategorized",menu:"template-parts-general",title:Object(T.__)("General","kubio")}];function tr(e){let{openEntitiesSavedStates:t}=e;const{saveEditedEntityRecord:n}=Object(S.useDispatch)("core"),{isSaving:o,isDirty:r}=Object(S.useSelect)((e=>{const{__experimentalGetDirtyEntityRecords:t,isSavingEntityRecord:n}=e("core"),o=t();return{isDirty:o.length>0,isSaving:Object(p.some)(o,(e=>n(e.kind,e.name,e.key)))}})),a=!r||o,i=Object(T.__)("Save","kubio"),{dirtyEntityRecords:l}=Object(S.useSelect)((e=>{const t=e(k.store).__experimentalGetDirtyEntityRecords().filter((e=>!("root"===e.kind&&"site"===e.name))),n=e(k.store).getEntityRecordEdits("root","site"),o=[];for(const e in n)o.push({kind:"root",name:"site",property:e});return{dirtyEntityRecords:[...t,...o]}}),[]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.Button,{isPrimary:!0,className:"edit-site-save-button__button","aria-disabled":a,disabled:a,isBusy:o,onClick:a?void 0:()=>{l.forEach((e=>{let{kind:t,name:o,key:r}=e;n(t,o,r)}))}},i),Object(s.createElement)(v.Button,{isPrimary:!0,icon:_e.ArrowDown,iconSize:24,className:"edit-site-save-button__dropdown","aria-disabled":a,disabled:a,onClick:a?void 0:t}))}n(86);var nr=n(355),or=n(61);function rr(e){let{feature:t,label:n,info:o,messageActivated:r,messageDeactivated:a}=e;const i=Object(S.useSelect)((e=>e(O.STORE_KEY).isFeatureActive(t)),[]),{toggleFeature:l}=Object(S.useDispatch)(O.STORE_KEY);return Object(s.createElement)(v.MenuItem,{icon:i&&P.a,isSelected:i,onClick:Object(p.flow)(l.bind(null,t),(()=>{i?Object(or.speak)(a||Object(T.__)("Feature deactivated","kubio")):Object(or.speak)(r||Object(T.__)("Feature activated","kubio"))})),role:"menuitemcheckbox",info:o},n)}const ar={className:"edit-site-more-menu__content",position:"bottom left"},ir={tooltipPosition:"bottom"};var lr=()=>{const{isGutentagDebug:e,baseUrl:t,currentPage:n,hasBlockSelected:o}=Object(S.useSelect)((e=>{const{isGutentagDebug:t=m.a.noop,getPage:n=m.a.noop}=e(O.STORE_KEY)||{},{url:o}=e("core").getEntityRecord("root","site")||{};return{isGutentagDebug:t(),currentPage:n(),baseUrl:o,hasBlockSelected:!!e("core/block-editor").getSelectedBlockClientId()}}),[]),r=()=>{const e=null==n?void 0:n.link,o=encodeURIComponent(e);window.location.href=`${t}/wp-admin/customize.php?url=${o}`},{toggleGutentagDebug:a}=Object(S.useDispatch)(O.STORE_KEY);let i=Object(s.createElement)(s.Fragment,null);const{uiVersion:l,setUIVersion:c}=Object(Se.useUIVersion)(),{openSidebar:u}=Object(S.useDispatch)(O.STORE_KEY),b=()=>{const e=2===l?1:2;c(e),2===e&&u(o?"block-inspector":"document")},d=1===l?Object(T.__)("Switch to Kubio Editor layout","kubio"):Object(T.__)("Switch to WordPress Editor layout","kubio"),p=1===l?Object(T.__)("Switch to the new Kubio editor layout for a more friendly editing experience","kubio"):Object(T.__)("Switch to the WordPress editor layout to have the default editing experience","kubio");return Object(s.createElement)(v.DropdownMenu,{className:"edit-site-more-menu",icon:nr.a,label:Object(T.__)("More tools & options","kubio"),popoverProps:ar,toggleProps:ir},(e=>{let{onClose:t}=e;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.MenuGroup,{label:Object(T._x)("View","noun","kubio")},Object(s.createElement)(v.MenuItem,{onClick:b,info:p},d),Object(s.createElement)(rr,{feature:"fixedToolbar",label:Object(T.__)("Top toolbar","kubio"),info:Object(T.__)("Access all block and document tools in a single place","kubio"),messageActivated:Object(T.__)("Top toolbar activated","kubio"),messageDeactivated:Object(T.__)("Top toolbar deactivated","kubio")}),Object(s.createElement)(rr,{feature:"focusMode",label:Object(T.__)("Spotlight mode","kubio"),info:Object(T.__)("Focus on one block at a time","kubio"),messageActivated:Object(T.__)("Spotlight mode activated","kubio"),messageDeactivated:Object(T.__)("Spotlight mode deactivated","kubio")}),i,Object(s.createElement)(v.MenuItem,{onClick:r},Object(T.__)("Open theme customizer","kubio")),Object(s.createElement)(ce.Slot,{name:"kubio/edit-site/plugin-more-menu",label:Object(T.__)("Plugins","kubio"),as:[v.MenuGroup,v.MenuItem],fillProps:{onClick:t}})))}))};var cr=Object(s.createElement)(R.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(R.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"}));var sr=Object(s.createElement)(R.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(R.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"}));var ur=Object(s.createElement)(R.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(R.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})),br=n(333),dr=n.n(br);let pr=null,mr=Math.random();function fr(e){let t=dr.a.replace("{message}",Object(T.__)("Generating preview…","kubio"));t=t.replace("{svg_image}",Object(s.renderToString)(_e.KubioLoader)),e.write(t),e.title=Object(T.__)("Generating preview…","kubio"),e.close()}function Or(){pr=window.open("",Object(T.__)("Generating preview…","kubio")+mr++)}const gr="publish",hr="autosave",jr={PREVIEW:"preview",DRAFT:"draft"},Er=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gr,{fieldsToOmit:n=["blocks"],type:o=jr.PREVIEW}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return eo()({path:"kubio/v1/save-entity",method:"POST",data:{postData:Object(p.omit)({...e,id:e.id||e.wp_id},["selectionStart","selectionEnd"].concat(n)),type:o,status:t}})},vr=[{kind:"kubio",name:"menu"},{kind:"root",name:"site"}];var yr=n(41),_r=n.n(yr),kr=n(334),Sr=n.n(kr);const wr=[{title:Object(T.__)("Desktop","kubio"),name:"Desktop",icon:cr},{title:Object(T.__)("Tablet","kubio"),name:"Tablet",icon:sr},{title:Object(T.__)("Mobile","kubio"),name:"Mobile",icon:ur}],Tr=e=>{let{deviceType:t,setDeviceType:n}=e;const{isDirty:o}=Object(S.useSelect)((e=>{const{__experimentalGetDirtyEntityRecords:t}=e("core");return{isDirty:t().length>0}})),r=(()=>{const{getDirtyEntityRecords:e,getAutosaves:t,getEntityRecordEdits:n,getEditedEntityRecord:o}=Object(S.useSelect)((e=>({getDirtyEntityRecords:e("core").__experimentalGetDirtyEntityRecords,getAutosaves:e("core").getAutosaves,getEntityRecordEdits:e("core").getEntityRecordEdits,getEditedEntityRecord:e("core").getEditedEntityRecord}))),{saveEditedEntityRecord:r}=Object(S.useDispatch)("core");return async function(a){var i;let{autosaveType:l=jr.PREVIEW}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=[];c=a||e();const s=c.filter((e=>{let{kind:t,name:n}=e;return!Object(p.find)(vr,{kind:t,name:n})})),u=c.filter((e=>{let{kind:t,name:n,key:o}=e;return!Object(p.find)(s,{kind:t,name:n,key:o})})),b=s.map((e=>{let{kind:t,name:n,key:a}=e;const i=o(t,n,a);let c;if(null!=i&&i.blocks)c=Object(He.serialize)(i.blocks);else{if("string"!=typeof(null==i?void 0:i.content))return null;c=null==i?void 0:i.content}return-1!==["wp_template","wp_template_part","page","post","product"].indexOf(i.type)?Er({...i,content:c},hr,{type:l}):r(t,n,a,{isAutosave:!0})})),d=u.map((e=>{let{kind:t,name:o,key:r}=e;return{kind:t,name:o,key:r,...n(t,o,r)}})),m=null===(i=e())||void 0===i?void 0:i.filter((e=>{let{name:t}=e;return"page"===t||"post"===t})).reduce(((e,t)=>{let{key:n,name:r,kind:a}=t;const i=o(a,r,n);return{...e,[n]:null==i?void 0:i.template}}),{});return Promise.all(b).then((e=>{const n=s.map(((n,o)=>{let{name:r,key:a}=n;return e[o]?{id:e[o].ID||e[o].id,parent:e[o].post_parent||e[o].parent,data:e[o]}:Object(p.last)(t(r,a))}));return Promise.all(n).then((e=>{const t=e.filter(Boolean).map((e=>{let{id:t,parent:n}=e;return{id:t,parent:n}}));return{updatesRecords:e.map((e=>null==e?void 0:e.data)),autosaves:t,customEntities:d,pageTemplatesMap:m,customData:Object(We.applyFilters)("kubio/custom-preview-data",{})}}))}))}})(),{saveChangeset:a}=(()=>{const[e,t]=Object(g.useGlobalSessionProp)("previewChangest",{}),n=Object(S.useSelect)((e=>{var t;return null===(t=e("core/block-editor").getSettings())||void 0===t?void 0:t.changeset_uuid}));Object(s.useEffect)((()=>{e.id||!n||e.isLoading||(t({...e,isLoading:!0}),eo()({path:Object(Ee.addQueryArgs)("/wp/v2/kubio/preview-changeset/",{slug:n})}).then((e=>{e&&e.length&&t({...e[0],isLoading:!1})})))}),[e,t,n]);const o=Object(s.useCallback)((()=>{e.id&&window.navigator.sendBeacon&&window.navigator.sendBeacon(`${window.ajaxurl}?action=kubio-delete-changeset&uuid=${e.slug}`)}),[e.id]);return Object(s.useEffect)((()=>(window.addEventListener("beforeunload",o),()=>window.removeEventListener("beforeunload",o))),[e.id]),{saveChangeset:async o=>{let r=e;return r.id||(r=await eo()({path:Object(Ee.addQueryArgs)("/wp/v2/kubio/preview-changeset/",{slug:n})}),t(r)),await eo()({path:`/wp/v2/kubio/preview-changeset/${r.id}`,method:"POST",data:{...Object(p.pick)(e,["title","slug","type"]),content:JSON.stringify(Object(p.omit)(o,"updatesRecords"))}}),n}}})(),{currentPageURL:i}=Object(S.useSelect)((e=>{const t=e(O.STORE_KEY).getPage(),n=m.a.get(t,"link"),o=m.a.get(t,"path"),r=n||o;return{currentPageURL:(null!=r?r:"").replace(/\/$/,"")}})),l=Object(S.useSelect)((e=>()=>{const{getSelectedBlockClientIds:t}=e(E.store),n=t();return n.length?n[0]:""})),c=e=>()=>{n(e)},u=Object(g.useBlocksOwnerDocument)();return Object(s.useEffect)((()=>{const e=Object(Ye.getPreviewElementByModelId)(l(),u);e&&t&&Sr()(e)}),[t]),Object(s.createElement)("div",{className:"kubio-preview-options"},wr.map((e=>{let{name:n,title:o,icon:r}=e;return Object(s.createElement)(v.Button,{key:n,icon:r,isPressed:n===t,label:o,onClick:c(n)})})),""!==i&&Object(s.createElement)(v.Button,{onClick:async e=>{let{}=e;const t=(()=>{pr&&!pr.closed||Or();try{fr(pr.document)}catch(e){Or(),fr(pr.document)}return setTimeout((function(){pr.focus()}),100),pr})();if(o){const e=await r(),n=await a(e);t.location=Object(Ee.addQueryArgs)(i,{"kubio-preview":n,"kubio-random":`${_r.a.generate()}-${_r.a.generate()}`})}else t.location=Object(Ee.addQueryArgs)(i,{"kubio-random":`${_r.a.generate()}-${_r.a.generate()}`})}},Object(T.__)("Preview","kubio")))};var xr=Object(s.createElement)(R.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(R.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"})),Ir=n(26);function Cr(){const e=Object(S.useSelect)((e=>e("core").hasRedo())),{redo:t}=Object(S.useDispatch)("core");return Object(s.createElement)(v.Button,{icon:xr,label:Object(T.__)("Redo","kubio"),shortcut:Ir.displayShortcut.primaryShift("z"),"aria-disabled":!e,onClick:e?t:void 0})}var Pr=Object(s.createElement)(R.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(R.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"}));function Rr(){const e=Object(S.useSelect)((e=>e("core").hasUndo())),{undo:t}=Object(S.useDispatch)("core");return Object(s.createElement)(v.Button,{icon:Pr,label:Object(T.__)("Undo","kubio"),shortcut:Ir.displayShortcut.primary("z"),"aria-disabled":!e,onClick:e?t:void 0})}function Nr(e){let{openEntitiesSavedStates:t}=e;const{deviceType:n,isEditorSidebarOpened:o,shortcut:r,getBlockSelectionStart:a,isListViewOpen:i,listViewShortcut:l}=Object(S.useSelect)((e=>{const{__experimentalGetPreviewDeviceType:t,isFeatureActive:n,getEditedPostType:o,getEditedPostId:r,isInserterOpened:a,getTemplateId:i,getTemplatePartId:l,getEntity:c,getPage:s,getShowOnFront:u,isListViewOpened:b}=e(O.STORE_KEY),{getEntityRecord:d}=e("core"),{__experimentalGetTemplateInfo:p}=e("core/editor"),m=i(),f=l(),g=o(),h=d("postType",g,r());let j;var E;"wp_template"===g?j=null!=h&&h.title?null==h||null===(E=h.title)||void 0===E?void 0:E.raw:p(h).title:j=null==h?void 0:h.slug;const{getShortcutRepresentation:v}=e("core/keyboard-shortcuts");return{isListViewOpen:b(),deviceType:t(),entityTitle:j,hasFixedToolbar:n("fixedToolbar"),template:h,templateType:g,isInserterOpen:a(),templateId:m,templatePartId:f,entity:c(),page:s(),showOnFront:u(),isEditorSidebarOpened:e(O.STORE_KEY).isEditorSidebarOpened(),shortcut:v("core/edit-post/toggle-sidebar"),getBlockSelectionStart:e("core/block-editor").getBlockSelectionStart,listViewShortcut:v("kubio/edit-site/toggle-list-view")}}),[]),{__experimentalSetPreviewDeviceType:c,openSidebar:u,closeSidebar:b}=Object(S.useDispatch)(O.STORE_KEY),d=Object(y.useViewportMatch)("medium"),p=o?()=>{b(),j(!1)}:()=>{u(a()?"block-inspector":"document"),j(!1)},m=Ue(),{isNavigationOpened:f}=Object(S.useSelect)(O.STORE_KEY),{setIsNavigationPanelOpened:g,openNavigationPanelToMenu:h,setIsListViewOpened:j}=Object(S.useDispatch)(O.STORE_KEY),{uiVersion:E}=Object(Se.useUIVersion)(),_=Object(s.useCallback)((()=>{j(!i)}),[j,i]);let k=!0;if(2===E)k=!1;return Object(s.createElement)("div",{className:"edit-site-header"},Object(s.createElement)("div",{className:"edit-site-header_start"},Object(s.createElement)("div",{className:"edit-site-header__toolbar"},d&&Object(s.createElement)(s.Fragment,null,1===E&&Object(s.createElement)(Ae,null),Object(s.createElement)(Rr,null),Object(s.createElement)(Cr,null),Object(s.createElement)(v.Button,{className:"edit-site-header-toolbar__list-view-toggle",icon:Ho.a,isPressed:i/* translators: button label text should, if possible, be under 16 characters. */,label:Object(T.__)("List View","kubio"),onClick:_,shortcut:l})),!1)),Object(s.createElement)("div",{className:"edit-site-header_center"},Object(s.createElement)("div",{className:"edit-site-document-actions"},Object(s.createElement)("div",{className:"edit-site-document-actions__title-wrapper"},Object(s.createElement)(v.Button,{className:"edit-site-document-actions__title",onClick:()=>{f()?g(!1):h(2===E?"kubio-content-area-postType-page":Uo)},isPressed:f(),iconPosition:"right",showTooltip:!0,label:f()?Object(T.__)("Close the site content panel","kubio"):Object(T.__)("Change page","kubio")},Object(s.createElement)(v.Flex,{align:"center",justify:"center"},Object(s.createElement)(v.FlexItem,{className:"edit-site-document-entity-title"},Object(s.createElement)("span",{className:"kubio-entity-title-text",dangerouslySetInnerHTML:{__html:Object(T.sprintf)(// translators: Editing current page
Object(T.__)("Editing: %s","kubio"),Object(T.sprintf)('<span class="kubio-entity-title-name">%s</span>',Object(Ye.fromHtmlEntities)(null!=m?m:Object(T.__)("Page","kubio"))))}})),Object(s.createElement)(v.FlexItem,null,Object(s.createElement)(v.Icon,{icon:_e.SwitchPages,size:22}))))))),Object(s.createElement)("div",{className:"edit-site-header_end"},Object(s.createElement)("div",{className:"edit-site-header__actions"},Object(s.createElement)(Tr,{deviceType:n,setDeviceType:c}),Object(s.createElement)(tr,{openEntitiesSavedStates:t}),k&&Object(s.createElement)(v.Button,{icon:qe.a,label:Object(T.__)("Settings","kubio"),onClick:p,isPressed:o,"aria-expanded":o,className:"kubio-secondary-panel-toggler",shortcut:r}),Object(s.createElement)(de.Slot,{scope:"kubio/edit-site"}),Object(s.createElement)(lr,null))))}function Ar(e){let{openEntitiesSavedStates:t}=e;const{__experimentalGetDirtyEntityRecords:n,isSavingEntityRecord:o}=Object(S.useSelect)(k.store),{redo:r,undo:a}=Object(S.useDispatch)(k.store);return Object(he.useShortcut)("kubio/edit-site/save",(e=>{e.preventDefault();const r=n(),a=!!r.length;!r.some((e=>o(e.kind,e.name,e.key)))&&a&&t()})),Object(he.useShortcut)("kubio/edit-site/undo",(e=>{a(),e.preventDefault()})),Object(he.useShortcut)("kubio/edit-site/redo",(e=>{r(),e.preventDefault()})),null}Ar.Register=function(){const{registerShortcut:e}=Object(S.useDispatch)(he.store);return Object(s.useEffect)((()=>{e({name:"kubio/edit-site/save",category:"global",description:Object(T.__)("Save your changes.","kubio"),keyCombination:{modifier:"primary",character:"s"}}),e({name:"kubio/edit-site/undo",category:"global",description:Object(T.__)("Undo your last changes.","kubio"),keyCombination:{modifier:"primary",character:"z"}}),e({name:"kubio/edit-site/redo",category:"global",description:Object(T.__)("Redo your last undo.","kubio"),keyCombination:{modifier:"primaryShift",character:"z"}}),e({name:"kubio/edit-site/toggle-list-view",category:"global",description:Object(T.__)("Open the block list view.","kubio"),keyCombination:{modifier:"access",character:"o"}})}),[e]),null};var Br=Ar;const Dr=e=>{let{children:t,templateId:n,templateType:o,page:r}=e;const[a,i]=Object(s.useState)(!1),[l,c]=Object(s.useState)(!1),u=oo(),[b,d]=Object(g.useGlobalSessionProp)("thirdPartyBlockInstalled",!1),{createSuccessNotice:p}=Object(S.useDispatch)("core/notices");Object(s.useEffect)((()=>{i(u)}),[u,n,o,r]);const m=Object(s.useCallback)((()=>{l||i(!1)}),[l]),f=Object(s.useCallback)((async()=>{c(!0);try{await to()}catch(e){}d(!0),p(Object(T.__)("Kubio blog templates were imported successfully! Refresh the editor to enjoy the full site editing experience","kubio"),{isDismissible:!0,actions:[{label:Object(T.__)("Refresh page now","kubio"),onClick:()=>window.location.reload()}]}),i(!1)}),[]);return Object(s.createElement)(s.Fragment,null,a&&!b&&Object(s.createElement)(v.Modal,{title:Object(T.__)("💫 Start with the Kubio blog!","kubio"),onRequestClose:m,shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1,isDismissible:!l},Object(s.createElement)("p",null,Object(T.__)("Kubio comes with a fully customizable blog area for your site.","kubio"),Object(s.createElement)("br",null),Object(T.__)("Would you like to use the Kubio blog templates? ","kubio")),Object(s.createElement)(v.ButtonGroup,{className:"h-template-part-modal__button-group"},!l&&Object(s.createElement)(v.Button,{isLink:!0,onClick:m},Object(T.__)("Maybe later","kubio")),Object(s.createElement)(v.Button,{isPrimary:!0,isBusy:l,onClick:f},!l&&Object(T.__)("Import Kubio blog","kubio"),l&&Object(T.__)("Importing Kubio blog…","kubio")))),t)},Mr="__experimentalMainDashboardButton",{Fill:Lr,Slot:Fr}=Object(v.createSlotFill)(Mr),zr=Lr;zr.Slot=e=>{let{children:t}=e;const n=Object(v.__experimentalUseSlot)(Mr);return Boolean(n.fills&&n.fills.length)?Object(s.createElement)(Fr,{bubblesVirtually:!0}):t};var Gr=zr;var Kr=Object(s.createElement)(R.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(R.Path,{d:"M12 4L4 7.9V20h16V7.9L12 4zm6.5 14.5H14V13h-4v5.5H5.5V8.8L12 5.7l6.5 3.1v9.7z"}));const Hr=["attachment","kubio_changeset"],Vr=e=>{let{onComplete:t=p.noop,closeModal:n=p.noop,entityName:o=Object(T.__)("other","kubio")}=e;const r=Object(u.useUnloadStoreEntities)(),a=Object(u.useResetUndoStack)(),i=Object(g.useSetGlobalSessionProp)("ready"),[l,c]=Object(s.useState)(!1),{hasDirtyEntities:b,entitiesToSave:d}=Object(S.useSelect)((e=>{const{__experimentalGetDirtyEntityRecords:t}=e("core");return{hasDirtyEntities:t().filter((e=>{let{kind:t,name:n}=e;return"postType"===t&&!Hr.includes(n)})).length>0,entitiesToSave:t()}})),{saveEditedEntityRecord:m}=Object(S.useDispatch)("core"),f=Object(s.useCallback)((()=>{i(!1),r(),a(),t(),Object(We.doAction)("kubio.editor.page-changed")}),[r,a,t]);Object(s.useEffect)((()=>{b||f()}),[]);return Object(s.createElement)(s.Fragment,null,b&&Object(s.createElement)(v.Modal,{title:Object(T.__)("You have unsaved changes","kubio"),onRequestClose:n},Object(s.createElement)("p",null,Object(s.createElement)("span",{dangerouslySetInnerHTML:{__html:Object(T.sprintf)(// translators: %s: page name
Object(T.__)("You are being redirected to <strong>%s</strong> page.","kubio"),o)}}),Object(s.createElement)("br",null),Object(T.__)("Would you like to save these changes or discard them?","kubio")),Object(s.createElement)(v.ButtonGroup,{className:"h-template-part-modal__button-group"},Object(s.createElement)(v.Button,{isLink:!0,onClick:()=>{f()}},Object(T.__)("Discard changes","kubio")),Object(s.createElement)(v.Button,{isPrimary:!0,onClick:()=>{c(!0),(()=>{const e=d.map((e=>{let{kind:t,name:n,key:o}=e;return m(t,n,o)}));return Promise.all(e)})().then((()=>{f(),c(!1)}))},isBusy:l,disabled:l},Object(T.__)("Save changes","kubio")))))};var Ur=Object(s.createElement)(R.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(s.createElement)(R.Path,{d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v12zM7 11h2V9H7v2zm0 4h2v-2H7v2zm3-4h7V9h-7v2zm0 4h7v-2h-7v2z"})),$r=n(504);const Yr=e=>{let{post:t,onCloseModal:n,onClickDuplicate:o}=e;const[r,a]=Object(s.useState)(!1),{createErrorNotice:i,createSuccessNotice:l}=Object(u.useKubioNotices)(),[c,b]=Object(s.useState)(""),{saveEntityRecord:d}=Object(S.dispatch)("core"),p=async(e,n,r)=>{a(!0);const s={title:r||c,status:"publish",content:null==t?void 0:t.content,excerpt:null==t?void 0:t.excerpt,meta:null==t?void 0:t.meta,template:null==t?void 0:t.template};let u=!1;try{u=await d(e,n,s),l(Object(T.sprintf)(Object(T.__)("%s saved successfully!","kubio"),s.title))}catch(e){console.error(e),i(Object(T.sprintf)(Object(T.__)("An error occurred. %s was not saved!","kubio"),s.title))}u&&o(u)};return Object(s.createElement)(v.Modal,{title:Object(T.__)("Duplicate page","kubio"),onRequestClose:e=>{e.stopPropagation(),n()},className:"block-editor-block-new-entity-modal",shouldCloseOnEsc:!r,shouldCloseOnClickOutside:!r,isDismissible:!r},Object(s.createElement)("div",{className:"popover__content"},Object(s.createElement)($e.InputControl,{value:c,onChange:e=>b(e),label:Object(T.__)("Title","kubio"),autoFocus:!0,onKeyPress:e=>{"Enter"===e.key&&p("postType",t.type,e.target.value)}}),Object(s.createElement)(v.__experimentalSpacer,{margin:3}),Object(s.createElement)(v.Button,{isPrimary:!0,isBusy:r,disabled:""===c,onClick:()=>{p("postType",t.type)},className:"add-button"},Object(T.__)("Duplicate page","kubio"))))},Wr=e=>{var t,n;let{post:o,onCloseModal:r}=e;const[a,i]=Object(s.useState)(!1),{createErrorNotice:l,createSuccessNotice:c}=Object(u.useKubioNotices)();return Object(s.createElement)(v.Modal,{title:Object(T.__)("Delete ","kubio")+(null==o||null===(t=o.title)||void 0===t?void 0:t.raw)+Object(T.__)(" page?","kubio"),onRequestClose:e=>{e.stopPropagation(),r()},className:"block-editor-block-new-entity-modal",shouldCloseOnEsc:!a,shouldCloseOnClickOutside:!a,isDismissible:!a},Object(s.createElement)("p",null,Object(s.createElement)("span",{dangerouslySetInnerHTML:{__html:Object(T.sprintf)(// translators: %s: page name
Object(T.__)("The <strong>%s</strong> page will be moved in the trash.","kubio"),null==o||null===(n=o.title)||void 0===n?void 0:n.raw)}}),Object(s.createElement)("br",null),Object(T.__)("You can recover it later from WP Admin -> Pages -> Trash","kubio")),Object(s.createElement)(v.ButtonGroup,{className:"h-template-part-modal__button-group"},Object(s.createElement)(v.Button,{isLink:!0,onClick:r},Object(T.__)("Cancel","kubio")),Object(s.createElement)(v.Button,{isPrimary:!0,onClick:async()=>{i(!0),await qr(o,l,c),r()}},Object(T.__)("Delete","kubio"))))},qr=(e,t,n)=>{var o;const r=e.id,a=null==e||null===(o=e.title)||void 0===o?void 0:o.raw;try{Object(S.dispatch)("core").deleteEntityRecord("postType",e.type,parseInt(r)),n(a+Object(T.__)(" moved to trash!","kubio"))}catch(e){console.error(e),t(Object(T.__)("An error occurred. ","kubio")+a+Object(T.__)(" was not saved!","kubio"))}};function Xr(e){let{item:t}=e;const{setPage:n,setIsNavigationPanelOpened:o}=Object(S.useDispatch)(je),{page_for_posts:r,page_on_front:a,show_on_front:i,wooCommercePagesIds:l,isActive:c}=Object(S.useSelect)((e=>{var n,o,r,a,i;const{page_for_posts:l,page_on_front:c,show_on_front:s}=e("core").getEditedEntityRecord("root","site"),u=null===(n=e("core/block-editor").getSettings())||void 0===n||null===(o=n.kubioBasicWooCommerce)||void 0===o?void 0:o.pagesIds,{getPage:b,getTemplateId:d,getTemplatePartId:p}=e(je),m=[null===(r=b())||void 0===r||null===(a=r.context)||void 0===a||null===(i=a.postId)||void 0===i?void 0:i.toString(),d(),p()].filter(Boolean);return{page_for_posts:l,page_on_front:c,show_on_front:s,wooCommercePagesIds:Object.values(u||{}),isActive:m.includes(t.id.toString())}}),[]),{duplicateContainerRef:u,delContainerRef:b}=Object(s.useRef)(),[d,p]=Object(s.useState)(!1),[m,f]=Object(s.useState)(!1),[O,g]=Object(s.useState)(!1),[h,j]=Object(s.useState)({}),E=Object(s.useCallback)((()=>{const{type:e,slug:r,link:a,id:i}=null!=h&&h.id?h:t;n({type:e,slug:r,path:Object(Ee.getPathAndQueryString)(a),context:{postType:e,postId:i}}),o(!1)}),[n,t,h]),y=Object(s.useCallback)((()=>{c||g(!0)}),[g]),_=Object(s.useCallback)((()=>{p(!0)})),k=Object(s.useCallback)((()=>{f(!0)}));if(!t)return null;const w=(e=>{var t;const n=e.taxonomy?e.name:null==e||null===(t=e.title)||void 0===t?void 0:t.rendered,o=document.createElement("div");return o.innerHTML=n,o.textContent||o.innerText||""})(t)||Object(T.__)("(no title)","kubio"),x=w;let I,P;"page"===i&&a===t.id&&(I=Object(s.createElement)(v.Icon,{title:Object(T.__)("Homepage","kubio"),icon:Kr,size:18})),"page"===i&&r===t.id&&(I=Object(s.createElement)(v.Icon,{title:Object(T.__)("Posts page","kubio"),icon:Ur,size:18})),-1!==l.indexOf(t.id)&&(I=Object(s.createElement)(v.Icon,{title:Object(T.__)("Posts page","kubio"),icon:_e.WooCommerceSmallLogo,size:18}));const R={className:"edit-site-kubio-more-menu__content edit-site-more-menu__content",position:"bottom left",isAlternate:!0},N={tooltipPosition:"bottom"},A=a!==t.id&&!c;"page"===i&&"page"===t.type&&r!==t.id&&(P=Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.DropdownMenu,{className:"kubio-more-menu",icon:nr.a,label:Object(T.__)("More tools & options","kubio"),popoverProps:R,toggleProps:N},(e=>{let{onClose:t}=e;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.MenuGroup,null,Object(s.createElement)(v.MenuItem,{icon:_e.DuplicateItemIcon,ref:u,onClick:e=>{e.preventDefault(),_(e),t()},role:"menuitemcheckbox"},Object(T.__)("Duplicate","kubio")),A&&Object(s.createElement)(v.MenuItem,{icon:$r.a,ref:b,onClick:e=>{e.preventDefault(),k(e),t()},role:"menuitemcheckbox"},Object(T.__)("Delete","kubio"))))})),d&&Object(s.createElement)(Yr,{post:t,onCloseModal:()=>{p(!1)},onClickDuplicate:e=>{j(e),p(!1),g(!0)}}),m&&Object(s.createElement)(Wr,{post:t,onCloseModal:()=>{f(!1)}})));const B=C()("edit-site-navigation-panel__content-item",{"kubio-navigation-item-active":c});return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.__experimentalNavigationItem,{className:B,item:`${t.taxonomy||t.type}-${t.id}`,title:x},Object(s.createElement)(v.Button,{onClick:y},I&&Object(s.createElement)("span",{className:"components-navigation__item-badge"},I),Object(s.createElement)("span",{className:"components-truncate components-text components-navigation__item-title"},x)),P),O&&Object(s.createElement)(Vr,{onComplete:E,closeModal:()=>g(!1),entityName:x}))}const Qr=e=>Object(p.deburr)(e).replace(/^\//,"").toLowerCase(),Zr=(e,t)=>-1!==Qr(e).indexOf(Qr(t));function Jr(e){let{item:t,icon:n}=e;const{title:o,description:r,isActive:a}=Object(S.useSelect)((e=>{var n,o,r,a;const{getPage:i,getTemplateId:l,getTemplatePartId:c}=e(je),s=[null===(n=i())||void 0===n||null===(o=n.context)||void 0===o||null===(r=o.postId)||void 0===r?void 0:r.toString(),l(),c()].filter(Boolean);return{..."wp_template"===t.type?e("core/editor").__experimentalGetTemplateInfo(t):{title:(null==t||null===(a=t.title)||void 0===a?void 0:a.rendered)||(null==t?void 0:t.slug),description:""},isActive:s.includes(t.id.toString())}}),[]),{setTemplate:i,setTemplatePart:l,setIsNavigationPanelOpened:c,setPage:u}=Object(S.useDispatch)(je),[b,d]=Object(s.useState)(!1),p=Object(s.useCallback)((()=>{a||d(!0)}),[d,a]);if(!t)return null;const m=C()("edit-site-navigation-panel__template-item",{"kubio-navigation-item-active":a});return Object(s.createElement)(v.__experimentalNavigationItem,{className:m,item:`${t.type}-${t.id}`,title:o,icon:n},Object(s.createElement)(v.Button,{onClick:p},Object(s.createElement)("span",{className:"edit-site-navigation-panel__info-wrapper"},Object(s.createElement)("div",{className:"edit-site-navigation-panel__template-item-title"},"draft"===t.status&&Object(s.createElement)("em",null,Object(T.__)("[Draft]","kubio")),o),r&&Object(s.createElement)("div",{className:"edit-site-navigation-panel__template-item-description"},r))),b&&Object(s.createElement)(Vr,{onComplete:()=>{"wp_template"===t.type?i(t.id,t.slug,!0):l(t.id),c(!1)},closeModal:()=>d(!1),entityName:o}))}function ea(e){let{items:t,search:n}=e;const o=(null==t?void 0:t.length)>0?t[0].type:null,r=Object(S.useSelect)((e=>{if("wp_template"===o){const{__experimentalGetTemplateInfo:n}=e("core/editor");return t.map((e=>({slug:e.slug,...n(e)})))}return(t||[]).map((e=>{var t,n;return{slug:e.slug,title:null===(t=e.title)||void 0===t?void 0:t.rendered,description:null===(n=e.excerpt)||void 0===n?void 0:n.rendered}}))}),[t,o]),a=Object(s.useMemo)((()=>null===t||0===n.length?[]:t.filter((e=>{let{slug:t}=e;const{title:o,description:a}=r.find((e=>e.slug===t));return Zr(t,n)||Zr(o,n)||Zr(a,n)}))),[t,r,n]),i="wp_template"===o||"wp_template_part"===o?Jr:Xr;return Object(s.createElement)(v.__experimentalNavigationGroup,{title:Object(T.__)("Search results","kubio")},Object(p.map)(a,(e=>Object(s.createElement)(i,{item:e,key:`${e.type}-${e.id}`}))))}const ta=e=>{let{kind:t="postType",entity:n,title:o,hasSearch:r=!0,parentMenu:a=Uo}=e;const{search:i,searchQuery:l,onSearch:c,isDebouncing:b}=function(){const[e,t]=Object(s.useState)(""),[n,o]=Object(s.useState)(""),[r,a]=Object(s.useState)(!1);Object(s.useEffect)((()=>{a(!1)}),[n]);const i=Object(s.useCallback)(Object(p.debounce)(o,75),[o]);return{search:e,searchQuery:n,isDebouncing:r,onSearch:Object(s.useCallback)((e=>{t(e),i(e),a(!0)}),[t,a,i])}}(),d=Object(S.useRegistry)(),{resetSelection:f}=d.dispatch(E.store),{setPage:g,setIsNavigationPanelOpened:h}=Object(S.useDispatch)(O.STORE_KEY),{saveEntityRecord:j}=Object(S.dispatch)("core"),{items:y,showOnFront:_,pageForPosts:k,pageOnFront:w,isResolved:x,siteURL:I}=Object(S.useSelect)((e=>{const{getEntityRecords:o,getEditedEntityRecord:r,hasFinishedResolution:a,getEntityRecord:i}=e("core"),c=[t,n,{search:l,status:"publish,private",per_page:50}],s=a("getEntityRecords",c),{page_for_posts:u,page_on_front:b}=e("core").getEditedEntityRecord("root","site");let d=o(...c);if("postType"===t&&"page"===n&&Object(p.isArray)(d)){d=[i("postType","page",b),i("postType","page",u),...d].filter(Boolean),d=Object(p.uniqBy)(d,(e=>parseInt(null==e?void 0:e.id)))}return{items:d,isResolved:s,showOnFront:r("root","site").show_on_front,siteURL:e("core/block-editor").getSettings().siteUrl||"/",pageForPosts:u,pageOnFront:b}}),[l,n,t]),[C,P]=Object(s.useState)(""),[R,N]=Object(s.useState)(!1),[A,B]=Object(s.useState)(!1),[D,M]=Object(s.useState)(!1),[L,F]=Object(s.useState)({}),z=Object(s.useCallback)((()=>{N(!1),B(!0)}),[B]),G=async(e,t)=>{M(!0);const n={title:C,status:"publish",template:$},o=await j(e,t,n);o&&(F(o),z(),M(!1),P(""))},{availableTemplates:K,isKubioTheme:H}=Object(S.useSelect)((e=>{const t=e(O.STORE_KEY),{getSettings:n}=e(E.store);return{availableTemplates:t.getAvailablePageTemplates(),isKubioTheme:n().isKubioTheme}}),[]),{templates:V,defaultTemplate:U}=Object(u.useDeepMemo)((()=>{let e;let t=K;return H?(e=m.a.find(t,{value:"kubio-full-width"})?"kubio-full-width":"full-width",t=K):(e="",Object(p.find)(t,{value:e})||(e=m.a.find(t,{value:"kubio-full-width"})?"kubio-full-width":"full-width")),{defaultTemplate:e,templates:t}}),[K,H]),[$,Y]=Object(s.useState)(U),W=Object(u.useDeepMemo)((()=>{const e=V.reduce(((e,t)=>{const n=t.source||"custom";return{...e,[n]:[...e[n]||[],t]}}),{}),t=[];return m.a.forEach(O.templateGroupPriorities,(function(n){var o;null!==(o=e[n])&&void 0!==o&&o.length&&(t.push({value:"template-group-"+n,label:O.templateGroups[n],disabled:!0}),m.a.forEach(e[n],(function(e){t.push(e)})))})),t}),[V]),[q,X]=Object(s.useState)(!1),Q=Object(s.useCallback)((()=>{X(!1),g({type:"page",path:I,context:{queryContext:{page:1}}}),h(!1)}),[g]),Z=Object(s.useCallback)((()=>{L&&(g({type:L.type,slug:L.slug,path:Object(Ee.getPathAndQueryString)(L.link),context:{postType:L.type,postId:L.id}}),M(!1),h(!1))}),[g,L]),J=!x||i&&b;let ee=Object(s.createElement)(s.Fragment,null);"postType"===t&&"page"===n&&(ee=Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.Button,{isPrimary:!0,icon:xe.a,iconPosition:"right",onClick:()=>{N(!0)},className:"kubio-new-page-btn",label:Object(T.__)("New","kubio")},Object(T.__)("New","kubio")),R&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.Modal,{title:Object(T.__)("Add page","kubio"),onRequestClose:()=>{N(!1)},className:"block-editor-block-new-entity-modal",shouldCloseOnEsc:!D,shouldCloseOnClickOutside:!D,isDismissible:!D},Object(s.createElement)("div",{className:"popover__content"},Object(s.createElement)(v.__experimentalInputControl,{value:C,onChange:e=>P(e),label:Object(T.__)("Title","kubio"),autoFocus:!0,onKeyPress:e=>{"Enter"===e.key&&G(t,n)}}),Object(s.createElement)(v.__experimentalSpacer,{margin:3}),Object(s.createElement)(v.SelectControl,{value:$,onChange:e=>Y(e),label:Object(T.__)("Template","kubio"),options:W}),Object(s.createElement)(v.__experimentalSpacer,{margin:6}),Object(s.createElement)(v.Button,{isPrimary:!0,isBusy:D,disabled:D||""===C.trim(),onClick:()=>{f(0,0,null),G(t,n)},className:"add-button"},Object(T.__)("Add page","kubio"))))),A&&Object(s.createElement)(Vr,{onComplete:Z,closeModal:()=>B(!1),entityName:C})));const te=m.a.sortBy(y,(e=>"page"!==_||k!==e.id&&w!==e.id?1:0));return Object(s.createElement)(v.__experimentalNavigationMenu,{menu:`kubio-content-area-${t}-${n}`,title:o,parentMenu:a,hasSearch:r,onSearch:c,search:i,isSearchDebouncing:b||!x,titleAction:ee,className:"kubio-nav-menu-heading"},i&&!b&&Object(s.createElement)(ea,{items:te,search:i,disableFilter:!0}),!i&&Object(s.createElement)(s.Fragment,null,"posts"===_&&Object(s.createElement)(v.__experimentalNavigationItem,{item:"post-/",title:Object(T.__)("All Posts","kubio"),onClick:()=>X(!0)},Object(s.createElement)(v.Button,{className:"components-button css-1g713f0 ejwewyf3"},Object(s.createElement)(v.Flex,{align:"center"},Object(s.createElement)(v.FlexItem,null,Object(s.createElement)(v.Icon,{icon:Kr,size:18})),Object(s.createElement)(v.FlexBlock,null,Object(s.createElement)("span",null,Object(T.__)("All Posts","kubio"))),q&&Object(s.createElement)(Vr,{onComplete:Q,closeModal:()=>B(!1),entityName:C})))),null==te?void 0:te.map((e=>Object(s.createElement)(Xr,{item:e,key:`${e.type||e.taxonomy}-${e.id}`})))),J&&Object(s.createElement)(v.__experimentalNavigationItem,{title:Object(T.__)("Loading…","kubio"),isText:!0}))};function na(e){var t,n;let{onActivateMenu:o,activeMenu:r}=e;const{page:a}=Object(S.useSelect)((e=>({page:e(O.STORE_KEY).getPage()})),[]),i=Object(s.useMemo)((()=>{var e,t;return[{kind:"postType",entity:"page",title:Object(T.__)("Pages","kubio")},{kind:"postType",entity:"post",title:Object(T.__)("Posts","kubio")},{kind:"taxonomy",entity:"category",title:Object(T.__)("Categories","kubio")},...(null===(e=window)||void 0===e||null===(t=e.kubioEditSiteSettings)||void 0===t?void 0:t.postTypes.filter((e=>"kubio_section"!==e.entity)))||[]]}),[null===(t=window)||void 0===t||null===(n=t.kubioEditSiteSettings)||void 0===n?void 0:n.postTypes]);return Object(s.createElement)(v.__experimentalNavigation,{activeItem:a&&`content-${a.path}`,activeMenu:r,onActivateMenu:e=>{o(e)}},r===Uo&&Object(s.createElement)(Gr.Slot,null,Object(s.createElement)(v.__experimentalNavigationBackButton,{backButtonLabel:Object(T.__)("Dashboard","kubio"),className:"edit-site-navigation-panel__back-to-dashboard",href:"index.php"})),Object(s.createElement)(v.__experimentalNavigationMenu,{title:Object(T.__)("Site Content","kubio")},null==i?void 0:i.map((e=>{let{kind:t,entity:n,title:o}=e;return Object(s.createElement)(v.__experimentalNavigationItem,{title:o,navigateToMenu:`kubio-content-area-${t}-${n}`,key:`${t}-${n}`})}))),null==i?void 0:i.map((e=>Object(s.createElement)(ta,Object(x.a)({},e,{key:`${e.kind}-${e.entity}`})))))}function oa(e){let{menu:t,title:n,templateParts:o}=e;return Object(s.createElement)(v.__experimentalNavigationMenu,{menu:t,title:n,parentMenu:$o,isEmpty:!o||0===o.length},Object(p.map)(o,(e=>Object(s.createElement)(Jr,{item:e,key:`wp_template_part-${e.id}`}))))}function ra(){const[e,t]=Object(s.useState)(""),n=Object(s.useCallback)((e=>{t(e)})),{isLoading:o,templateParts:r,templatePartsByArea:a}=Object(S.useSelect)((e=>{const t=e(k.store).getEntityRecords("postType","wp_template_part"),n=t||[],o=Object(p.groupBy)(n.map((e=>({...e,area:e.area||"uncategorized"}))),"area");return{isLoading:null===t,templateParts:n,templatePartsByArea:o}}),[]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.__experimentalNavigationMenu,{menu:$o,title:Object(T.__)("Template Parts","kubio"),parentMenu:Uo,hasSearch:!0,onSearch:n,search:e},e&&Object(s.createElement)(ea,{items:r,search:e}),!e&&er.map((e=>{let{title:t,menu:n}=e;return Object(s.createElement)(v.__experimentalNavigationItem,{key:`template-parts-navigate-to-${n}`,navigateToMenu:n,title:t,hideIfTargetMenuEmpty:!0})})),!e&&o&&Object(s.createElement)(v.__experimentalNavigationItem,{title:Object(T.__)("Loading…","kubio"),isText:!0})),er.map((e=>{let{area:t,menu:n,title:o}=e;return Object(s.createElement)(oa,{key:`template-parts-menu-${n}`,menu:n,title:o,templateParts:a[t]})})))}function aa(){const{defaultTemplateTypes:e,templates:t,classicThemePrimaryTemplates:n}=Object(S.useSelect)((e=>{const{getSettings:t}=e(je),n=e("core").getEntityRecords("postType","wp_template");return{defaultTemplateTypes:t().defaultTemplateTypes,classicThemePrimaryTemplates:t().classicThemePrimaryTemplates,templates:n}}),[]),{addTemplate:o}=Object(S.useDispatch)(je),r=Object(p.map)(t,"slug"),a=Object(p.filter)(e,(e=>Object(p.includes)(Object(p.uniq)([...Vo,...n]),e.slug)&&!Object(p.includes)(r,e.slug)));return a.length?Object(s.createElement)(v.DropdownMenu,{className:"edit-site-navigation-panel__new-template-dropdown",icon:null,label:Object(T.__)("Add Template","kubio"),popoverProps:{noArrow:!1},toggleProps:{children:Object(s.createElement)(v.Button,{isPrimary:!0,icon:xe.a,iconPosition:"right",className:"kubio-new-page-btn",label:Object(T.__)("New","kubio")},Object(T.__)("New","kubio"))}},(t=>{let{onClose:n}=t;return Object(s.createElement)(v.NavigableMenu,{className:"edit-site-navigation-panel__new-template-popover"},Object(s.createElement)(v.MenuGroup,{label:Object(T.__)("Add Template","kubio")},Object(p.map)(a,(t=>{let{title:r,description:a,slug:i}=t;return Object(s.createElement)(v.MenuItem,{info:a,key:i,onClick:()=>{(t=>{const{title:n,description:r}=Object(p.find)(e,{slug:t});o({content:"__KUBIO_REPLACE_WITH_APPROPRIATE_CONTENT__",excerpt:r,slug:t.toString(),status:"publish",title:n,kubio_template_source:"kubio-custom"})})(i),n()}},r)}))))})):null}function ia(e){let{menu:t,title:n,templates:o,parentMenu:r}=e;const a=!o||0===o.length;return!a&&Object(s.createElement)(v.__experimentalNavigationMenu,{menu:t,title:n,parentMenu:r,isEmpty:a},Object(p.map)(o,(e=>Object(s.createElement)(Jr,{item:e,key:`wp_template-${e.id}`}))))}const la=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"custom";return!!e&&(null==e?void 0:e.filter((e=>{let{kubio_template_source:n="custom"}=e;return n===t})))};function ca(e){let{title:t,templates:n,menu:o,hasAdd:r=!0,parentMenu:a=Yo}=e;const i=Object(s.useMemo)((()=>{const e={},t=la(n,"kubio"),o=la(n,"theme"),r=!!n&&Object(p.difference)(n,[...t,...o]);return t&&t.length&&(e.kubio=t),o&&o.length&&(e.theme=o),r&&r.length&&(e.custom=o),e}),[n]),l=Object.keys(i).length<=1;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.__experimentalNavigationMenu,{menu:o,title:t,titleAction:r&&Object(s.createElement)(aa,null),parentMenu:a},l&&Object(s.createElement)(s.Fragment,null,Object(p.map)(n,(e=>Object(s.createElement)(Jr,{item:e,key:`wp_template-${e.id}`,icon:_e.KubioLogo})))),!l&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.__experimentalNavigationItem,{navigateToMenu:`${o}--${Jo}`,title:Object(T.__)("Kubio templates","kubio"),hideIfTargetMenuEmpty:!0}),Object(s.createElement)(v.__experimentalNavigationItem,{navigateToMenu:`${o}--${Zo}`,title:Object(T.__)("Theme templates","kubio"),hideIfTargetMenuEmpty:!0}),Object(s.createElement)(v.__experimentalNavigationItem,{navigateToMenu:`${o}--${Qo}`,title:Object(T.__)("Custom templates","kubio"),hideIfTargetMenuEmpty:!0}))),Object(s.createElement)(ia,{menu:`${o}--${Jo}`,title:Object(T.__)("Kubio templates","kubio"),templates:i.kubio,parentMenu:o}),Object(s.createElement)(ia,{menu:`${o}--${Zo}`,title:Object(T.__)("Theme templates","kubio"),templates:i.theme,parentMenu:o}),Object(s.createElement)(ia,{menu:`${o}--${Qo}`,title:Object(T.__)("Custom templates","kubio"),templates:i.custom,parentMenu:o}))}function sa(){var e,t,n,o,r,a;const[i,l]=Object(s.useState)(""),c=Object(s.useCallback)((e=>{l(e)})),{templates:b}=Object(S.useSelect)((e=>{const{getEntityRecords:t}=e(k.store);return{templates:t("postType","wp_template",{per_page:-1})}}),[]),d=Object(s.useMemo)((()=>b.reduce(((e,t)=>{let n="general";const o=t.slug;return Object(u.currentTemplateIsPage)(o)&&(n="page"),Object(u.currentTemplateIsPost)(o)&&(n="post"),{...e,[n]:[...e[n]||[],t]}}),{})),[b]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(v.__experimentalNavigationMenu,{menu:Yo,title:Object(T.__)("Templates","kubio"),titleAction:Object(s.createElement)(aa,null),parentMenu:Uo,hasSearch:!0,onSearch:c,search:i},i&&Object(s.createElement)(ea,{items:b,search:i}),!i&&Object(s.createElement)(s.Fragment,null,!(null===(e=d.page)||void 0===e||!e.length)&&Object(s.createElement)(v.__experimentalNavigationItem,{navigateToMenu:qo,title:Object(T.__)("Page templates","kubio"),hideIfTargetMenuEmpty:!0}),!(null===(t=d.post)||void 0===t||!t.length)&&Object(s.createElement)(v.__experimentalNavigationItem,{navigateToMenu:Xo,title:Object(T.__)("Post templates","kubio"),hideIfTargetMenuEmpty:!0}),!(null===(n=d.general)||void 0===n||!n.length)&&Object(s.createElement)(v.__experimentalNavigationItem,{navigateToMenu:Wo,title:Object(T.__)("General templates","kubio"),hideIfTargetMenuEmpty:!0})),!i&&null===b&&Object(s.createElement)(v.__experimentalNavigationItem,{title:Object(T.__)("Loading…","kubio"),isText:!0})),!(null===(o=d.page)||void 0===o||!o.length)&&Object(s.createElement)(ca,{menu:qo,title:Object(T.__)("Page templates","kubio"),templates:d.page,hasAdd:!1,category:"page"}),!(null===(r=d.post)||void 0===r||!r.length)&&Object(s.createElement)(ca,{menu:Xo,title:Object(T.__)("Post templates","kubio"),templates:d.post,category:"post",hasAdd:!1}),!(null===(a=d.general)||void 0===a||!a.length)&&Object(s.createElement)(ca,{menu:Wo,title:Object(T.__)("General templates","kubio"),templates:d.general,hasAdd:!1,category:"general"}))}function ua(e){let{activeMenu:t,onActivateMenu:n}=e;const{postId:o,postType:r}=Object(S.useSelect)((e=>{const{getEditedPostType:t,getEditedPostId:n}=e(je);return{postId:n(),postType:t()}}),[]);return Object(s.createElement)(v.__experimentalNavigation,{activeItem:`${r}-${o}`,activeMenu:t,onActivateMenu:e=>{n(e)}},Object(s.createElement)(v.__experimentalNavigationMenu,{title:Object(T.__)("Advanced","kubio")},Object(s.createElement)(v.__experimentalNavigationItem,{title:Object(T.__)("Templates","kubio"),navigateToMenu:Yo}),Object(s.createElement)(v.__experimentalNavigationItem,{title:Object(T.__)("Template Parts","kubio"),navigateToMenu:$o}),Object(s.createElement)(sa,{activeMenu:t}),Object(s.createElement)(ra,null)))}var ba=e=>{let{isOpen:t}=e;const[n,o]=Object(s.useState)(Uo),[r,a]=Object(s.useState)(Uo),{siteTitle:i,openedMenu:l}=Object(S.useSelect)((e=>{const{getEntityRecord:t}=e("core");return{siteTitle:(t("root","__unstableBase",void 0)||{}).name,openedMenu:e(je).getNavigationMenu()}}),[]),c=Object(s.useRef)();Object(s.useEffect)((()=>{t&&c.current.focus()}),[r]);const u=Object(y.usePrevious)(t);Object(s.useEffect)((()=>{l&&t&&!u&&o(l)}),[n,t,l]);const{setIsNavigationPanelOpened:b}=Object(S.useDispatch)(je);return Object(s.createElement)("div",{className:C()("edit-site-navigation-panel",{"is-open":t}),ref:c,tabIndex:"-1",onKeyDown:e=>{e.keyCode===Ir.ESCAPE&&(e.stopPropagation(),b(!1))}},Object(s.createElement)("div",{className:"edit-site-navigation-panel__inner"},Object(s.createElement)("div",{className:"edit-site-navigation-panel__site-title-container"},Object(s.createElement)(v.Flex,null,Object(s.createElement)(v.FlexBlock,null,Object(s.createElement)("div",{className:"edit-site-navigation-panel__site-title"},i)),Object(s.createElement)(v.FlexItem,null,Object(s.createElement)(v.Tooltip,{text:Object(T.__)("Close panel","kubio")},Object(s.createElement)(v.Button,{className:"kubio-edit-site-navigation-panel__close-button",icon:Te.a,onClick:()=>b(!1)}))))),Object(s.createElement)("div",{className:"edit-site-navigation-panel__scroll-container"},r===Uo&&Object(s.createElement)(na,{onActivateMenu:o,activeMenu:n}),n===Uo&&Object(s.createElement)(ua,{activeMenu:r,onActivateMenu:a}))))};var da=function(e){let{isOpen:t}=e;const{isActive:n}=Object(S.useSelect)((e=>{const{isFeatureActive:t}=e(O.STORE_KEY);return{isActive:t("fullscreenMode")}}),[]),{setIsNavigationPanelOpened:o}=Object(S.useDispatch)(O.STORE_KEY);if(!n)return null;const r=Object(s.createElement)(v.Icon,{size:"36px",icon:_e.HamburgerMenu});return Object(s.createElement)("div",{className:"edit-site-navigation-toggle"+(t?" is-open":"")},Object(s.createElement)(v.Button,{className:"edit-site-navigation-toggle__button has-icon",label:Object(T.__)("Toggle navigation","kubio"),onClick:()=>o(!t),showTooltip:!0},r))};const{Fill:pa,Slot:ma}=Object(v.createSlotFill)("EditSiteNavigationPanelPreview");function fa(){const e=Object(S.useSelect)((e=>e(je).isNavigationOpened()));return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(da,{isOpen:e}),e&&Object(s.createElement)(ba,{isOpen:e}),Object(s.createElement)(ma,null))}function Oa(){const{setIsListViewOpened:e}=Object(S.useDispatch)(O.STORE_KEY),{clearSelectedBlock:t,selectBlock:n}=Object(S.useDispatch)(E.store);const o=Object(y.useFocusOnMount)("firstElement"),r=Object(y.useFocusReturn)();const a=`edit-site-editor__list-view-panel-label-${Object(y.useInstanceId)(Oa)}`;return Object(s.createElement)("div",{"aria-labelledby":a,className:"edit-site-editor__list-view-panel",onKeyDown:function(t){t.keyCode!==Ir.ESCAPE||t.defaultPrevented||e(!1)}},Object(s.createElement)("div",{className:"edit-site-editor__list-view-panel-header"},Object(s.createElement)("strong",{id:a},Object(T.__)("List view","kubio")),Object(s.createElement)(v.Button,{icon:D.a,label:Object(T.__)("Close list view sidebar","kubio"),onClick:()=>e(!1)})),Object(s.createElement)("div",{className:"edit-site-editor__list-view-panel-content",ref:Object(y.useMergeRefs)([r,o])},Object(s.createElement)(E.__experimentalListView,{onSelect:async function(e){await t(),n(e,-1)},showNestedBlocks:!0,__experimentalFeatures:!0,__experimentalPersistentListViewFeatures:!0})))}function ga(){const{setTemplate:e,setTemplatePart:t,showHomepage:n,setPage:o}=Object(S.useDispatch)(O.STORE_KEY),{siteUrl:r,state:a}=window.kubioEditSiteSettings;Object(s.useEffect)((()=>{!async function(){var i,l,c,s;const u=window.location.href,b=Object(Ee.getQueryArg)(u,"postId")||(null==a||null===(i=a.entity)||void 0===i||null===(l=i.context)||void 0===l?void 0:l.postId),d=Object(Ee.getQueryArg)(u,"pageURL");if(!b&&!d)return void await n();const p=Object(Ee.getQueryArg)(u,"postType")||(null==a||null===(c=a.entity)||void 0===c||null===(s=c.context)||void 0===s?void 0:s.postType);if(d)await o({path:d});else if("wp_template"===p)await e(b);else if("wp_template_part"===p)await t(b);else if(p){var m,f,O;const e=(null==a||null===(m=a.entity)||void 0===m||null===(f=m.context)||void 0===f?void 0:f.postId)===b?null==a||null===(O=a.entity)||void 0===O?void 0:O.path:`${r}?p=${b}`;await o({context:{postType:p,postId:b},path:e})}else await n();Object(We.doAction)("kubio.afterEntitySet")}()}),[]);const i=function(){const e=Object(s.useRef)(),t=Object(S.useSelect)((e=>{var t,n;const{getEditedPostType:o,getEditedPostId:r,getPage:a}=e(O.STORE_KEY),i=a();let l=r(),c=o();return null!=i&&null!==(t=i.context)&&void 0!==t&&t.postId&&null!=i&&null!==(n=i.context)&&void 0!==n&&n.postType&&(l=i.context.postId,c=i.context.postType),l&&c?{postId:l,postType:c,page:i}:{page:i}}));Bt()(e.current,t)||(e.current=t);return e.current}();return Object(s.useEffect)((()=>{const e=Object(Ee.removeQueryArgs)(window.location.href,"postType","postId","pageURL"),{page:t,...n}=i,o=i?Object(Ee.addQueryArgs)(e,n):e;window.history.replaceState({},"",o)}),[i]),null}const ha=Object(s.createContext)({}),ja=[Object(we.getNamesOfBlocks)().HEADER,Object(we.getNamesOfBlocks)().FOOTER,Object(we.getNamesOfBlocks)().SIDEBAR,"core/template-part","core/post-content"],Ea=e=>{let{children:t,blockContext:n,templateId:o,templateType:r,page:a}=e;const[i,l]=Object(s.useState)({}),c=Object(s.useRef)([]),u=Object(s.useRef)([]),[b,d]=Object(s.useState)(!1),m=Object(g.useSetGlobalSessionProp)("ready"),f=Object(g.useGetGlobalSessionProp)("ready",!1),{getCurrentBlocksIds:O,partsResolutionFinished:h}=Object(S.useSelect)((e=>{var t;const{getClientIdsWithDescendants:n}=e("core/block-editor"),{hasFinishedResolution:i,getEntityRecords:l}=e("core"),c=null===(t=l("postType","wp_template_part"))||void 0===t?void 0:t.map((e=>{let{id:t}=e;return t}));return{getCurrentBlocksIds:n,partsResolutionFinished:!(!f&&o&&r)||u.current.reduce(((e,t)=>{let{theme:n,slug:o,content:r}=t,l=!0;var s,u;r?l=i("getEditedEntityRecord",["postType",null==a||null===(s=a.context)||void 0===s?void 0:s.postType,null==a||null===(u=a.context)||void 0===u?void 0:u.postId]):null!=c&&c.includes(`${n}//${o}`)&&(l=i("getEditedEntityRecord",["postType","wp_template_part",`${n}//${o}`]));return e&&l}),!0)}}),[u.current.length,f,n,o,o]),j=Object(y.useDebounce)(Object(s.useCallback)((e=>{m(e)}),[]),3e3);Object(s.useEffect)((()=>{f||(c.current=[],u.current=[]),d(f)}),[f]);const E=Object(y.useDebounce)(Object(s.useCallback)((e=>{m(e)}),[]),1e4);Object(s.useEffect)((()=>{const e=u.current.length?b&&h:b;h&&E(!0),j(e)}),[h,b,u.current]);const v=Object(s.useCallback)(((e,t,n)=>{let{theme:o,slug:r}=n;c.current=Object(p.uniq)([...c.current,e]);const a=c.current.length,i=O().length;ja.includes(t)&&(o&&r?Object(p.find)(u.current,{theme:o,slug:r})||u.current.push({theme:o,slug:r}):"core/post-content"===t&&u.current.push({content:!0})),a>=i&&d(!0)}),[]);Object(s.useEffect)((()=>{!Bt()(i,n)&&o&&r&&l(n)}),[n,o,r]);const _=Object(s.useMemo)((()=>({isReady:f,markBlockAsLoaded:v})),[f]);return Object(s.createElement)(ha.Provider,{value:_},t)},va=Object(y.createHigherOrderComponent)((e=>t=>{const{markBlockAsLoaded:n,isReady:o}=Object(s.useContext)(ha);return Object(s.useEffect)((()=>{o||n(t.clientId,t.name,t.attributes)}),[o]),Object(s.createElement)(e,t)}),"BlockListEditorStateReady");function ya(){return function(){const[e,t]=Object(j.useGlobalStylesOutput)(),{getSettings:n}=Object(S.useSelect)(je),{updateSettings:o}=Object(S.useDispatch)(je);Object(s.useEffect)((()=>{var r;if(m.a.isEmpty(e)||m.a.isEmpty(t))return;const a=n(),i=(null==a||null===(r=a.styles)||void 0===r?void 0:r.filter((e=>!e.isGlobalStyles)))||[],l=Object(Ye.mergeNoArrays)({},a,{styles:[...i,...e],__experimentalFeatures:t});o(l)}),[e,t])}(),null}Object(We.addFilter)("editor.BlockListBlock","kubio/style/BlockListEditorStateReady",Object(y.compose)([va]),1);const _a=()=>{const[e,t]=Object(s.useState)([]),n=Object(S.useSelect)((e=>{const{getEntityRecords:t}=e("core");return t("postType","kubio_section",{per_page:-1})}),[]),o="kubio-content/custom";return Object(s.useEffect)((()=>{let r=e;null==n||n.forEach((t=>{if(e.includes(t.id))return;const n={name:`kubio-content/custom/custom-section/${t.id}`,title:t.title.rendered,categories:[o],description:Object(T.__)("Custom section","kubio"),screenshot:!1,fromColibri:!0,fromFirebase:!0,isCustomSection:!0,isProOnFree:!1,isGutentagPattern:!0,content:JSON.parse(t.content.raw)};Object(f.registerPattern)(n),r=[...r,t.id]})),t(r)}),[n,e]),null},ka={secondarySidebar:Object(T.__)("Block Library","kubio"),drawer:Object(T.__)("Navigation Sidebar","kubio")},Sa=Object(y.createHigherOrderComponent)((e=>t=>{var n,o;let{initialSettings:r}=t;const{isFullscreenActive:a,sidebarIsOpened:i,settings:l,templateId:c,templateType:u,page:b,isNavigationOpen:d,isInserterOpen:p,isListViewOpen:f,isFSETemplate:g}=Object(S.useSelect)((e=>{const{isFeatureActive:t,getSettings:n,getEditedPostType:o,getEditedPostId:r,getPage:a,isNavigationOpened:i,isListViewOpened:l}=e(O.STORE_KEY),c=o(),s=r();return{isFullscreenActive:t("fullscreenMode"),sidebarIsOpened:e(O.STORE_KEY).isEditorSidebarOpened(),settings:n(),templateType:c,page:a(),templateId:s,isNavigationOpen:i(),isInserterOpen:e(O.STORE_KEY).getOpenedInserter(),isFSETemplate:!!s&&!!c,isListViewOpen:l()}}),[]),{postId:h,post:j,currentTemplateId:E,isKubioTheme:v}=Object(S.useSelect)((e=>{const t=m.a.get(b,["context","postId"]),n=m.a.get(b,["context","postType"]),{getEditorSettings:o}=e(w.store),{getEntityRecord:r,getEntityRecords:a}=e("core"),{getTemplateId:i=m.a.noop}=e("kubio/edit-site");let l;if(["wp_template","wp_template_part"].includes(n)){const e=a("postType",n,{wp_id:t});l=null==e?void 0:e[0]}else l=r("postType",n,t);return{postId:t,currentTemplateId:i(),isKubioTheme:o().supportsTemplateMode,post:l}}),[null==b||null===(n=b.context)||void 0===n?void 0:n.postId,null==b||null===(o=b.context)||void 0===o?void 0:o.postType]),{openSidebar:y}=Object(S.useDispatch)(O.STORE_KEY);Object(s.useEffect)((()=>{y("document")}),[]);const{editEntityRecord:_}=Object(S.useDispatch)("core"),{updateEditorSettings:k,setupEditor:T}=Object(S.useDispatch)("core/editor"),{defaultTemplateTypes:x}=l;Object(s.useEffect)((()=>{k(r)}),[x]),Object(s.useEffect)((()=>{k({...r,defaultTemplateTypes:x})}),[x]);const I=Object(s.useRef)();Object(s.useLayoutEffect)((()=>{j&&(null==j?void 0:j.id)!==I.current&&(I.current=null==j?void 0:j.id,T(j))}),[h,j]),Object(s.useLayoutEffect)((()=>{if(j&&"string"==typeof E){const e=v?"full-width":"kubio-full-width",t=E.includes(e),n=m.a.get(j,["content","raw"]),o=m.a.get(j,"template"),r=m.a.get(j,"id"),a=m.a.get(j,"type");!n&&t&&""===o&&_("postType",a,r,{template:e})}}),[h]);const C={isListViewOpen:f,isFullscreenActive:a,sidebarIsOpened:i,templateId:c,templateType:u,page:b,isNavigationOpen:d,isInserterOpen:p,isFSETemplate:g,__experimentalGlobalStylesBaseStyles:l.__experimentalGlobalStylesBaseStyles,__experimentalGlobalStylesUserEntityId:l.__experimentalGlobalStylesUserEntityId};return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(e,C),Object(s.createElement)(ga,null))}),"WithEditorCurrentEntity");var wa=Object(y.compose)(Sa,y.pure)((function(e){const{__experimentalGlobalStylesUserEntityId:t,sidebarIsOpened:n,templateId:o,templateType:r,page:a,isNavigationOpen:i,isInserterOpen:l,isListViewOpen:c,isFSETemplate:b}=e,{setPage:d}=Object(S.useDispatch)("core/editor"),p=Object(u.useActiveMedia)(),[m,y]=Object(s.useState)(!1),_=Object(s.useCallback)((()=>y(!0)),[]),x=Object(s.useCallback)((()=>{y(!1)}),[]);!function(){const{hasBlockSelection:e,isEditorSidebarOpened:t,isGlobalStyleEditing:n}=Object(S.useSelect)((e=>({hasBlockSelection:!!e("core/block-editor").getBlockSelectionStart(),isEditorSidebarOpened:e(O.STORE_KEY).isEditorSidebarOpened(),isGlobalStyleEditing:e(O.STORE_KEY).isGlobalStyleEditing()})),[]),{openSidebar:o}=Object(S.useDispatch)(O.STORE_KEY);Object(s.useEffect)((function(){t&&o(e?"block-inspector":n?"document/general-settings":"document")}),[e,t,n])}(),(()=>{const[e,t]=Object(s.useState)({}),[,n]=Object(uo.useCurrentInspectorTab)(),o=Object(S.useSelect)((e=>{const t=e("core/block-editor").getSelectedBlock();return{clientId:null==t?void 0:t.clientId,name:null==t?void 0:t.name}}));Object(s.useEffect)((()=>{(null==e?void 0:e.clientId)!==(null==o?void 0:o.clientId)&&(null==e?void 0:e.name)!==(null==o?void 0:o.name)&&(n("content"),t(o))}),[o,e,t,n])})();const I=Object(g.useGetGlobalSessionProp)("ready",!1),P=Object(s.useMemo)((()=>({...null==a?void 0:a.context,queryContext:[(null==a?void 0:a.context.queryContext)||{page:1},e=>d({...a,context:{...null==a?void 0:a.context,queryContext:{...null==a?void 0:a.context.queryContext,...e}}})]})),[JSON.stringify(null==a?void 0:a.context)]);Object(s.useEffect)((()=>{i?document.body.classList.add("is-navigation-sidebar-open"):document.body.classList.remove("is-navigation-sidebar-open")}),[i]),Object(s.useEffect)((()=>Object(f.initializeGutentagPatterns)()),[]);const{uiVersion:R}=Object(Se.useUIVersion)(),N=C()("kubio-sidebar",{"kubio-sidebar-hidden":(!n||l||c)&&1===R}),A=C()("kubio-secondary-sidebar",{"kubio-secondary-sidebar-hidden":!(l||c)&&1===R}),{createErrorNotice:B}=Object(S.useDispatch)("core/notices");let D=Object(s.createElement)(s.Fragment,null),M=Object(s.createElement)(s.Fragment,null);if(2===R)M=Object(s.createElement)("div",{className:"kubio-sidebar-v2-wrapper"},c&&Object(s.createElement)("div",{className:"kubio-sidebar-list-view"},Object(s.createElement)(Oa,null)),Object(s.createElement)("div",{className:N},Object(s.createElement)(fe.Slot,{scope:`${O.STORE_KEY}/sidebars`})),Object(s.createElement)("div",{className:A},l&&Object(s.createElement)(Pe,null)));else D=Object(s.createElement)("div",{className:N},Object(s.createElement)(fe.Slot,{scope:`${O.STORE_KEY}/sidebars`})),M=Object(s.createElement)("div",{className:A},l&&Object(s.createElement)(Pe,null),c&&Object(s.createElement)(Oa,null));const L=Object(s.createElement)(Ea,{blockContext:P,templateId:o,templateType:r,page:a},Object(s.createElement)(h.KubioGlobalDataContextProvider,null,Object(s.createElement)(ot,null,Object(s.createElement)(j.GlobalStylesProvider,null,Object(s.createElement)(E.BlockContextProvider,{value:P},Object(s.createElement)(ya,null),Object(s.createElement)(Br.Register,null),Object(s.createElement)(co,null),Object(s.createElement)(ge,{labels:ka,drawer:Object(s.createElement)(fa,null),sidebar:D,secondarySidebar:M,header:Object(s.createElement)(Nr,{openEntitiesSavedStates:_}),notices:Object(s.createElement)(w.EditorSnackbars,null),content:Object(s.createElement)(s.Fragment,null,Object(s.createElement)(w.EditorNotices,null),b&&Object(s.createElement)(No,null),!b&&Object(s.createElement)(Ao,null),Object(s.createElement)(Br,{openEntitiesSavedStates:_}),Object(s.createElement)("div",{id:"kubio-toolbar-boundary"})),actions:Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Ko,{isOpen:m,close:x})),footer:Object(s.createElement)(E.BlockBreadcrumb,null)}),Object(s.createElement)(v.Popover.Slot,null),Object(s.createPortal)(Object(s.createElement)("div",{className:"kubio-popover-slot-container"},Object(s.createElement)(v.Popover.Slot,{name:"kubio-popover-slot"})),document.body),Object(s.createElement)(oe.PluginArea,{onError:function(e){B(Object(T.sprintf)(/* translators: %s: plugin name */Object(T.__)('The "%s" plugin has encountered an error and cannot be rendered.',"kubio"),e))}}))))));return Object(s.createElement)("div",{className:C()("kubio-editor-wrapper",`kubio-editor-wrapper--media-${p}`)},Object(s.createElement)(Oe,{isActive:!0}),Object(s.createElement)(w.UnsavedChangesWarning,null),Object(s.createElement)(he.ShortcutProvider,null,Object(s.createElement)(v.SlotFillProvider,null,Object(s.createElement)(k.EntityProvider,{kind:"root",type:"site"},b&&Object(s.createElement)(k.EntityProvider,{kind:"postType",type:r,id:o},Object(s.createElement)(k.EntityProvider,{kind:"postType",type:"wp_global_styles",id:t},L)),!b&&L))),Object(s.createElement)("div",{id:"vue-main-instance"}),Object(s.createElement)(_a,null),I&&Object(s.createElement)(Dr,{blockContext:P,templateId:o,templateType:r,page:a}))})),Ta=n(120);Object(We.addFilter)("editor.MediaUpload","kubio/edit-site/components/media-upload",(()=>Ta.MediaUpload)),Object(We.addFilter)("editor.BlockEdit","kubio/advancedPanel",Yt.withInspectorControlsAdvancedPanel);var xa=n(219);const Ia={features:{fullscreenMode:!0}},Ca=Object(S.combineReducers)({features(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia.features,t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_FEATURE"===t.type?{...e,[t.feature]:!e[t.feature]}:e}});var Pa=Object(S.combineReducers)({preferences:Ca,deviceType:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Desktop",t=arguments.length>1?arguments[1]:void 0;return"SET_PREVIEW_DEVICE_TYPE"===t.type?t.deviceType:e},settings:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SETTINGS":return{...e,...t.settings};case"UPDATE_UI_VERSION":return eo()({path:Object(Ee.addQueryArgs)("/kubio/v1/update-ui-version",{version:t.version})}),{...e,kubioGlobalSettings:{...e.kubioGlobalSettings||{},editorUIVersion:t.version}}}return e},editedPost:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEMPLATE":case"SET_PAGE":return{type:"wp_template",id:t.templateId,page:t.page};case"SET_PAGE_CONTENT":return{page:t.page};case"SET_TEMPLATE_PART":return{type:"wp_template_part",id:t.templatePartId,page:{context:{}}}}return e},homeTemplateId:function(e,t){return"SET_HOME_TEMPLATE"===t.type?t.homeTemplateId:e},navigationPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{menu:Uo,isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NAVIGATION_PANEL_TO_MENU":return{...e,isOpen:!0,menu:t.menu};case"SET_IS_NAVIGATION_PANEL_OPENED":return{...e,menu:t.isOpen?e.menu:Uo,isOpen:t.isOpen};case"SET_IS_INSERTER_OPENED":return{...e,menu:e.isOpen&&t.isOpen?Uo:e.menu,isOpen:!t.isOpen&&e.isOpen}}return e},blockInserterPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NAVIGATION_PANEL_TO_MENU":return!1;case"SET_IS_NAVIGATION_PANEL_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return t.isOpen}return e},currentAncestor:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_CURRENT_ANCESTOR"===t.type?t.currentAncestor:e},templateId:function(e,t){switch(t.type){case"SET_TEMPLATE":case"ADD_TEMPLATE":case"SET_PAGE":case"SET_ENTITY":return t.templateId;case"SET_TEMPLATE_PART":return}return e},templatePartId:function(e,t){return"SET_TEMPLATE_PART"===t.type?t.templatePartId:e},templateType:function(e,t){switch(t.type){case"SET_TEMPLATE":case"ADD_TEMPLATE":case"SET_PAGE":case"SET_ENTITY":return"wp_template";case"SET_TEMPLATE_PART":return"wp_template_part"}return e},templateIds:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TEMPLATE":return[...e,t.templateId];case"REMOVE_TEMPLATE":return e.filter((e=>e!==t.templateId))}return e},templatePartIds:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e},page:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGE":case"SET_PAGE_CONTENT":case"SET_TEMPLATE":return t.page;case"SET_TEMPLATE_PART":return{context:{}}}return e},entity:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_ENTITY"===t.type?t.entity:e},showOnFront:function(e){return e},subSidebars:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SUBSIDEBAR":return e[t.areaIdentifier]?e:{...e,[t.areaIdentifier]:t.sidebar};case"REMOVE_SUBSIDEBAR":return{...e,[t.areaIdentifier]:!1}}return e},globalStyleEditing:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:void 0,previousEntity:null},t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_GLOBAL_STYLE_EDITING"===t.type?{...e,value:t.value,previousEntity:t.previousEntity}:e},openedInserter:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_IS_INSERTER_OPEN"===t.type?(t.options=t.options||{},Bt()(e,t)?e:{value:null==t?void 0:t.value,clientId:null==t?void 0:t.rootClientId,options:(null==t?void 0:t.options)||{}}):e},isGutentagDebug:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_GUTENTAG_DEBUG"===t.type?null==t?void 0:t.value:e},classicTemplate:function(e,t){switch(t.type){case"SET_PAGE":case"SET_PAGE_CONTENT":return{...e,id:null==t?void 0:t.classicTemplateId}}return e},listViewPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NAVIGATION_PANEL_TO_MENU":return!1;case"SET_IS_NAVIGATION_PANEL_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return!t.value&&e;case"SET_IS_LIST_VIEW_OPENED":return t.isOpen}return e}});const{select:Ra,dispatch:Na}=S.controls;function Aa(e){return{type:"TOGGLE_FEATURE",feature:e}}function Ba(e){return{type:"SET_PREVIEW_DEVICE_TYPE",deviceType:e}}function*Da(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o={templateSlug:t};if(!t){const t=yield S.controls.resolveSelect("core","getEntityRecord","postType","wp_template",e);o.templateSlug=null==t?void 0:t.slug}return{type:"SET_TEMPLATE",templateId:e,page:{context:n?{}:o}}}function*Ma(e){const t=yield S.controls.dispatch("core","saveEntityRecord","postType","wp_template",e);return{type:"SET_TEMPLATE",templateId:t.id,page:{context:{templateSlug:t.slug}}}}function*La(e){yield Object(xa.apiFetch)({path:`/wp/v2/templates/${e}`,method:"DELETE"});const t=yield S.controls.select(O.STORE_KEY,"getPage");yield S.controls.dispatch(O.STORE_KEY,"setPage",t)}function Fa(e){return{type:"SET_TEMPLATE_PART",templatePartId:e}}function za(e){return{type:"SET_HOME_TEMPLATE",homeTemplateId:e}}function*Ga(e,t){var n;let o,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e.path&&null!==(n=e.context)&&void 0!==n&&n.postId){const t=yield S.controls.resolveSelect("core","getEntityRecord","postType",e.context.postType||"post",e.context.postId);e.path=Object(Ee.getPathAndQueryString)(t.link)}if(!r)return void(yield{type:"SET_PAGE_CONTENT",page:e,classicTemplateId:""!==t?t:"page.php"});if(!t&&r&&(o=yield S.controls.resolveSelect("core","__experimentalGetTemplateForLink",e.path),!o))return void(yield{type:"SET_PAGE",page:e,templateId:null});const a=t||o,{id:i,slug:l}=a;return yield{type:"SET_PAGE",page:l?{...e,context:{...e.context,templateSlug:l}}:e,templateId:i},i}function*Ka(){const{show_on_front:e,page_on_front:t}=yield S.controls.resolveSelect("core","getEntityRecord","root","site"),{siteUrl:n}=yield S.controls.select(O.STORE_KEY,"getSettings"),o={path:n,context:"page"===e?{postType:"page",postId:t}:{}},r=yield*Ga(o);if(!r)return{type:"GUTENTAG_NO_ACTION"};yield za(r)}function Ha(e){return{type:"OPEN_NAVIGATION_PANEL_TO_MENU",menu:e}}function Va(e){return{type:"SET_IS_NAVIGATION_PANEL_OPENED",isOpen:e}}function Ua(e){return{type:"UPDATE_SETTINGS",settings:e}}function*$a(e){return yield Na("core/interface","enableComplementaryArea",`${O.STORE_KEY}/sidebars`,`${O.STORE_KEY}/sidebar/${e}`)}function*Ya(){return yield Na("core/interface","enableComplementaryArea",`${O.STORE_KEY}/sidebars`,`${O.STORE_KEY}/sidebar/block-inserter`)}function*Wa(e){let{areaIdentifier:t,sidebar:n}=e;return{type:"ADD_SUBSIDEBAR",sidebar:n,areaIdentifier:t}}function*qa(e){let{areaIdentifier:t}=e;return{type:"REMOVE_SUBSIDEBAR",areaIdentifier:t}}function*Xa(){yield Na("core/interface","disableComplementaryArea",`${O.STORE_KEY}/sidebars`)}function*Qa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:"TOGGLE_GLOBAL_STYLE_EDITING",value:e,previousEntity:t}}function*Za(e){return{type:"TOGGLE_GUTENTAG_DEBUG",value:e}}function*Ja(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:"TOGGLE_IS_INSERTER_OPEN",value:e,rootClientId:t||!1,options:{closeOnSelect:!1,replace:!1,...n}}}function ei(e){return{type:"SET_CURRENT_ANCESTOR",currentAncestor:e}}function ti(e){return{type:"SET_IS_LIST_VIEW_OPENED",isOpen:e}}function ni(e){return{type:"UPDATE_UI_VERSION",version:e}}var oi=n(51);const ri=Object.values(u.defaultTemplatesByPostType).map((e=>`${e}.php`));function ai(e,t){return"fullscreenMode"===t||Object(p.get)(e.preferences.features,[t],!1)}function ii(e){return e.deviceType}const li=Object(S.createRegistrySelector)((e=>()=>e("core").canUser("create","media"))),ci=Object(oi.a)(((e,t)=>{const n={...e.settings,outlineMode:!0,focusMode:ai(e,"focusMode"),hasFixedToolbar:ai(e,"fixedToolbar"),__experimentalSetIsInserterOpened:t};return li(e)?(n.mediaUpload=t=>{let{onError:n,...o}=t;Object(Ta.uploadMedia)({wpAllowedMimeTypes:e.settings.allowedMimeTypes,onError:e=>{let{message:t}=e;return n(t)},...o})},n):n}),(e=>[li(e),e.settings,ai(e,"focusMode"),ai(e,"fixedToolbar")]));function si(e){return e.homeTemplateId}function ui(e){return e.editedPost.type}function bi(e){return e.editedPost.id}function di(e){return e.editedPost.page}function pi(e){return e.navigationPanel.isOpen}function mi(e){var t;return null===(t=e.navigationPanel)||void 0===t?void 0:t.menu}function fi(e){return e.blockInserterPanel}function Oi(e){return e.templateId}function gi(e){return e.templatePartId}function hi(e){return e.templateType}function ji(e){return e.templateIds}function Ei(e){return e.templatePartIds}function vi(e){return e.entity}function yi(e){return e.showOnFront}const _i=Object(S.createRegistrySelector)((e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const o=e("core/interface").getActiveComplementaryArea(`${O.STORE_KEY}/sidebars`);return n?o===`${O.STORE_KEY}/sidebar/${n}`:!Object(p.isEmpty)(o)}));function ki(e){var t;return null===(t=e.openedInserter)||void 0===t?void 0:t.value}function Si(e){var t;return null===(t=e.openedInserter)||void 0===t?void 0:t.clientId}function wi(e){var t,n;return!(null===(t=e.openedInserter)||void 0===t||null===(n=t.options)||void 0===n||!n.replace)}function Ti(e){var t,n;return!(null===(t=e.openedInserter)||void 0===t||null===(n=t.options)||void 0===n||!n.closeOnSelect)}function xi(e){return e.currentAncestor}function Ii(){return Object(S.select)("core/interface").getActiveComplementaryArea(`${O.STORE_KEY}/sidebars`)}function Ci(e){return e.subSidebars}function Pi(e){return e.globalStyleEditing.value}function Ri(e){return e.globalStyleEditing.previousEntity}function Ni(e){return e.isGutentagDebug}function Ai(e){const{rootClientId:t,insertionIndex:n}=e.blockInserterPanel;return{rootClientId:t,insertionIndex:n}}function Bi(e){return e.listViewPanel}const Di=e=>{var t;const{templateId:n,templateType:o}=e;return n&&o&&(null===(t=Object(S.select)("core").getEditedEntityRecord("postType",o,n))||void 0===t?void 0:t.kubio_template_source)||null},Mi=e=>{var t;const n=null==e||null===(t=e.page)||void 0===t?void 0:t.context;let o=null;var r,a,i;null!=n&&n.postType&&null!=n&&n.postId?o=null!==(r=Object(S.select)("core").getEditedEntityRecord("postType",null==n?void 0:n.postType,null==n?void 0:n.postId).template)&&void 0!==r?r:null:o=null!==(a=null===(i=e.templateId)||void 0===i?void 0:i.split("//").pop())&&void 0!==a?a:null;const l=Object(S.select)("core").getEditedEntityRecord("root","site");if("page"===l.show_on_front&&l.page_on_front===parseInt(null==n?void 0:n.postId)){const e=Object(S.select)("core").getEntityRecords("postType","wp_template",{per_page:-1}).map((e=>{let{id:t}=e;return t.split("//").pop()})).includes("front-page"),{classicHasFrontPageTemplate:t}=Object(S.select)("core/block-editor").getSettings();if(e||t)return"front-page"}return""===o&&(o="page"===(null==n?void 0:n.postType)?"page":"single"),o},Li=e=>{const t=Mi(e);return!!t&&Object(S.select)("core").getEntityRecords("postType","wp_template",{per_page:-1}).map((e=>{let{id:t}=e;return t.split("//").pop()})).includes(t)},Fi=e=>{var t;const n=null==e||null===(t=e.page)||void 0===t?void 0:t.context;return(null==n?void 0:n.postType)||null},zi=e=>{var t;const n=null==e||null===(t=e.page)||void 0===t?void 0:t.context;return(null==n?void 0:n.postId)||null},Gi=e=>{var t;const n=null==e||null===(t=e.page)||void 0===t?void 0:t.context,o=Object(S.select)("core").getEditedEntityRecord("root","site"),r=null==o?void 0:o.page_for_posts;return parseInt(r)===parseInt(n.postId)},Ki=e=>{var t,n;const o=di(e),r="front-page"===(null==o||null===(t=o.context)||void 0===t?void 0:t.templateSlug),a=Object(S.select)("core").getEditedEntityRecord("root","site"),i=null==a?void 0:a.page_on_front,l=null==o||null===(n=o.context)||void 0===n?void 0:n.postId,c="page"===a.show_on_front&&parseInt(i)===parseInt(l);return r||c},Hi=e=>{const t=Object(S.select)("core").getEditedEntityRecord("root","site"),n=di(e),o=m.a.get(n,"context",{}),{postType:r,postId:a}=o,i="page"===(null==t?void 0:t.show_on_front),l=null==t?void 0:t.page_on_front,c=i&&parseInt(l)===parseInt(a),s=i&&parseInt(null==t?void 0:t.page_for_posts)===parseInt(a);return"page"===r&&!s&&!c},Vi=e=>{var t,n;const o=(null===(t=Object(S.select)("core").getEntityRecords("postType","wp_template",{per_page:-1}))||void 0===t?void 0:t.filter((e=>{let{slug:t}=e;return Object(u.currentTemplateIsPage)(t)})))||[],r=(null===(n=Object(S.select)("core/block-editor").getSettings())||void 0===n?void 0:n.classicThemeTemplates)||[],a=o.map((e=>{let{title:t,slug:n,kubio_template_source:o="custom"}=e;return{value:n,label:"kubio"===o?t.rendered.replace("Kubio","").trim():t.rendered,source:o}}));return Object.keys(r).forEach((e=>{const t=r[e];Object(p.find)(o,{slug:e.replace(".php","")})||a.push({value:ri.includes(e)?e.replace(".php",""):e,label:t,isClassicTemplate:!0,source:"theme"})})),a.forEach((e=>{"page"===e.value&&(e.value="")})),m.a.sortBy(a,["source","label"])};function Ui(e){var t;return null==e||null===(t=e.classicTemplate)||void 0===t?void 0:t.id}function $i(e){var t,n;const o=di(e),r=m.a.get(o,"context",{}),{postType:a,postId:i}=r,l=null===(t=Object(S.select)("core/block-editor").getSettings())||void 0===t||null===(n=t.kubioBasicWooCommerce)||void 0===n?void 0:n.pagesIds;if("product"===a)return!0;return Object.values(l||{}).includes(parseInt(i))}const Yi=Object(oi.a)((e=>{var t;const n=null===(t=e.settings)||void 0===t?void 0:t.kubioGlobalSettings;return(null==n?void 0:n.editorUIVersion)||1}),(e=>[e.settings])),Wi={reducer:Pa,actions:l,selectors:c,controls:xa.controls,persist:["preferences"]};var qi=Object(s.createElement)(R.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(s.createElement)(R.Path,{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"}));var Xi=function(e){let{icon:t}=e;if(!Object(S.useSelect)((e=>e(O.STORE_KEY).isFeatureActive("fullscreenMode")),[]))return null;const n=t||qi;return Object(s.createElement)(v.Button,{className:"edit-site-fullscreen-mode-close",icon:n,iconSize:36,href:"index.php",label:Object(T.__)("Back","kubio")})};function Qi(e,t){(t=Object(p.cloneDeep)(t)).__experimentalFetchLinkSuggestions=u.fetchLinkSuggestions,t.__experimentalSpotlightEntityBlocks=["core/template-part"];const n=new URLSearchParams(window.location.search);t.isGutentagDebug=!!n.get("kubio-debug");const o=t.state;delete t.state,o.settings=t,Object(b.registerCoreBlocks)(),Object(f.initFirebaseData)(),_.isFunction(b.__experimentalRegisterExperimentalCoreBlocks)&&Object(b.__experimentalRegisterExperimentalCoreBlocks)({enableFSEBlocks:!0});const r=wa;!async function(e){Object(S.registerStore)(je,{...Wi,initialState:e})}(o),Object(u.registerTemplateStore)(),Object(s.render)(Object(s.createElement)(s.StrictMode,null,Object(s.createElement)(r,{initialSettings:o.settings})),document.getElementById(e)),window.kubioToggleDebug=e=>{wp.data.dispatch("kubio/edit-site").toggleGutentagDebug(e)}}},55:function(e,t){!function(){e.exports=this.wp.deprecated}()},6:function(e,t){!function(){e.exports=this.wp.primitives}()},61:function(e,t){!function(){e.exports=this.wp.a11y}()},66:function(e,t){!function(){e.exports=this.wp.keyboardShortcuts}()},68:function(e,t){!function(){e.exports=this.kubio.blockLibrary}()},69:function(e,t){!function(){e.exports=this.ReactDOM}()},7:function(e,t,n){"use strict";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}n.d(t,"a",(function(){return o}))},71:function(e,t,n){"use strict";var o=n(43),r=n(73),a=n(77),i=n(78)||0;function l(){return r(i)}e.exports=l,e.exports.generate=l,e.exports.seed=function(t){return o.seed(t),e.exports},e.exports.worker=function(t){return i=t,e.exports},e.exports.characters=function(e){return void 0!==e&&o.characters(e),o.shuffled()},e.exports.isValid=a},72:function(e,t,n){"use strict";var o=1;e.exports={nextValue:function(){return(o=(9301*o+49297)%233280)/233280},seed:function(e){o=e}}},73:function(e,t,n){"use strict";var o,r,a=n(74);n(43);e.exports=function(e){var t="",n=Math.floor(.001*(Date.now()-1567752802062));return n===r?o++:(o=0,r=n),t+=a(7),t+=a(e),o>0&&(t+=a(o)),t+=a(n)}},74:function(e,t,n){"use strict";var o=n(43),r=n(75),a=n(76);e.exports=function(e){for(var t,n=0,i="";!t;)i+=a(r,o.get(),1),t=e<Math.pow(16,n+1),n++;return i}},75:function(e,t,n){"use strict";var o,r="object"==typeof window&&(window.crypto||window.msCrypto);o=r&&r.getRandomValues?function(e){return r.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},e.exports=o},76:function(e,t){e.exports=function(e,t,n){for(var o=(2<<Math.log(t.length-1)/Math.LN2)-1,r=-~(1.6*o*n/t.length),a="";;)for(var i=e(r),l=r;l--;)if((a+=t[i[l]&o]||"").length===+n)return a}},77:function(e,t,n){"use strict";var o=n(43);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6)&&!new RegExp("[^"+o.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e)}},78:function(e,t,n){"use strict";e.exports=0},8:function(e,t){!function(){e.exports=this.wp.data}()},80:function(e,t,n){"use strict";e.exports=function(e,t,n,o,r,a,i,l){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,o,r,a,i,l],u=0;(c=new Error(t.replace(/%s/g,(function(){return s[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},81:function(e,t){!function(){e.exports=this.wp.notices}()},86:function(e,t){!function(){e.exports=this.kubio.adminPanel}()},9:function(e,t){!function(){e.exports=this.kubio.styleManager}()},93:function(e,t){!function(){e.exports=this.kubio.advancedPanel}()}});
